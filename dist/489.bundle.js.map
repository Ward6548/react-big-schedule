{"version":3,"file":"489.bundle.js","mappings":"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","sources":["webpack://react-big-schedule/./src/examples/components/SourceCode.jsx","webpack://react-big-schedule/./src/examples/constants/index.js","webpack://react-big-schedule/./src/config/default.js","webpack://react-big-schedule/./src/sample-data/sample1.js","webpack://react-big-schedule/./src/components/DnDSource.js","webpack://react-big-schedule/./src/components/EventItemPopover.jsx","webpack://react-big-schedule/./src/components/EventItem.jsx","webpack://react-big-schedule/./src/components/AddMorePopover.jsx","webpack://react-big-schedule/./src/components/AgendaEventItem.jsx","webpack://react-big-schedule/./src/components/AgendaResourceEvents.jsx","webpack://react-big-schedule/./src/components/AgendaView.jsx","webpack://react-big-schedule/./src/components/BodyView.jsx","webpack://react-big-schedule/./src/components/DependencyOverlay.jsx","webpack://react-big-schedule/./src/helper/utility.js","webpack://react-big-schedule/./src/components/DnDContext.js","webpack://react-big-schedule/./src/components/HeaderView.jsx","webpack://react-big-schedule/./src/components/AddMore.jsx","webpack://react-big-schedule/./src/components/SelectedArea.jsx","webpack://react-big-schedule/./src/components/Summary.jsx","webpack://react-big-schedule/./src/components/ResourceEvents.jsx","webpack://react-big-schedule/./src/components/ResourceView.jsx","webpack://react-big-schedule/./src/config/scheduler.js","webpack://react-big-schedule/./src/config/i18n.js","webpack://react-big-schedule/./src/helper/behaviors.js","webpack://react-big-schedule/./src/components/SchedulerData.js","webpack://react-big-schedule/./src/components/SchedulerHeader.jsx","webpack://react-big-schedule/./src/components/WrapperFun.jsx","webpack://react-big-schedule/./src/components/index.jsx"],"sourcesContent":["import { Row } from 'antd';\nimport { Link } from 'react-router-dom';\n\nfunction SourceCode({ value }) {\n  return (\n    <Row align=\"middle\" justify=\"center\">\n      <Link to={value} target=\"_blank\">\n        &lt;/&gt; Source Code\n      </Link>\n    </Row>\n  );\n}\n\nexport default SourceCode;\n","const githubRepo = 'https://github.com/ansulagrawal/react-big-schedule';\n\n// Example paths\nconst addMorePath = 'blob/master/src/examples/pages/Add-More/index.jsx';\nconst basicPath = 'blob/master/src/examples/pages/Basic/index.jsx';\nconst readOnlyPath = 'blob/master/src/examples/pages/Read-Only/index.jsx';\nconst dragAndDropPath = 'blob/master/src/examples/pages/Drag-And-Drop/index.jsx';\nconst customTimePath = 'blob/master/src/examples/pages/Custom-Time/index.jsx';\nconst resizeParentPath = 'blob/master/src/examples/pages/Resize-By-Parent/index.jsx';\nconst dependenciesPath = 'blob/master/src/examples/pages/Dependencies/index.jsx';\nconst dependenciesTimePath = 'blob/master/src/examples/pages/Dependencies-Time/index.jsx';\nexport const URLS = {\n  githubRepo,\n  examples: {\n    basic: `${githubRepo}/${basicPath}`,\n    readOnly: `${githubRepo}/${readOnlyPath}`,\n    addMore: `${githubRepo}/${addMorePath}`,\n    dragAndDrop: `${githubRepo}/${dragAndDropPath}`,\n    customTime: `${githubRepo}/${customTimePath}`,\n    resizeByParent: `${githubRepo}/${resizeParentPath}`,\n    dependencies: `${githubRepo}/${dependenciesPath}`,\n    dependenciesTime: `${githubRepo}/${dependenciesTimePath}`,\n  },\n};\n","export const DATE_FORMAT = 'YYYY-MM-DD';\n\nexport const DATETIME_FORMAT = 'YYYY-MM-DD HH:mm:ss';\n\nexport const ViewType = { Day: 0, Week: 1, Month: 2, Quarter: 3, Year: 4, Custom: 5, Custom1: 6, Custom2: 7 };\n\nexport const CellUnit = { Day: 0, Hour: 1, Week: 2, Month: 3, Year: 4 };\n\nexport const SummaryPos = { Top: 0, TopRight: 1, TopLeft: 2, Bottom: 3, BottomRight: 4, BottomLeft: 5 };\n\nexport const DnDTypes = { EVENT: 'event' };\n","const DemoData = {\n  resources: [\n    { id: 'r0', name: 'Resource0', title: 'Resource 0', groupOnly: true },\n    { id: 'r1', name: 'Resource1', title: 'Resource 1', parentId: 'r0' },\n    { id: 'r2', name: 'Resource2', parentId: 'r3' },\n    { id: 'r3', name: 'Resource3', parentId: 'r1' },\n    { id: 'r4', name: 'Resource4' },\n    { id: 'r5', name: 'Resource5' },\n    { id: 'r6', name: 'Resource6' },\n    { id: 'r7', name: 'Resource7' },\n  ],\n  events: [\n    {\n      id: 1,\n      start: '2022-12-18 09:30:00',\n      end: '2022-12-19 23:30:00',\n      resourceId: 'r1',\n      title: 'I am finished',\n      bgColor: '#D9D9D9',\n      showPopover: false,\n    },\n    {\n      id: 2,\n      start: '2022-12-18 12:30:00',\n      end: '2022-12-26 23:30:00',\n      resourceId: 'r2',\n      title: 'I am not resizable',\n      resizable: false,\n    },\n    {\n      id: 3,\n      start: '2022-12-19 12:30:00',\n      end: '2022-12-20 23:30:00',\n      resourceId: 'r3',\n      title: 'I am not movable',\n      movable: false,\n    },\n    {\n      id: 4,\n      start: '2022-12-19 14:30:00',\n      end: '2022-12-20 23:30:00',\n      resourceId: 'r4',\n      title: 'I am not start-resizable',\n      startResizable: false,\n    },\n    {\n      id: 5,\n      start: '2022-12-19 15:30:00',\n      end: '2022-12-20 23:30:00',\n      resourceId: 'r5',\n      title: 'I am not end-resizable',\n      endResizable: false,\n    },\n    {\n      id: 6,\n      start: '2022-12-19 15:35:00',\n      end: '2022-12-19 23:30:00',\n      resourceId: 'r6',\n      title: 'I am normal',\n    },\n    {\n      id: 7,\n      start: '2022-12-19 15:40:00',\n      end: '2022-12-20 23:30:00',\n      resourceId: 'r7',\n      title: 'I am exceptional',\n      bgColor: '#FA9E95',\n    },\n    {\n      id: 8,\n      start: '2022-12-19 15:50:00',\n      end: '2022-12-19 23:30:00',\n      resourceId: 'r1',\n      title: 'I am locked',\n      movable: false,\n      resizable: false,\n      bgColor: 'red',\n    },\n    {\n      id: 9,\n      start: '2022-12-19 16:30:00',\n      end: '2022-12-27 23:30:00',\n      resourceId: 'r1',\n      title: 'R1 has many tasks 1',\n    },\n    {\n      id: 10,\n      start: '2022-12-19 17:30:00',\n      end: '2022-12-19 23:30:00',\n      resourceId: 'r1',\n      title: 'R1 has recurring tasks every week on Tuesday, Friday',\n      rrule: 'FREQ=WEEKLY;DTSTART=20221219T013000Z;BYDAY=TU,FR',\n      bgColor: '#f759ab',\n    },\n    {\n      id: 11,\n      start: '2022-12-19 18:30:00',\n      end: '2022-12-20 23:30:00',\n      resourceId: 'r1',\n      title: 'R1 has many tasks 3',\n    },\n    {\n      id: 12,\n      start: '2022-12-20 18:30:00',\n      end: '2022-12-20 23:30:00',\n      resourceId: 'r1',\n      title: 'R1 has many tasks 4',\n    },\n    {\n      id: 13,\n      start: '2022-12-21 18:30:00',\n      end: '2022-12-24 23:30:00',\n      resourceId: 'r1',\n      title: 'R1 has many tasks 5',\n    },\n    {\n      id: 14,\n      start: '2022-12-23 18:30:00',\n      end: '2022-12-27 23:30:00',\n      resourceId: 'r1',\n      title: 'R1 has many tasks 6',\n    },\n  ],\n  eventsForTaskView: [\n    {\n      id: 1,\n      start: '2022-12-18 09:30:00',\n      end: '2022-12-18 23:30:00',\n      resourceId: 'r1',\n      title: 'I am finished',\n      bgColor: '#D9D9D9',\n      groupId: 1,\n      groupName: 'Task1',\n    },\n    {\n      id: 2,\n      start: '2022-12-18 12:30:00',\n      end: '2022-12-26 23:30:00',\n      resourceId: 'r2',\n      title: 'I am not resizable',\n      resizable: false,\n      groupId: 2,\n      groupName: 'Task2',\n    },\n    {\n      id: 3,\n      start: '2022-12-19 12:30:00',\n      end: '2022-12-20 23:30:00',\n      resourceId: 'r3',\n      title: 'I am not movable',\n      movable: false,\n      groupId: 3,\n      groupName: 'Task3',\n    },\n    {\n      id: 7,\n      start: '2022-12-19 15:40:00',\n      end: '2022-12-20 23:30:00',\n      resourceId: 'r7',\n      title: 'I am exceptional',\n      bgColor: '#FA9E95',\n      groupId: 4,\n      groupName: 'Task4',\n    },\n    {\n      id: 4,\n      start: '2022-12-20 14:30:00',\n      end: '2022-12-21 23:30:00',\n      resourceId: 'r4',\n      title: 'I am not start-resizable',\n      startResizable: false,\n      groupId: 1,\n      groupName: 'Task1',\n    },\n    {\n      id: 5,\n      start: '2022-12-21 15:30:00',\n      end: '2022-12-22 23:30:00',\n      resourceId: 'r5',\n      title: 'I am not end-resizable',\n      endResizable: false,\n      groupId: 3,\n      groupName: 'Task3',\n    },\n    {\n      id: 9,\n      start: '2022-12-21 16:30:00',\n      end: '2022-12-21 23:30:00',\n      resourceId: 'r1',\n      title: 'R1 has many tasks',\n      groupId: 4,\n      groupName: 'Task4',\n    },\n    {\n      id: 6,\n      start: '2022-12-22 15:35:00',\n      end: '2022-12-23 23:30:00',\n      resourceId: 'r6',\n      title: 'I am normal',\n      groupId: 1,\n      groupName: 'Task1',\n    },\n    {\n      id: 8,\n      start: '2022-12-25 15:50:00',\n      end: '2022-12-26 23:30:00',\n      resourceId: 'r1',\n      title: 'I am locked',\n      movable: false,\n      resizable: false,\n      bgColor: 'red',\n      groupId: 1,\n      groupName: 'Task1',\n    },\n    {\n      id: 10,\n      start: '2022-12-26 18:30:00',\n      end: '2022-12-26 23:30:00',\n      resourceId: 'r2',\n      title: 'R2 has many tasks',\n      groupId: 4,\n      groupName: 'Task4',\n    },\n    {\n      id: 11,\n      start: '2022-12-27 18:30:00',\n      end: '2022-12-27 23:30:00',\n      resourceId: 'r4',\n      title: 'R4 has many tasks',\n      groupId: 4,\n      groupName: 'Task4',\n    },\n    {\n      id: 12,\n      start: '2022-12-28 18:30:00',\n      end: '2022-12-28 23:30:00',\n      resourceId: 'r6',\n      title: 'R6 has many tasks',\n      groupId: 3,\n      groupName: 'Task3',\n    },\n  ],\n  eventsForCustomEventStyle: [\n    {\n      id: 1,\n      start: '2022-12-18 09:30:00',\n      end: '2022-12-19 23:30:00',\n      resourceId: 'r1',\n      title: 'I am finished',\n      bgColor: '#D9D9D9',\n      type: 1,\n    },\n    {\n      id: 2,\n      start: '2022-12-18 12:30:00',\n      end: '2022-12-26 23:30:00',\n      resourceId: 'r2',\n      title: 'I am not resizable',\n      resizable: false,\n      type: 2,\n    },\n    {\n      id: 3,\n      start: '2022-12-19 12:30:00',\n      end: '2022-12-20 23:30:00',\n      resourceId: 'r3',\n      title: 'I am not movable',\n      movable: false,\n      type: 3,\n    },\n    {\n      id: 4,\n      start: '2022-12-19 14:30:00',\n      end: '2022-12-20 23:30:00',\n      resourceId: 'r4',\n      title: 'I am not start-resizable',\n      startResizable: false,\n      type: 1,\n    },\n    {\n      id: 5,\n      start: '2022-12-19 15:30:00',\n      end: '2022-12-20 23:30:00',\n      resourceId: 'r5',\n      title: 'I am not end-resizable',\n      endResizable: false,\n      type: 2,\n    },\n    {\n      id: 6,\n      start: '2022-12-19 15:35:00',\n      end: '2022-12-19 23:30:00',\n      resourceId: 'r6',\n      title: 'I am normal',\n      type: 3,\n    },\n    {\n      id: 7,\n      start: '2022-12-19 15:40:00',\n      end: '2022-12-20 23:30:00',\n      resourceId: 'r7',\n      title: 'I am exceptional',\n      bgColor: '#FA9E95',\n      type: 1,\n    },\n    {\n      id: 8,\n      start: '2022-12-19 15:50:00',\n      end: '2022-12-19 23:30:00',\n      resourceId: 'r1',\n      title: 'I am locked',\n      movable: false,\n      resizable: false,\n      bgColor: 'red',\n      type: 2,\n    },\n    {\n      id: 9,\n      start: '2022-12-19 16:30:00',\n      end: '2022-12-27 23:30:00',\n      resourceId: 'r1',\n      title: 'R1 has many tasks 1',\n      type: 3,\n    },\n    {\n      id: 10,\n      start: '2022-12-20 18:30:00',\n      end: '2022-12-20 23:30:00',\n      resourceId: 'r1',\n      title: 'R1 has many tasks 2',\n      type: 1,\n    },\n    {\n      id: 11,\n      start: '2022-12-21 18:30:00',\n      end: '2022-12-22 23:30:00',\n      resourceId: 'r1',\n      title: 'R1 has many tasks 3',\n      type: 2,\n    },\n    {\n      id: 12,\n      start: '2022-12-23 18:30:00',\n      end: '2022-12-27 23:30:00',\n      resourceId: 'r1',\n      title: 'R1 has many tasks 4',\n      type: 3,\n    },\n  ],\n};\n\nexport default DemoData;\n","import { DnDTypes, ViewType, DATETIME_FORMAT } from '../config/default';\n\nexport default class DnDSource {\n  constructor(resolveDragObjFunc, DnDEnabled, dndType = DnDTypes.EVENT) {\n    this.resolveDragObjFunc = resolveDragObjFunc;\n    this.dndType = dndType;\n    this.DnDEnabled = DnDEnabled;\n  }\n\n  getDragSpec = () => ({\n    // beginDrag: (props, monitor, component) => this.resolveDragObjFunc(props),\n    beginDrag: props => this.resolveDragObjFunc(props),\n    // endDrag: (props, monitor, component) => {\n    endDrag: (props, monitor) => {\n      if (!monitor.didDrop()) return;\n\n      const { moveEvent, newEvent, schedulerData } = props;\n      const { events, config, viewType, localeDayjs } = schedulerData;\n      const item = monitor.getItem();\n      const type = monitor.getItemType();\n      const dropResult = monitor.getDropResult();\n      let { slotId } = dropResult;\n      let { slotName } = dropResult;\n      let newStart = dropResult.start;\n      let newEnd = dropResult.end;\n      const { initialStart } = dropResult;\n      // const { initialEnd } = dropResult;\n      let action = 'New';\n\n      const isEvent = type === DnDTypes.EVENT;\n      if (isEvent) {\n        const event = item;\n        if (config.relativeMove) {\n          newStart = localeDayjs(event.start)\n            .add(localeDayjs(newStart).diff(localeDayjs(new Date(initialStart))), 'ms')\n            .format(DATETIME_FORMAT);\n        } else if (viewType !== ViewType.Day) {\n          const tmpDayjs = localeDayjs(newStart);\n          newStart = localeDayjs(event.start)\n            .year(tmpDayjs.year())\n            .month(tmpDayjs.month())\n            .date(tmpDayjs.date())\n            .format(DATETIME_FORMAT);\n        }\n        newEnd = localeDayjs(newStart)\n          .add(localeDayjs(event.end).diff(localeDayjs(event.start)), 'ms')\n          .format(DATETIME_FORMAT);\n\n        // if crossResourceMove disabled, slot returns old value\n        if (config.crossResourceMove === false) {\n          slotId = schedulerData._getEventSlotId(item);\n          slotName = undefined;\n          const slot = schedulerData.getSlotById(slotId);\n          if (slot) slotName = slot.name;\n        }\n\n        action = 'Move';\n      }\n\n      let hasConflict = false;\n      if (config.checkConflict) {\n        const start = localeDayjs(newStart);\n        const end = localeDayjs(newEnd);\n\n        events.forEach(e => {\n          if (schedulerData._getEventSlotId(e) === slotId && (!isEvent || e.id !== item.id)) {\n            const eStart = localeDayjs(e.start);\n            const eEnd = localeDayjs(e.end);\n            if (\n              (start >= eStart && start < eEnd) ||\n              (end > eStart && end <= eEnd) ||\n              (eStart >= start && eStart < end) ||\n              (eEnd > start && eEnd <= end)\n            )\n              hasConflict = true;\n          }\n        });\n      }\n\n      if (hasConflict) {\n        const { conflictOccurred } = props;\n        if (conflictOccurred !== undefined) {\n          conflictOccurred(schedulerData, action, item, type, slotId, slotName, newStart, newEnd);\n        } else {\n          console.log('Conflict occurred, set conflictOccurred func in Scheduler to handle it');\n        }\n      } else if (isEvent) {\n        if (moveEvent !== undefined) {\n          moveEvent(schedulerData, item, slotId, slotName, newStart, newEnd);\n        }\n      } else if (newEvent !== undefined) newEvent(schedulerData, slotId, slotName, newStart, newEnd, type, item);\n    },\n\n    canDrag: props => {\n      const { schedulerData, resourceEvents } = props;\n      const item = this.resolveDragObjFunc(props);\n      if (schedulerData._isResizing()) return false;\n      const { config } = schedulerData;\n      return (\n        config.movable &&\n        (resourceEvents === undefined || !resourceEvents.groupOnly) &&\n        (item.movable === undefined || item.movable !== false)\n      );\n    },\n  });\n\n  // Returns the drag specification for use with useDrag hook\n  // This should be called with props from the component using the hook\n  getDragOptions = props => {\n    const spec = this.getDragSpec();\n    return {\n      type: this.dndType,\n      item: () => spec.beginDrag(props),\n      end: (item, monitor) => spec.endDrag(props, monitor),\n      canDrag: () => spec.canDrag(props),\n      collect: monitor => ({\n        isDragging: monitor.isDragging(),\n      }),\n    };\n  };\n}\n","import { Col, Row } from 'antd';\nimport PropTypes from 'prop-types';\n\nfunction EventItemPopover({\n  schedulerData,\n  eventItem,\n  title,\n  startTime,\n  endTime,\n  statusColor,\n  subtitleGetter,\n  viewEventClick,\n  viewEventText,\n  viewEvent2Click,\n  viewEvent2Text,\n  eventItemPopoverTemplateResolver,\n}) {\n  const { localeDayjs, config } = schedulerData;\n  const start = localeDayjs(new Date(startTime));\n  const end = localeDayjs(new Date(endTime));\n\n  if (eventItemPopoverTemplateResolver) {\n    return eventItemPopoverTemplateResolver(schedulerData, eventItem, title, start, end, statusColor);\n  }\n\n  const subtitle = subtitleGetter ? subtitleGetter(schedulerData, eventItem) : null;\n  const showViewEvent = viewEventText && viewEventClick && (eventItem.clickable1 === undefined || eventItem.clickable1);\n  const showViewEvent2 =\n    viewEvent2Text && viewEvent2Click && (eventItem.clickable2 === undefined || eventItem.clickable2);\n\n  const renderViewEvent = (text, clickHandler, marginLeft = 0) => (\n    <button\n      className=\"header2-text rbs-txt-btn-dis\"\n      type=\"button\"\n      style={{ color: '#108EE9', cursor: 'pointer', marginLeft: `${marginLeft}px` }}\n      onClick={() => clickHandler(schedulerData, eventItem)}\n    >\n      {text}\n    </button>\n  );\n\n  return (\n    <div style={{ width: config.eventItemPopoverWidth }}>\n      <Row type=\"flex\" align=\"middle\">\n        {config.eventItemPopoverShowColor && (\n          <Col span={2}>\n            <div className=\"status-dot\" style={{ backgroundColor: statusColor }} />\n          </Col>\n        )}\n        <Col span={22} className=\"overflow-text\">\n          <span className=\"header2-text\" title={title}>\n            {title}\n          </span>\n        </Col>\n      </Row>\n      {subtitle && (\n        <Row type=\"flex\" align=\"middle\">\n          <Col span={2}>\n            <div />\n          </Col>\n          <Col span={22} className=\"overflow-text\">\n            <span className=\"header2-text\" title={subtitle}>\n              {subtitle}\n            </span>\n          </Col>\n        </Row>\n      )}\n      <Row type=\"flex\" align=\"middle\">\n        <Col span={2}>\n          <div />\n        </Col>\n        <Col span={22}>\n          <span className=\"header1-text\">{start.format('HH:mm')}</span>\n          {config.eventItemPopoverDateFormat && (\n            <span className=\"help-text\" style={{ marginLeft: '8px' }}>\n              {start.format(config.eventItemPopoverDateFormat)}\n            </span>\n          )}\n          <span className=\"header2-text\" style={{ marginLeft: '8px' }}>\n            -\n          </span>\n          <span className=\"header1-text\" style={{ marginLeft: '8px' }}>\n            {end.format('HH:mm')}\n          </span>\n          {config.eventItemPopoverDateFormat && (\n            <span className=\"help-text\" style={{ marginLeft: '8px' }}>\n              {end.format(config.eventItemPopoverDateFormat)}\n            </span>\n          )}\n        </Col>\n      </Row>\n      {(showViewEvent || showViewEvent2) && (\n        <Row type=\"flex\" align=\"middle\">\n          <Col span={2}>\n            <div />\n          </Col>\n          <Col span={22}>\n            {showViewEvent && renderViewEvent(viewEventText, viewEventClick)}\n            {showViewEvent2 && renderViewEvent(viewEvent2Text, viewEvent2Click, 16)}\n          </Col>\n        </Row>\n      )}\n    </div>\n  );\n}\n\nEventItemPopover.propTypes = {\n  schedulerData: PropTypes.object.isRequired,\n  eventItem: PropTypes.object.isRequired,\n  title: PropTypes.string.isRequired,\n  startTime: PropTypes.string.isRequired,\n  endTime: PropTypes.string.isRequired,\n  statusColor: PropTypes.string.isRequired,\n  subtitleGetter: PropTypes.func,\n  viewEventClick: PropTypes.func,\n  viewEventText: PropTypes.string,\n  viewEvent2Click: PropTypes.func,\n  viewEvent2Text: PropTypes.string,\n  eventItemPopoverTemplateResolver: PropTypes.func,\n};\n\nexport default EventItemPopover;\n","import { Popover } from 'antd';\nimport { PropTypes } from 'prop-types';\nimport { Component } from 'react';\nimport { useDrag } from 'react-dnd';\nimport { CellUnit, DATETIME_FORMAT, DnDTypes } from '../config/default';\nimport EventItemPopover from './EventItemPopover';\n\nconst stopDragHelper = ({ count, cellUnit, config, dragType, eventItem, localeDayjs, value }) => {\n  const whileTrue = true;\n  let tCount = 0;\n  let i = 0;\n  let result = value;\n  return new Promise(resolve => {\n    if (count !== 0 && cellUnit !== CellUnit.Hour && config.displayWeekend === false) {\n      while (whileTrue) {\n        i = count > 0 ? i + 1 : i - 1;\n        const date = localeDayjs(new Date(eventItem[dragType])).add(i, 'days');\n        const dayOfWeek = date.day();\n\n        if (dayOfWeek !== 0 && dayOfWeek !== 6) {\n          tCount = count > 0 ? tCount + 1 : tCount - 1;\n          if (tCount === count) {\n            result = date.format(DATETIME_FORMAT);\n            break;\n          }\n        }\n      }\n    }\n    resolve(result);\n  });\n};\n\nconst startResizable = ({ eventItem, isInPopover, schedulerData }) =>\n  schedulerData.config.startResizable === true &&\n  isInPopover === false &&\n  (eventItem.resizable === undefined || eventItem.resizable !== false) &&\n  (eventItem.startResizable === undefined || eventItem.startResizable !== false);\n\nconst endResizable = ({ eventItem, isInPopover, schedulerData }) =>\n  schedulerData.config.endResizable === true &&\n  isInPopover === false &&\n  (eventItem.resizable === undefined || eventItem.resizable !== false) &&\n  (eventItem.endResizable === undefined || eventItem.endResizable !== false);\n\nclass EventItem extends Component {\n  constructor(props) {\n    super(props);\n\n    const { left, top, width } = props;\n    this.state = { left, top, width, contentMousePosX: 0, eventItemLeftRect: 0, eventItemRightRect: 0 };\n    this.startResizer = undefined;\n    this.endResizer = undefined;\n\n    this.supportTouch = false; // 'ontouchstart' in window;\n\n    this.eventItemElement = null;\n    this._isMounted = false;\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.supportTouch = 'ontouchstart' in window;\n    this.subscribeResizeEvent(this.props);\n  }\n\n  componentDidUpdate(prevProps) {\n    const { left, top, width } = this.props;\n    if (prevProps.left !== left || prevProps.top !== top || prevProps.width !== width) {\n      this.setState({ left, top, width });\n    }\n\n    // Re-subscribe when resize-related props change\n    if (\n      prevProps.schedulerData !== this.props.schedulerData ||\n      prevProps.eventItem !== this.props.eventItem ||\n      prevProps.isInPopover !== this.props.isInPopover\n    ) {\n      this.subscribeResizeEvent(this.props);\n    }\n  }\n\n  eventItemRef = ref => {\n    this.eventItemElement = ref;\n    // Attach drag refs if they exist\n    const { dragRef, dragPreviewRef } = this.props;\n    if (dragRef && ref) {\n      dragRef(ref);\n    }\n    if (dragPreviewRef && ref) {\n      dragPreviewRef(ref);\n    }\n  };\n\n  resizerHelper = (dragType, eventType = 'addEventListener') => {\n    const resizer = dragType === 'start' ? this.startResizer : this.endResizer;\n    const doDrag = dragType === 'start' ? this.doStartDrag : this.doEndDrag;\n    const stopDrag = dragType === 'start' ? this.stopStartDrag : this.stopEndDrag;\n    const cancelDrag = dragType === 'start' ? this.cancelStartDrag : this.cancelEndDrag;\n    if (this.supportTouch) {\n      resizer[eventType]('touchmove', doDrag, false);\n      resizer[eventType]('touchend', stopDrag, false);\n      resizer[eventType]('touchcancel', cancelDrag, false);\n    } else {\n      document.documentElement[eventType]('mousemove', doDrag, false);\n      document.documentElement[eventType]('mouseup', stopDrag, false);\n    }\n  };\n\n  initDragHelper = (ev, dragType) => {\n    const { schedulerData, eventItem } = this.props;\n    const slotId = schedulerData._getEventSlotId(eventItem);\n    const slot = schedulerData.getSlotById(slotId);\n    if (!!slot && !!slot.groupOnly) return;\n    if (schedulerData._isResizing()) return;\n\n    ev.stopPropagation();\n    let clientX = 0;\n    if (this.supportTouch) {\n      if (ev.changedTouches.length === 0) return;\n      const touch = ev.changedTouches[0];\n      clientX = touch.pageX;\n    } else {\n      if (ev.buttons !== undefined && ev.buttons !== 1) return;\n      clientX = ev.clientX;\n    }\n    this.setState({ [dragType === 'start' ? 'startX' : 'endX']: clientX });\n\n    schedulerData._startResizing();\n    this.resizerHelper(dragType, 'addEventListener');\n    document.onselectstart = () => false;\n    document.ondragstart = () => false;\n  };\n\n  initStartDrag = ev => {\n    this.initDragHelper(ev, 'start');\n  };\n\n  doStartDrag = ev => {\n    ev.stopPropagation();\n\n    let clientX = 0;\n    if (this.supportTouch) {\n      if (ev.changedTouches.length === 0) return;\n      const touch = ev.changedTouches[0];\n      clientX = touch.pageX;\n    } else {\n      clientX = ev.clientX;\n    }\n    const { left, width, leftIndex, rightIndex, schedulerData } = this.props;\n    const cellWidth = schedulerData.getContentCellWidth();\n    const offset = leftIndex > 0 ? 5 : 6;\n    const minWidth = cellWidth - offset;\n    const maxWidth = rightIndex * cellWidth - offset;\n    const { startX } = this.state;\n    let newLeft = left + clientX - startX;\n    let newWidth = width + startX - clientX;\n    if (newWidth < minWidth) {\n      newWidth = minWidth;\n      newLeft = (rightIndex - 1) * cellWidth + (rightIndex - 1 > 0 ? 2 : 3);\n    } else if (newWidth > maxWidth) {\n      newWidth = maxWidth;\n      newLeft = 3;\n    }\n\n    this.setState({ left: newLeft, width: newWidth });\n  };\n\n  stopStartDrag = async ev => {\n    ev.stopPropagation();\n    this.resizerHelper('start', 'removeEventListener');\n    document.onselectstart = null;\n    document.ondragstart = null;\n    const { width, left, top, leftIndex, rightIndex, schedulerData, eventItem, updateEventStart, conflictOccurred } =\n      this.props;\n    schedulerData._stopResizing();\n    const { width: stateWidth } = this.state;\n    if (stateWidth === width) return;\n\n    let clientX = 0;\n    if (this.supportTouch) {\n      if (ev.changedTouches.length === 0) {\n        this.setState({ left, top, width });\n        return;\n      }\n      const touch = ev.changedTouches[0];\n      clientX = touch.pageX;\n    } else {\n      clientX = ev.clientX;\n    }\n    const { cellUnit, events, config, localeDayjs } = schedulerData;\n    const cellWidth = schedulerData.getContentCellWidth();\n    const offset = leftIndex > 0 ? 5 : 6;\n    const minWidth = cellWidth - offset;\n    const maxWidth = rightIndex * cellWidth - offset;\n    const { startX } = this.state;\n    const newWidth = width + startX - clientX;\n    const deltaX = clientX - startX;\n    let sign = 1;\n    if (deltaX < 0) {\n      sign = -1;\n    } else if (deltaX === 0) {\n      sign = 0;\n    }\n    let count = (sign > 0 ? Math.floor(Math.abs(deltaX) / cellWidth) : Math.ceil(Math.abs(deltaX) / cellWidth)) * sign;\n    if (newWidth < minWidth) count = rightIndex - leftIndex - 1;\n    else if (newWidth > maxWidth) count = -leftIndex;\n    let newStart = localeDayjs(new Date(eventItem.start))\n      .add(\n        cellUnit === CellUnit.Hour ? count * config.minuteStep : count,\n        cellUnit === CellUnit.Hour ? 'minutes' : 'days'\n      )\n      .format(DATETIME_FORMAT);\n\n    newStart = await stopDragHelper({\n      count,\n      cellUnit,\n      config,\n      eventItem,\n      localeDayjs,\n      dragType: 'start',\n      value: newStart,\n    });\n\n    let hasConflict = false;\n    const slotId = schedulerData._getEventSlotId(eventItem);\n    let slotName;\n    const slot = schedulerData.getSlotById(slotId);\n    if (slot) slotName = slot.name;\n    if (config.checkConflict) {\n      const start = localeDayjs(new Date(newStart));\n      const end = localeDayjs(new Date(eventItem.end));\n\n      events.forEach(e => {\n        if (schedulerData._getEventSlotId(e) === slotId && e.id !== eventItem.id) {\n          const eStart = localeDayjs(new Date(e.start));\n          const eEnd = localeDayjs(new Date(e.end));\n          if (\n            (start >= eStart && start < eEnd) ||\n            (end > eStart && end <= eEnd) ||\n            (eStart >= start && eStart < end) ||\n            (eEnd > start && eEnd <= end)\n          )\n            hasConflict = true;\n        }\n      });\n    }\n\n    if (hasConflict) {\n      this.setState({ left, top, width });\n\n      if (conflictOccurred !== undefined) {\n        conflictOccurred(\n          schedulerData,\n          'StartResize',\n          eventItem,\n          DnDTypes.EVENT,\n          slotId,\n          slotName,\n          newStart,\n          eventItem.end\n        );\n      } else {\n        console.log('Conflict occurred, set conflictOccurred func in Scheduler to handle it');\n      }\n      this.subscribeResizeEvent(this.props);\n    } else if (updateEventStart !== undefined) updateEventStart(schedulerData, eventItem, newStart);\n  };\n\n  cancelStartDrag = ev => {\n    ev.stopPropagation();\n\n    this.startResizer.removeEventListener('touchmove', this.doStartDrag, false);\n    this.startResizer.removeEventListener('touchend', this.stopStartDrag, false);\n    this.startResizer.removeEventListener('touchcancel', this.cancelStartDrag, false);\n    document.onselectstart = null;\n    document.ondragstart = null;\n    const { schedulerData, left, top, width } = this.props;\n    schedulerData._stopResizing();\n    this.setState({ left, top, width });\n  };\n\n  initEndDrag = ev => {\n    this.initDragHelper(ev, 'end');\n  };\n\n  doEndDrag = ev => {\n    ev.stopPropagation();\n    let clientX = 0;\n    if (this.supportTouch) {\n      if (ev.changedTouches.length === 0) return;\n      const touch = ev.changedTouches[0];\n      clientX = touch.pageX;\n    } else {\n      clientX = ev.clientX;\n    }\n    const { width, leftIndex, schedulerData } = this.props;\n    const { headers } = schedulerData;\n    const cellWidth = schedulerData.getContentCellWidth();\n    const offset = leftIndex > 0 ? 5 : 6;\n    const minWidth = cellWidth - offset;\n    const maxWidth = (headers.length - leftIndex) * cellWidth - offset;\n    const { endX } = this.state;\n\n    let newWidth = width + clientX - endX;\n    if (newWidth < minWidth) newWidth = minWidth;\n    else if (newWidth > maxWidth) newWidth = maxWidth;\n\n    this.setState({ width: newWidth });\n  };\n\n  stopEndDrag = async ev => {\n    ev.stopPropagation();\n    this.resizerHelper('end', 'removeEventListener');\n\n    document.onselectstart = null;\n    document.ondragstart = null;\n\n    const { left, top, width, leftIndex, rightIndex, schedulerData, eventItem, updateEventEnd, conflictOccurred } =\n      this.props;\n\n    schedulerData._stopResizing();\n    const { width: stateWidth } = this.state;\n\n    if (stateWidth === width) return;\n\n    let clientX = 0;\n    if (this.supportTouch) {\n      if (ev.changedTouches.length === 0) {\n        this.setState({ left, top, width });\n        return;\n      }\n      const touch = ev.changedTouches[0];\n      clientX = touch.pageX;\n    } else {\n      clientX = ev.clientX;\n    }\n    const { headers, cellUnit, events, config, localeDayjs } = schedulerData;\n\n    const cellWidth = schedulerData.getContentCellWidth();\n    const offset = leftIndex > 0 ? 5 : 6;\n    const minWidth = cellWidth - offset;\n    const maxWidth = (headers.length - leftIndex) * cellWidth - offset;\n    const { endX } = this.state;\n\n    const newWidth = width + clientX - endX;\n    const deltaX = newWidth - width;\n    let sign = 1;\n    if (deltaX < 0) {\n      sign = -1;\n    } else if (deltaX === 0) {\n      sign = 0;\n    }\n\n    let count = (sign < 0 ? Math.floor(Math.abs(deltaX) / cellWidth) : Math.ceil(Math.abs(deltaX) / cellWidth)) * sign;\n    if (newWidth < minWidth) count = leftIndex - rightIndex + 1;\n    else if (newWidth > maxWidth) count = headers.length - rightIndex;\n    let newEnd = localeDayjs(new Date(eventItem.end))\n      .add(\n        cellUnit === CellUnit.Hour ? count * config.minuteStep : count,\n        cellUnit === CellUnit.Hour ? 'minutes' : 'days'\n      )\n      .format(DATETIME_FORMAT);\n    newEnd = await stopDragHelper({\n      dragType: 'end',\n      cellUnit,\n      config,\n      count,\n      value: newEnd,\n      eventItem,\n      localeDayjs,\n    });\n\n    let hasConflict = false;\n    const slotId = schedulerData._getEventSlotId(eventItem);\n    const slot = schedulerData.getSlotById(slotId);\n\n    if (config.checkConflict) {\n      const start = localeDayjs(new Date(eventItem.start));\n      const end = localeDayjs(new Date(newEnd));\n\n      events.forEach(e => {\n        if (schedulerData._getEventSlotId(e) === slotId && e.id !== eventItem.id) {\n          const eStart = localeDayjs(new Date(e.start));\n          const eEnd = localeDayjs(new Date(e.end));\n          if (\n            (start >= eStart && start < eEnd) ||\n            (end > eStart && end <= eEnd) ||\n            (eStart >= start && eStart < end) ||\n            (eEnd > start && eEnd <= end)\n          ) {\n            hasConflict = true;\n          }\n        }\n      });\n    }\n\n    if (hasConflict) {\n      this.setState({ left, top, width });\n\n      if (conflictOccurred !== undefined) {\n        conflictOccurred(\n          schedulerData,\n          'EndResize',\n          eventItem,\n          DnDTypes.EVENT,\n          slotId,\n          slot ? slot.name : null,\n          eventItem.start,\n          newEnd\n        );\n      } else {\n        console.error('Conflict occurred, set conflictOccurred func in Scheduler to handle it');\n      }\n      this.subscribeResizeEvent(this.props);\n    } else if (updateEventEnd !== undefined) {\n      updateEventEnd(schedulerData, eventItem, newEnd);\n    }\n  };\n\n  cancelEndDrag = ev => {\n    ev.stopPropagation();\n\n    this.endResizer.removeEventListener('touchmove', this.doEndDrag, false);\n    this.endResizer.removeEventListener('touchend', this.stopEndDrag, false);\n    this.endResizer.removeEventListener('touchcancel', this.cancelEndDrag, false);\n    document.onselectstart = null;\n    document.ondragstart = null;\n    const { schedulerData, left, top, width } = this.props;\n    schedulerData._stopResizing();\n    this.setState({ left, top, width });\n  };\n\n  handleMouseMove = event => {\n    const rect = this.eventItemElement ? this.eventItemElement.getBoundingClientRect() : { left: 0, right: 0 };\n    this.setState({\n      contentMousePosX: event.clientX,\n      eventItemLeftRect: rect.left,\n      eventItemRightRect: rect.right,\n    });\n  };\n\n  subscribeResizeEvent = props => {\n    if (this.startResizer !== undefined && this.startResizer !== null) {\n      if (this.supportTouch) {\n        // this.startResizer.removeEventListener('touchstart', this.initStartDrag, false);\n        // if (startResizable(props))\n        //     this.startResizer.addEventListener('touchstart', this.initStartDrag, false);\n      } else {\n        this.startResizer.removeEventListener('mousedown', this.initStartDrag, false);\n        if (startResizable(props)) this.startResizer.addEventListener('mousedown', this.initStartDrag, false);\n      }\n    }\n    if (this.endResizer !== undefined && this.endResizer !== null) {\n      if (this.supportTouch) {\n        // this.endResizer.removeEventListener('touchstart', this.initEndDrag, false);\n        // if (endResizable(props))\n        //     this.endResizer.addEventListener('touchstart', this.initEndDrag, false);\n      } else {\n        this.endResizer.removeEventListener('mousedown', this.initEndDrag, false);\n        if (endResizable(props)) this.endResizer.addEventListener('mousedown', this.initEndDrag, false);\n      }\n    }\n  };\n\n  render() {\n    const {\n      eventItem,\n      isStart,\n      isEnd,\n      isInPopover,\n      eventItemClick,\n      schedulerData,\n      isDragging,\n      eventItemTemplateResolver,\n    } = this.props;\n    const { config, localeDayjs } = schedulerData;\n    const { left, width, top } = this.state;\n    let roundCls;\n    const popoverPlacement = config.eventItemPopoverPlacement;\n    const isPopoverPlacementMousePosition = /(top|bottom)(Right|Left)MousePosition/.test(popoverPlacement);\n\n    if (isStart) {\n      roundCls = isEnd ? 'round-all' : 'round-head';\n    } else {\n      roundCls = isEnd ? 'round-tail' : 'round-none';\n    }\n    let bgColor = config.defaultEventBgColor;\n\n    if (eventItem.bgColor) bgColor = eventItem.bgColor;\n\n    const titleText = schedulerData.behaviors.getEventTextFunc(schedulerData, eventItem);\n    const content = (\n      <EventItemPopover\n        {...this.props}\n        eventItem={eventItem}\n        title={eventItem.title}\n        startTime={eventItem.start}\n        endTime={eventItem.end}\n        statusColor={bgColor}\n      />\n    );\n\n    const start = localeDayjs(new Date(eventItem.start));\n    const eventTitle = isInPopover ? `${start.format('HH:mm')} ${titleText}` : titleText;\n    let startResizeDiv = <div />;\n    if (startResizable(this.props))\n      startResizeDiv = <div className=\"event-resizer event-start-resizer\" ref={ref => (this.startResizer = ref)} />;\n    let endResizeDiv = <div />;\n    if (endResizable(this.props))\n      endResizeDiv = <div className=\"event-resizer event-end-resizer\" ref={ref => (this.endResizer = ref)} />;\n\n    let eventItemTemplate = (\n      <div\n        className={`${roundCls} event-item`}\n        key={eventItem.id}\n        style={{ height: config.eventItemHeight, backgroundColor: bgColor }}\n      >\n        <span style={{ marginLeft: '10px', lineHeight: `${config.eventItemHeight}px` }}>{eventTitle}</span>\n      </div>\n    );\n    if (eventItemTemplateResolver !== undefined) {\n      eventItemTemplate = eventItemTemplateResolver(\n        schedulerData,\n        eventItem,\n        bgColor,\n        isStart,\n        isEnd,\n        'event-item',\n        config.eventItemHeight,\n        undefined\n      );\n    }\n\n    const a = (\n      <a\n        className=\"timeline-event\"\n        data-event-id={eventItem.id}\n        ref={this.eventItemRef}\n        onMouseMove={isPopoverPlacementMousePosition ? this.handleMouseMove : undefined}\n        style={{ left, width, top }}\n        onClick={() => {\n          if (eventItemClick) eventItemClick(schedulerData, eventItem);\n        }}\n      >\n        {eventItemTemplate}\n        {startResizeDiv}\n        {endResizeDiv}\n      </a>\n    );\n\n    const getMousePositionOptionsData = () => {\n      let popoverOffsetX = 0;\n      let mousePositionPlacement = '';\n\n      if (isPopoverPlacementMousePosition) {\n        const isMousePositionPlacementLeft = popoverPlacement.includes('Left');\n        const { contentMousePosX } = this.state;\n        const popoverWidth = config.eventItemPopoverWidth;\n        const { eventItemLeftRect } = this.state;\n        const { eventItemRightRect } = this.state;\n        let eventItemMousePosX = isMousePositionPlacementLeft ? eventItemLeftRect : eventItemRightRect;\n        let posAdjustControl = isMousePositionPlacementLeft ? 1 : -1;\n\n        mousePositionPlacement = popoverPlacement.replace('MousePosition', '');\n\n        const distance = 10;\n\n        if (isMousePositionPlacementLeft && this._isMounted) {\n          if (contentMousePosX + popoverWidth + distance > window.innerWidth) {\n            mousePositionPlacement = `${popoverPlacement.replace(/(Right|Left).*/, '')}Right`;\n            eventItemMousePosX = eventItemRightRect;\n            posAdjustControl = -1;\n          }\n        } else if (contentMousePosX - popoverWidth - distance < 0) {\n          mousePositionPlacement = `${popoverPlacement.replace(/(Right|Left).*/, '')}Left`;\n          eventItemMousePosX = eventItemLeftRect;\n          posAdjustControl = 1;\n        }\n\n        popoverOffsetX = contentMousePosX - eventItemMousePosX - 20 * posAdjustControl;\n      }\n\n      return { popoverOffsetX, mousePositionPlacement };\n    };\n\n    const { popoverOffsetX, mousePositionPlacement } = getMousePositionOptionsData();\n\n    const aItem = a;\n\n    if (\n      isDragging\n        ? null\n        : schedulerData._isResizing() || config.eventItemPopoverEnabled === false || eventItem.showPopover === false\n    ) {\n      return <div>{aItem}</div>;\n    }\n\n    return (\n      <Popover\n        motion={isPopoverPlacementMousePosition ? '' : undefined}\n        align={\n          isPopoverPlacementMousePosition\n            ? { offset: [popoverOffsetX, popoverPlacement.includes('top') ? -10 : 10], overflow: {} }\n            : undefined\n        }\n        placement={isPopoverPlacementMousePosition ? mousePositionPlacement : popoverPlacement}\n        content={content}\n        trigger={config.eventItemPopoverTrigger}\n      >\n        {aItem}\n      </Popover>\n    );\n  }\n}\n\n// Wrapper component to use useDrag hook\nfunction EventItemWithDnD(props) {\n  const { dndSource } = props;\n\n  // Always call useDrag unconditionally (Rules of Hooks)\n  // Disable functionality when dndSource is not provided\n  const [{ isDragging }, dragRef, dragPreviewRef] = useDrag(() => {\n    // If dndSource is not provided, return a no-op spec\n    if (!dndSource) {\n      return {\n        type: '__NONE__',\n        canDrag: () => false,\n        collect: () => ({ isDragging: false }),\n      };\n    }\n\n    // Get drag options from dndSource\n    return dndSource.getDragOptions(props);\n  }, [props, dndSource]);\n\n  return <EventItem {...props} isDragging={isDragging} dragRef={dragRef} dragPreviewRef={dragPreviewRef} />;\n}\n\nEventItemWithDnD.propTypes = {\n  schedulerData: PropTypes.object.isRequired,\n  dndSource: PropTypes.object,\n};\n\nEventItemWithDnD.defaultProps = {\n  dndSource: undefined,\n};\n\nEventItemWithDnD.displayName = 'EventItemWithDnD';\n\nexport default EventItemWithDnD;\n\nEventItem.propTypes = {\n  schedulerData: PropTypes.object.isRequired,\n  eventItem: PropTypes.object.isRequired,\n  isStart: PropTypes.bool.isRequired,\n  isEnd: PropTypes.bool.isRequired,\n  left: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  top: PropTypes.number.isRequired,\n  isInPopover: PropTypes.bool.isRequired,\n  leftIndex: PropTypes.number.isRequired,\n  rightIndex: PropTypes.number.isRequired,\n  isDragging: PropTypes.bool,\n  dragRef: PropTypes.func,\n  dragPreviewRef: PropTypes.func,\n  updateEventStart: PropTypes.func,\n  updateEventEnd: PropTypes.func,\n  moveEvent: PropTypes.func,\n  subtitleGetter: PropTypes.func,\n  eventItemClick: PropTypes.func,\n  viewEventClick: PropTypes.func,\n  viewEventText: PropTypes.string,\n  viewEvent2Click: PropTypes.func,\n  viewEvent2Text: PropTypes.string,\n  conflictOccurred: PropTypes.func,\n  eventItemTemplateResolver: PropTypes.func,\n};\n\nEventItem.defaultProps = {\n  isDragging: undefined,\n  dragRef: undefined,\n  dragPreviewRef: undefined,\n  updateEventStart: undefined,\n  updateEventEnd: undefined,\n  moveEvent: undefined,\n  subtitleGetter: undefined,\n  eventItemClick: undefined,\n  viewEventClick: undefined,\n  viewEventText: undefined,\n  viewEvent2Click: undefined,\n  viewEvent2Text: undefined,\n  conflictOccurred: undefined,\n  eventItemTemplateResolver: undefined,\n};\n","import { CloseOutlined } from '@ant-design/icons';\nimport { Col, Row } from 'antd';\nimport PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport DnDSource from './DnDSource';\nimport EventItem from './EventItem';\n\nfunction AddMorePopover(props) {\n  const { schedulerData, headerItem, left, top, height, closeAction } = props;\n  const { config, localeDayjs } = schedulerData;\n  const { time, start, end, events } = headerItem;\n\n  const [dndSource] = useState(new DnDSource(p => p.eventItem, schedulerData.config.dragAndDropEnabled));\n\n  const header = localeDayjs(new Date(time)).format(config.addMorePopoverHeaderFormat);\n  const durationStart = localeDayjs(new Date(start));\n  const durationEnd = localeDayjs(end);\n  const eventList = events.map((evt, i) => {\n    if (evt !== undefined) {\n      const eventStart = localeDayjs(evt.eventItem.start);\n      const eventEnd = localeDayjs(evt.eventItem.end);\n      const isStart = eventStart >= durationStart;\n      const isEnd = eventEnd < durationEnd;\n      const eventItemTop = 12 + (i + 1) * config.eventItemLineHeight;\n\n      return (\n        <EventItem\n          {...props}\n          key={evt.eventItem.id}\n          eventItem={evt.eventItem}\n          dndSource={dndSource}\n          leftIndex={0}\n          isInPopover\n          isStart={isStart}\n          isEnd={isEnd}\n          rightIndex={1}\n          left={10}\n          width={138}\n          top={eventItemTop}\n        />\n      );\n    }\n    return null;\n  });\n\n  return (\n    <div className=\"rbs-add-more-popover-overlay\" style={{ left, top, height, minWidth: '170px' }}>\n      <Row justify=\"space-between\" align=\"middle\">\n        <Col span={22}>\n          <span className=\"base-text\">{header}</span>\n        </Col>\n        <Col span={2}>\n          <button type=\"button\" onClick={() => closeAction(undefined)}>\n            <CloseOutlined />\n          </button>\n        </Col>\n      </Row>\n      {eventList?.filter(Boolean)}\n    </div>\n  );\n}\n\nAddMorePopover.propTypes = {\n  schedulerData: PropTypes.object.isRequired,\n  headerItem: PropTypes.object.isRequired,\n  left: PropTypes.number.isRequired,\n  top: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  closeAction: PropTypes.func.isRequired,\n  subtitleGetter: PropTypes.func,\n  moveEvent: PropTypes.func,\n  eventItemClick: PropTypes.func,\n  viewEventClick: PropTypes.func,\n  viewEventText: PropTypes.string,\n  viewEvent2Click: PropTypes.func,\n  viewEvent2Text: PropTypes.string,\n  eventItemTemplateResolver: PropTypes.func,\n};\n\nexport default AddMorePopover;\n","import { Popover } from 'antd';\nimport PropTypes from 'prop-types';\nimport EventItemPopover from './EventItemPopover';\n\nfunction AgendaEventItem(props) {\n  const { eventItem, isStart, isEnd, eventItemClick, schedulerData, eventItemTemplateResolver } = props;\n  const { config, behaviors } = schedulerData;\n\n  let roundCls = 'round-none';\n  if (isStart && isEnd) {\n    roundCls = 'round-all';\n  } else if (isStart) {\n    roundCls = 'round-head';\n  } else if (isEnd) {\n    roundCls = 'round-tail';\n  }\n\n  const backgroundColor = eventItem.bgColor || config.defaultEventBgColor;\n  const titleText = behaviors.getEventTextFunc(schedulerData, eventItem);\n\n  const eventItemStyle = { height: config.eventItemHeight, maxWidth: config.agendaMaxEventWidth, backgroundColor };\n\n  let eventItemTemplate = (\n    <div className={`${roundCls} event-item`} key={eventItem.id} style={eventItemStyle}>\n      <span style={{ marginLeft: '10px', lineHeight: `${config.eventItemHeight}px` }}>{titleText}</span>\n    </div>\n  );\n\n  if (eventItemTemplateResolver) {\n    eventItemTemplate = eventItemTemplateResolver(\n      schedulerData,\n      eventItem,\n      backgroundColor,\n      isStart,\n      isEnd,\n      'event-item',\n      config.eventItemHeight,\n      config.agendaMaxEventWidth\n    );\n  }\n\n  const handleClick = () => eventItemClick?.(schedulerData, eventItem);\n\n  const eventLink = (\n    <button type=\"button\" className=\"day-event rbs-txt-btn-dis\" onClick={handleClick}>\n      {eventItemTemplate}\n    </button>\n  );\n\n  const content = (\n    <EventItemPopover\n      {...props}\n      title={eventItem.title}\n      startTime={eventItem.start}\n      endTime={eventItem.end}\n      statusColor={backgroundColor}\n    />\n  );\n\n  return config.eventItemPopoverEnabled ? (\n    <Popover placement=\"bottomLeft\" content={content} trigger=\"hover\" overlayClassName=\"scheduler-agenda-event-popover\">\n      {eventLink}\n    </Popover>\n  ) : (\n    <span>{eventLink}</span>\n  );\n}\n\nAgendaEventItem.propTypes = {\n  schedulerData: PropTypes.object.isRequired,\n  eventItem: PropTypes.object.isRequired,\n  isStart: PropTypes.bool.isRequired,\n  isEnd: PropTypes.bool.isRequired,\n  subtitleGetter: PropTypes.func,\n  eventItemClick: PropTypes.func,\n  viewEventClick: PropTypes.func,\n  viewEventText: PropTypes.string,\n  viewEvent2Click: PropTypes.func,\n  viewEvent2Text: PropTypes.string,\n  eventItemTemplateResolver: PropTypes.func,\n};\n\nexport default AgendaEventItem;\n","import PropTypes from 'prop-types';\nimport AgendaEventItem from './AgendaEventItem';\n\nfunction AgendaResourceEvents(props) {\n  const { schedulerData, resourceEvents, slotClickedFunc, slotItemTemplateResolver } = props;\n  const { startDate, endDate, config, localeDayjs } = schedulerData;\n  const width = schedulerData.getResourceTableWidth() - 2;\n\n  const events = resourceEvents.headerItems.flatMap(item => {\n    const start = localeDayjs(new Date(startDate));\n    const end = localeDayjs(endDate).add(1, 'days');\n    const headerStart = localeDayjs(new Date(item.start));\n    const headerEnd = localeDayjs(new Date(item.end));\n    if (start === headerStart && end === headerEnd) {\n      return item.events.map(evt => {\n        const durationStart = localeDayjs(new Date(startDate));\n        const durationEnd = localeDayjs(endDate).add(1, 'days');\n        const eventStart = localeDayjs(evt.eventItem.start);\n        const eventEnd = localeDayjs(evt.eventItem.end);\n        const isStart = eventStart >= durationStart;\n        const isEnd = eventEnd < durationEnd;\n        return (\n          <AgendaEventItem\n            {...props}\n            key={evt.eventItem.id}\n            eventItem={evt.eventItem}\n            isStart={isStart}\n            isEnd={isEnd}\n          />\n        );\n      });\n    }\n    return [];\n  });\n\n  const slotItemContent = slotClickedFunc ? (\n    <button className=\"rbs-txt-btn-dis\" type=\"button\" onClick={() => slotClickedFunc(schedulerData, resourceEvents)}>\n      {resourceEvents.slotName}\n    </button>\n  ) : (\n    <span>{resourceEvents.slotName}</span>\n  );\n\n  let slotItem = (\n    <div\n      style={{ width }}\n      title={resourceEvents.slotTitle || resourceEvents.slotName}\n      className=\"overflow-text header2-text\"\n    >\n      {slotItemContent}\n    </div>\n  );\n\n  if (slotItemTemplateResolver) {\n    const temp = slotItemTemplateResolver(\n      schedulerData,\n      resourceEvents,\n      slotClickedFunc,\n      width,\n      'overflow-text header2-text'\n    );\n\n    if (temp) {\n      slotItem = temp;\n    }\n  }\n\n  return (\n    <tr style={{ minHeight: config.eventItemLineHeight + 2 }}>\n      <td data-resource-id={resourceEvents.slotId}>{slotItem}</td>\n      <td>\n        <div className=\"day-event-container\">{events}</div>\n      </td>\n    </tr>\n  );\n}\n\nAgendaResourceEvents.propTypes = {\n  schedulerData: PropTypes.object.isRequired,\n  resourceEvents: PropTypes.object.isRequired,\n  subtitleGetter: PropTypes.func,\n  eventItemClick: PropTypes.func,\n  viewEventClick: PropTypes.func,\n  viewEventText: PropTypes.string,\n  viewEvent2Click: PropTypes.func,\n  viewEvent2Text: PropTypes.string,\n  slotClickedFunc: PropTypes.func,\n  slotItemTemplateResolver: PropTypes.func,\n};\n\nexport default AgendaResourceEvents;\n","import PropTypes from 'prop-types';\nimport AgendaResourceEvents from './AgendaResourceEvents';\n\nfunction AgendaView(props) {\n  const { schedulerData } = props;\n  const { config, renderData } = schedulerData;\n\n  const agendaResourceTableWidth = schedulerData.getResourceTableWidth();\n  const tableHeaderHeight = schedulerData.getTableHeaderHeight();\n  const resourceName = schedulerData.isEventPerspective ? config.taskName : config.resourceName;\n  const { agendaViewHeader } = config;\n\n  const resourceEventsList = renderData.map(item => (\n    <AgendaResourceEvents {...props} resourceEvents={item} key={item.slotId} />\n  ));\n\n  return (\n    <tr>\n      <td>\n        <table className=\"scheduler-table\">\n          <thead>\n            <tr style={{ height: tableHeaderHeight }}>\n              <th style={{ width: agendaResourceTableWidth }} className=\"header3-text\">\n                {resourceName}\n              </th>\n              <th className=\"header3-text\">{agendaViewHeader}</th>\n            </tr>\n          </thead>\n          <tbody>{resourceEventsList}</tbody>\n        </table>\n      </td>\n    </tr>\n  );\n}\n\nAgendaView.propTypes = {\n  schedulerData: PropTypes.object.isRequired,\n  subtitleGetter: PropTypes.func,\n  eventItemClick: PropTypes.func,\n  viewEventClick: PropTypes.func,\n  viewEventText: PropTypes.string,\n  viewEvent2Click: PropTypes.func,\n  viewEvent2Text: PropTypes.string,\n  slotClickedFunc: PropTypes.func,\n};\n\nexport default AgendaView;\n","import PropTypes from 'prop-types';\n\nfunction BodyView({ schedulerData }) {\n  const { renderData, headers, config, behaviors } = schedulerData;\n  const width = schedulerData.getContentCellWidth();\n\n  const tableRows = renderData\n    .filter(o => o.render)\n    .map(({ slotId, groupOnly, rowHeight }) => {\n      const rowCells = headers.map((header, index) => {\n        const key = `${slotId}_${header.time}`;\n        const style = index === headers.length - 1 ? {} : { width };\n        if (header.nonWorkingTime) {\n          style.backgroundColor = config.nonWorkingTimeBodyBgColor;\n        }\n        if (groupOnly) {\n          style.backgroundColor = config.groupOnlySlotColor;\n        }\n        if (behaviors.getNonAgendaViewBodyCellBgColorFunc) {\n          const cellBgColor = behaviors.getNonAgendaViewBodyCellBgColorFunc(schedulerData, slotId, header);\n          if (cellBgColor) {\n            style.backgroundColor = cellBgColor;\n          }\n        }\n        return (\n          <td key={key} style={style}>\n            <div />\n          </td>\n        );\n      });\n\n      return (\n        <tr key={slotId} style={{ height: rowHeight }}>\n          {rowCells}\n        </tr>\n      );\n    });\n\n  return <tbody>{tableRows}</tbody>;\n}\n\nBodyView.propTypes = {\n  schedulerData: PropTypes.object.isRequired,\n};\n\nexport default BodyView;\n","import PropTypes from 'prop-types';\nimport { useEffect, useLayoutEffect, useRef, useState } from 'react';\n\n// Shallow structural comparison to avoid unnecessary state updates\nconst segmentsEqual = (a, b) => {\n  if (a === b) return true;\n  if (!a || !b) return false;\n  if (a.length !== b.length) return false;\n\n  // Compare the minimal fields that affect rendering\n  for (let i = 0; i < a.length; i += 1) {\n    const sa = a[i];\n    const sb = b[i];\n    if (!sb) return false;\n    if (sa.key !== sb.key) return false;\n    if (sa.color !== sb.color) return false;\n    if (sa.pathD !== sb.pathD) return false;\n    if (!sa.arrow || !sb.arrow) return false;\n    if (\n      sa.arrow.tipX !== sb.arrow.tipX ||\n      sa.arrow.tipY !== sb.arrow.tipY ||\n      sa.arrow.baseX !== sb.arrow.baseX ||\n      sa.arrow.size !== sb.arrow.size\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * Global overlay that renders dependency arrows between events,\n * potentially across different resources/lanes.\n *\n * It inspects the DOM for `.timeline-event` elements that have\n * a `data-event-id` attribute and draws SVG connectors between\n * matching `fromId`/`toId` pairs.\n */\nfunction DependencyOverlay({ dependencies }) {\n  const overlayRef = useRef(null);\n  const [segments, setSegments] = useState([]);\n  const [layoutVersion, setLayoutVersion] = useState(0);\n\n  // Recalculate positions when the scroll container scrolls or the window resizes\n  useEffect(() => {\n    const overlayEl = overlayRef.current;\n    if (!overlayEl) return undefined;\n\n    // scrollContainer is the div with overflow that wraps the scheduler content\n    const scrollContainer = overlayEl.parentElement?.parentElement?.parentElement;\n    if (!scrollContainer) return undefined;\n\n    const handleLayoutChange = () => {\n      setLayoutVersion(prev => prev + 1);\n    };\n\n    scrollContainer.addEventListener('scroll', handleLayoutChange);\n    window.addEventListener('resize', handleLayoutChange);\n\n    // Kick one or two initial recalculations so we catch late layout changes\n    // (fonts, header height, async content) even before the user scrolls.\n    handleLayoutChange();\n    const timerId = setTimeout(handleLayoutChange, 50);\n\n    return () => {\n      scrollContainer.removeEventListener('scroll', handleLayoutChange);\n      window.removeEventListener('resize', handleLayoutChange);\n      clearTimeout(timerId);\n    };\n  }, []);\n\n  useLayoutEffect(() => {\n    const overlayEl = overlayRef.current;\n    if (!overlayEl) {\n      setSegments([]);\n      return;\n    }\n\n    // Limit search to the current scheduler content\n    const root = overlayEl.parentElement;\n    if (!root || !Array.isArray(dependencies) || dependencies.length === 0) {\n      setSegments([]);\n      return;\n    }\n\n    const overlayRect = overlayEl.getBoundingClientRect();\n    const eventNodes = root.querySelectorAll('.timeline-event[data-event-id]');\n    const eventMap = new Map();\n\n    eventNodes.forEach(node => {\n      const id = node.getAttribute('data-event-id');\n      if (!id) return;\n      const rect = node.getBoundingClientRect();\n\n      // Coordinates in the overlay's local coordinate space\n      const left = rect.left - overlayRect.left;\n      const right = rect.right - overlayRect.left;\n      const top = rect.top - overlayRect.top;\n      const bottom = rect.bottom - overlayRect.top;\n\n      eventMap.set(id, { left, right, top, bottom });\n    });\n\n    const newSegments = [];\n\n    dependencies.forEach((dep, index) => {\n      if (!dep) return;\n\n      const from = eventMap.get(String(dep.fromId));\n      const to = eventMap.get(String(dep.toId));\n\n      if (!from || !to) return;\n\n      // Always draw from the finish (right edge) of the `from` event\n      // to the start (left edge) of the `to` event.\n      const startX = from.right;\n      const startY = (from.top + from.bottom) / 2;\n      const endX = to.left;\n      const endY = (to.top + to.bottom) / 2;\n\n      // Route the connector below both events to reduce overlap with content\n      const verticalOffset = 12;\n      const baseY = Math.max(startY, endY) + verticalOffset;\n\n      // Separate different dependencies slightly to avoid perfect overlap\n      const laneSpacing = 8;\n      const laneY = baseY + index * laneSpacing;\n\n      const arrowSize = 10;\n      const arrowMargin = 4; // keep arrow head just outside the event box\n      const arrowBaseX = endX - arrowSize - arrowMargin;\n\n      // Start flat for a short distance before dropping to the lane\n      const exitDx = 12;\n      const exitX = startX + exitDx;\n\n      const pathD =\n        `M ${startX} ${startY} L ${exitX} ${startY} L ${exitX} ${laneY} ` +\n        `L ${arrowBaseX} ${laneY} L ${arrowBaseX} ${endY}`;\n\n      const strokeColor = dep.color || '#595959';\n\n      newSegments.push({\n        key: `dep-${index}`,\n        color: strokeColor,\n        pathD,\n        arrow: {\n          tipX: endX,\n          tipY: endY,\n          baseX: arrowBaseX,\n          size: arrowSize,\n        },\n      });\n    });\n\n    setSegments(prev => (segmentsEqual(prev, newSegments) ? prev : newSegments));\n  }, [dependencies, layoutVersion]);\n\n  if (!segments.length) {\n    return <svg ref={overlayRef} className=\"dependency-arrows\" />;\n  }\n\n  return (\n    <svg ref={overlayRef} className=\"dependency-arrows\">\n      {segments.map(seg => {\n        const { tipX, tipY, baseX, size } = seg.arrow;\n        const half = size / 2;\n        const points = `${tipX},${tipY} ${baseX},${tipY - half} ${baseX},${tipY + half}`;\n\n        return (\n          <g key={seg.key}>\n            <path\n              d={seg.pathD}\n              fill=\"none\"\n              stroke={seg.color}\n              strokeWidth=\"3\"\n              strokeLinecap=\"square\"\n              strokeLinejoin=\"miter\"\n            />\n            <polygon points={points} fill={seg.color} />\n          </g>\n        );\n      })}\n    </svg>\n  );\n}\n\nDependencyOverlay.propTypes = {\n  dependencies: PropTypes.arrayOf(\n    PropTypes.shape({\n      fromId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n      toId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n      color: PropTypes.string,\n    })\n  ),\n};\n\nDependencyOverlay.defaultProps = {\n  dependencies: undefined,\n};\n\nexport default DependencyOverlay;\n","export function getPos(element) {\n  let x = 0;\n  let y = 0;\n  let currentElement = element;\n\n  while (currentElement) {\n    x += currentElement.offsetLeft - currentElement.scrollLeft;\n    y += currentElement.offsetTop - currentElement.scrollTop;\n    currentElement = currentElement.offsetParent;\n  }\n\n  return { x, y };\n}\n","import { DnDTypes, CellUnit, DATETIME_FORMAT, ViewType } from '../config/default';\nimport { getPos } from '../helper/utility';\n\nexport default class DnDContext {\n  constructor(sources) {\n    this.sourceMap = new Map();\n    sources.forEach(item => {\n      this.sourceMap.set(item.dndType, item);\n    });\n  }\n\n  extractInitialTimes = (monitor, pos, cellWidth, resourceEvents, cellUnit, localeDayjs) => {\n    const initialPoint = monitor.getInitialClientOffset();\n    const initialLeftIndex = Math.floor((initialPoint.x - pos.x) / cellWidth);\n    const initialStart = resourceEvents.headerItems[initialLeftIndex].start;\n    let initialEnd = resourceEvents.headerItems[initialLeftIndex].end;\n    if (cellUnit !== CellUnit.Hour) {\n      const end = localeDayjs(new Date(initialStart)).hour(23).minute(59).second(59);\n      initialEnd = end.format(DATETIME_FORMAT);\n    }\n    return { initialStart, initialEnd };\n  };\n\n  getDropSpec = () => ({\n    drop: (props, monitor, component) => {\n      const { schedulerData, resourceEvents } = props;\n      const { cellUnit, localeDayjs } = schedulerData;\n      const type = monitor.getItemType();\n      const pos = getPos(component.eventContainer);\n      const cellWidth = schedulerData.getContentCellWidth();\n      let initialStartTime = null;\n      let initialEndTime = null;\n      if (type === DnDTypes.EVENT) {\n        const { initialStart, initialEnd } = this.extractInitialTimes(\n          monitor,\n          pos,\n          cellWidth,\n          resourceEvents,\n          cellUnit,\n          localeDayjs\n        );\n        initialStartTime = initialStart;\n        initialEndTime = initialEnd;\n      }\n      const point = monitor.getClientOffset();\n      const leftIndex = Math.floor((point.x - pos.x) / cellWidth);\n      const startTime = resourceEvents.headerItems[leftIndex].start;\n      let endTime = resourceEvents.headerItems[leftIndex].end;\n      if (cellUnit !== CellUnit.Hour) {\n        endTime = localeDayjs(new Date(resourceEvents.headerItems[leftIndex].start))\n          .hour(23)\n          .minute(59)\n          .second(59)\n          .format(DATETIME_FORMAT);\n      }\n\n      return {\n        slotId: resourceEvents.slotId,\n        slotName: resourceEvents.slotName,\n        start: startTime,\n        end: endTime,\n        initialStart: initialStartTime,\n        initialEnd: initialEndTime,\n      };\n    },\n\n    hover: (props, monitor, component) => {\n      const { schedulerData, resourceEvents, movingEvent } = props;\n      const { cellUnit, config, viewType, localeDayjs } = schedulerData;\n      this.config = config;\n      const item = monitor.getItem();\n      const type = monitor.getItemType();\n      const pos = getPos(component.eventContainer);\n      const cellWidth = schedulerData.getContentCellWidth();\n      let initialStart = null;\n      if (type === DnDTypes.EVENT) {\n        const { initialStart: iStart } = this.extractInitialTimes(\n          monitor,\n          pos,\n          cellWidth,\n          resourceEvents,\n          cellUnit,\n          localeDayjs\n        );\n        initialStart = iStart;\n      }\n\n      const point = monitor.getClientOffset();\n      const leftIndex = Math.floor((point.x - pos.x) / cellWidth);\n      if (!resourceEvents.headerItems[leftIndex]) {\n        return;\n      }\n      let newStart = resourceEvents.headerItems[leftIndex].start;\n      let newEnd = resourceEvents.headerItems[leftIndex].end;\n      if (cellUnit !== CellUnit.Hour) {\n        newEnd = localeDayjs(new Date(resourceEvents.headerItems[leftIndex].start))\n          .hour(23)\n          .minute(59)\n          .second(59)\n          .format(DATETIME_FORMAT);\n      }\n      let { slotId, slotName } = resourceEvents;\n      let action = 'New';\n      const isEvent = type === DnDTypes.EVENT;\n      if (isEvent) {\n        const event = item;\n        if (config.relativeMove) {\n          newStart = localeDayjs(event.start)\n            .add(localeDayjs(newStart).diff(localeDayjs(new Date(initialStart))), 'ms')\n            .format(DATETIME_FORMAT);\n        } else if (viewType !== ViewType.Day) {\n          const tmpDayjs = localeDayjs(newStart);\n          newStart = localeDayjs(event.start)\n            .year(tmpDayjs.year())\n            .month(tmpDayjs.month())\n            .date(tmpDayjs.date())\n            .format(DATETIME_FORMAT);\n        }\n        newEnd = localeDayjs(newStart)\n          .add(localeDayjs(event.end).diff(localeDayjs(event.start)), 'ms')\n          .format(DATETIME_FORMAT);\n\n        // if crossResourceMove disabled, slot returns old value\n        if (config.crossResourceMove === false) {\n          slotId = schedulerData._getEventSlotId(item);\n          slotName = undefined;\n          const slot = schedulerData.getSlotById(slotId);\n          if (slot) slotName = slot.name;\n        }\n\n        action = 'Move';\n      }\n\n      if (movingEvent) {\n        movingEvent(schedulerData, slotId, slotName, newStart, newEnd, action, type, item);\n      }\n    },\n\n    canDrop: (props, monitor) => {\n      const { schedulerData, resourceEvents } = props;\n      const item = monitor.getItem();\n      if (schedulerData._isResizing()) return false;\n      const { config } = schedulerData;\n      return config.movable && !resourceEvents.groupOnly && (item.movable === undefined || item.movable !== false);\n    },\n  });\n\n  // Returns the drop specification for use with useDrop hook\n  // This should be called with props from the component using the hook\n  getDropOptions = (props, component) => {\n    const spec = this.getDropSpec();\n    return {\n      accept: [...this.sourceMap.keys()],\n      drop: (item, monitor) => spec.drop(props, monitor, component),\n      hover: (item, monitor) => spec.hover(props, monitor, component),\n      canDrop: (item, monitor) => spec.canDrop(props, monitor),\n      collect: monitor => ({\n        isOver: monitor.isOver(),\n        canDrop: monitor.canDrop(),\n      }),\n    };\n  };\n\n  getDndSource = (dndType = DnDTypes.EVENT) => this.sourceMap.get(dndType);\n}\n","import PropTypes from 'prop-types';\nimport { CellUnit } from '../config/default';\nimport { useCallback, useMemo } from 'react';\n\n/**\n * Render the table header rows for a scheduler view, including an optional week-number row and the main header cells.\n * @param {Object} props.schedulerData - Scheduler configuration and utilities (headers array,\n * cell unit, formatting, sizing, and locale/date functions).\n * @param {Function} [props.nonAgendaCellHeaderTemplateResolver] - Optional resolver to customize\n * rendering of individual header cells. Called with (schedulerData, headerItem, formattedList, style).\n * @returns {JSX.Element} A <thead> element containing the optional week-number row and the\n * main header row for the scheduler table.\n */\nfunction HeaderView({ schedulerData, nonAgendaCellHeaderTemplateResolver }) {\n  const { headers, cellUnit, config, localeDayjs } = schedulerData;\n  const { showWeekNumber, weekNumberRowHeight = 24 } = config;\n  const headerHeight = schedulerData.getTableHeaderHeight();\n  const cellWidth = schedulerData.getContentCellWidth();\n  const minuteStepsInHour = schedulerData.getMinuteStepsInHour();\n\n  // Week number row generation\n  const weekNumberRow = useMemo(() => {\n    if (!showWeekNumber) return null;\n\n    const weekGroups = [];\n    let currentWeekKey = null;\n    let currentWeek = null;\n    let currentYear = null;\n    let colspan = 0;\n\n    headers.forEach(item => {\n      const year = localeDayjs(new Date(item.time)).year();\n      const weekNum = localeDayjs(new Date(item.time)).isoWeek();\n      const weekKey = `${year}-${weekNum}`;\n\n      if (currentWeekKey === weekKey) {\n        colspan += 1;\n      } else {\n        if (currentWeekKey !== null) {\n          weekGroups.push({ week: currentWeek, year: currentYear, colspan });\n        }\n        currentWeekKey = weekKey;\n        currentWeek = weekNum;\n        currentYear = year;\n        colspan = 1;\n      }\n    });\n\n    // Push the last week group\n    if (currentWeekKey !== null) {\n      weekGroups.push({ week: currentWeek, year: currentYear, colspan });\n    }\n\n    const cellStyle = {\n      fontSize: '0.85em',\n      opacity: 0.7,\n      borderBottom: `1px solid ${config.headerBorderColor || '#e9e9e9'}`,\n      padding: '4px 8px',\n      textAlign: 'center',\n    };\n\n    return weekGroups.map((group, idx) => (\n      <th key={`week-${group.year}-${group.week}-${idx}`} colSpan={group.colspan} style={cellStyle}>\n        W{group.week}\n      </th>\n    ));\n  }, [showWeekNumber, headers, localeDayjs]);\n\n  // Extract common style creation logic\n  const createCellStyle = useCallback(\n    (item, width, isLastCell) => {\n      if (isLastCell) {\n        return item.nonWorkingTime\n          ? { color: config.nonWorkingTimeHeadColor, backgroundColor: config.nonWorkingTimeHeadBgColor }\n          : {};\n      }\n      return item.nonWorkingTime\n        ? {\n            width,\n            color: config.nonWorkingTimeHeadColor,\n            backgroundColor: config.nonWorkingTimeHeadBgColor,\n          }\n        : { width };\n    },\n    [config]\n  );\n\n  // Extract cell format selection logic\n  const getCellFormat = useCallback(\n    cellUnitParam => {\n      const formatMap = {\n        [CellUnit.Week]: config.nonAgendaWeekCellHeaderFormat,\n        [CellUnit.Month]: config.nonAgendaMonthCellHeaderFormat,\n        [CellUnit.Year]: config.nonAgendaYearCellHeaderFormat,\n      };\n      return formatMap[cellUnitParam] || config.nonAgendaOtherCellHeaderFormat;\n    },\n    [config]\n  );\n\n  // Render cell content helper\n  const renderCellContent = useCallback(\n    (item, formattedList, style) => {\n      if (typeof nonAgendaCellHeaderTemplateResolver === 'function') {\n        return nonAgendaCellHeaderTemplateResolver(schedulerData, item, formattedList, style);\n      }\n\n      const content = formattedList.map((text, idx) => <div key={`${item.time}-${idx}-${text}`}>{text}</div>);\n      return (\n        <th key={`header-${item.time}`} className=\"header3-text\" style={style}>\n          <div>{content}</div>\n        </th>\n      );\n    },\n    [nonAgendaCellHeaderTemplateResolver, schedulerData]\n  );\n\n  // Memoize header list generation\n  const headerList = useMemo(() => {\n    if (cellUnit === CellUnit.Hour) {\n      const result = [];\n      const lastIndex = headers.length - minuteStepsInHour;\n\n      headers.forEach((item, index) => {\n        if (index % minuteStepsInHour !== 0) return;\n\n        const datetime = localeDayjs(new Date(item.time));\n        const width = cellWidth * minuteStepsInHour;\n        const isLastCell = index === lastIndex;\n        const style = createCellStyle(item, width, isLastCell);\n        const formattedList = config.nonAgendaDayCellHeaderFormat.split('|').map(format => datetime.format(format));\n\n        result.push(renderCellContent(item, formattedList, style));\n      });\n\n      return result;\n    }\n\n    // Non-hour cell units\n    const cellFormat = getCellFormat(cellUnit);\n    const lastIndex = headers.length - 1;\n\n    return headers.map((item, index) => {\n      const datetime = localeDayjs(new Date(item.time));\n      const isLastCell = index === lastIndex;\n      const style = createCellStyle(item, cellWidth, isLastCell);\n      const formattedList = cellFormat.split('|').map(format => datetime.format(format));\n\n      return renderCellContent(item, formattedList, style);\n    });\n  }, [\n    cellUnit,\n    headers,\n    minuteStepsInHour,\n    cellWidth,\n    config,\n    localeDayjs,\n    createCellStyle,\n    getCellFormat,\n    renderCellContent,\n  ]);\n\n  return (\n    <thead>\n      {weekNumberRow && <tr style={{ height: weekNumberRowHeight }}>{weekNumberRow}</tr>}\n      <tr style={{ height: headerHeight }}>{headerList}</tr>\n    </thead>\n  );\n}\n\nHeaderView.propTypes = {\n  schedulerData: PropTypes.object.isRequired,\n  nonAgendaCellHeaderTemplateResolver: PropTypes.func,\n};\n\nexport default HeaderView;\n","import PropTypes from 'prop-types';\n\nfunction AddMore({ schedulerData, number, left, width, top, clickAction, headerItem }) {\n  const { config } = schedulerData;\n  const content = `+${number} more`;\n\n  return (\n    <button\n      type=\"button\"\n      className=\"timeline-event\"\n      style={{ left, width, top }}\n      onClick={() => clickAction(headerItem)}\n    >\n      <div style={{ height: config.eventItemHeight, color: '#999', textAlign: 'center' }}>{content}</div>\n    </button>\n  );\n}\n\nAddMore.propTypes = {\n  schedulerData: PropTypes.object.isRequired,\n  number: PropTypes.number.isRequired,\n  left: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  top: PropTypes.number.isRequired,\n  clickAction: PropTypes.func.isRequired,\n  headerItem: PropTypes.object.isRequired,\n};\n\nexport default AddMore;\n","import PropTypes from 'prop-types';\n\nfunction SelectedArea({ left, width, schedulerData }) {\n  const { config } = schedulerData;\n\n  const selectedAreaStyle = {\n    left,\n    width,\n    top: 0,\n    bottom: 0,\n    backgroundColor: config.selectedAreaColor,\n  };\n\n  return <div className=\"selected-area\" style={selectedAreaStyle} />;\n}\n\nSelectedArea.propTypes = {\n  schedulerData: PropTypes.object.isRequired,\n  left: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n};\n\nexport default SelectedArea;\n","import PropTypes from 'prop-types';\nimport { SummaryPos } from '../config/default';\n\nfunction Summary({ schedulerData, summary, left, width, top }) {\n  const { config } = schedulerData;\n  const color = summary.color !== undefined ? summary.color : config.summaryColor;\n  let textAlign = 'center';\n\n  if (config.summaryPos === SummaryPos.TopRight || config.summaryPos === SummaryPos.BottomRight) {\n    textAlign = 'right';\n  } else if (config.summaryPos === SummaryPos.TopLeft || config.summaryPos === SummaryPos.BottomLeft) {\n    textAlign = 'left';\n  }\n\n  const style = {\n    height: config.eventItemHeight,\n    color,\n    textAlign,\n    marginLeft: '6px',\n    marginRight: '6px',\n    ...(summary.fontSize !== undefined ? { fontSize: summary.fontSize } : {}),\n  };\n\n  return (\n    <div className=\"timeline-event header2-text\" style={{ left, width, top, cursor: 'default' }}>\n      <div style={style}>{summary.text}</div>\n    </div>\n  );\n}\n\nSummary.propTypes = {\n  schedulerData: PropTypes.object.isRequired,\n  summary: PropTypes.object.isRequired,\n  left: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  top: PropTypes.number.isRequired,\n};\n\nexport default Summary;\n","import { PropTypes } from 'prop-types';\nimport React, { Component } from 'react';\nimport { useDrop } from 'react-dnd';\nimport { CellUnit, DATETIME_FORMAT, DnDTypes, SummaryPos } from '../config/default';\nimport { getPos } from '../helper/utility';\nimport AddMore from './AddMore';\nimport EventItem from './EventItem';\nimport SelectedArea from './SelectedArea';\nimport Summary from './Summary';\n\nclass ResourceEvents extends Component {\n  static propTypes = {\n    resourceEvents: PropTypes.object.isRequired,\n    schedulerData: PropTypes.object.isRequired,\n    dndSource: PropTypes.object.isRequired,\n    onSetAddMoreState: PropTypes.func,\n    updateEventStart: PropTypes.func,\n    updateEventEnd: PropTypes.func,\n    moveEvent: PropTypes.func,\n    movingEvent: PropTypes.func,\n    conflictOccurred: PropTypes.func,\n    subtitleGetter: PropTypes.func,\n    eventItemClick: PropTypes.func,\n    viewEventClick: PropTypes.func,\n    viewEventText: PropTypes.string,\n    viewEvent2Click: PropTypes.func,\n    viewEvent2Text: PropTypes.string,\n    newEvent: PropTypes.func,\n    eventItemTemplateResolver: PropTypes.func,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isSelecting: false,\n      left: 0,\n      width: 0,\n    };\n    this.supportTouch = false; // 'ontouchstart' in window;\n  }\n\n  componentDidMount() {\n    const { schedulerData } = this.props;\n    const { config } = schedulerData;\n    this.supportTouch = 'ontouchstart' in window;\n\n    if (config.creatable === true) {\n      this.supportTouchHelper();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps !== this.props) {\n      const { schedulerData } = this.props;\n      this.supportTouchHelper('remove');\n      if (schedulerData.config.creatable) {\n        this.supportTouchHelper();\n      }\n    }\n  }\n\n  supportTouchHelper = (evType = 'add') => {\n    const ev = evType === 'add' ? this.eventContainer.addEventListener : this.eventContainer.removeEventListener;\n    if (this.supportTouch) {\n      // ev('touchstart', this.initDrag, false);\n    } else {\n      ev('mousedown', this.initDrag, false);\n    }\n  };\n\n  initDrag = ev => {\n    const { isSelecting } = this.state;\n    if (isSelecting) return;\n    if ((ev.srcElement || ev.target) !== this.eventContainer) return;\n\n    ev.stopPropagation();\n\n    const { resourceEvents } = this.props;\n    if (resourceEvents.groupOnly) return;\n    const [clientX, toReturn] = this.dragHelper(ev, 'init');\n\n    if (toReturn) {\n      return;\n    }\n\n    const { schedulerData } = this.props;\n    const cellWidth = schedulerData.getContentCellWidth();\n    const pos = getPos(this.eventContainer);\n    const startX = clientX - pos.x;\n    const leftIndex = Math.floor(startX / cellWidth);\n    const left = leftIndex * cellWidth;\n    const rightIndex = Math.ceil(startX / cellWidth);\n    const width = (rightIndex - leftIndex) * cellWidth;\n\n    this.setState({ startX, left, leftIndex, width, rightIndex, isSelecting: true });\n\n    if (this.supportTouch) {\n      document.documentElement.addEventListener('touchmove', this.doDrag, false);\n      document.documentElement.addEventListener('touchend', this.stopDrag, false);\n      document.documentElement.addEventListener('touchcancel', this.cancelDrag, false);\n    } else {\n      document.documentElement.addEventListener('mousemove', this.doDrag, false);\n      document.documentElement.addEventListener('mouseup', this.stopDrag, false);\n    }\n    document.onselectstart = () => false;\n    document.ondragstart = () => false;\n  };\n\n  doDrag = ev => {\n    ev.stopPropagation();\n\n    const [clientX, toReturn] = this.dragHelper(ev, 'do');\n\n    if (toReturn) {\n      return;\n    }\n    const { startX } = this.state;\n    const { schedulerData } = this.props;\n    const { headers } = schedulerData;\n    const cellWidth = schedulerData.getContentCellWidth();\n    const pos = getPos(this.eventContainer);\n    const currentX = clientX - pos.x;\n    let leftIndex = Math.floor(Math.min(startX, currentX) / cellWidth);\n    leftIndex = leftIndex < 0 ? 0 : leftIndex;\n    const left = leftIndex * cellWidth;\n    let rightIndex = Math.ceil(Math.max(startX, currentX) / cellWidth);\n    rightIndex = rightIndex > headers.length ? headers.length : rightIndex;\n    const width = (rightIndex - leftIndex) * cellWidth;\n\n    this.setState({ leftIndex, left, rightIndex, width, isSelecting: true });\n  };\n\n  dragHelper = (ev, dragType) => {\n    let clientX = 0;\n    if (this.supportTouch) {\n      if (ev.changedTouches.length === 0) return [clientX, true];\n      const touch = ev.changedTouches[0];\n      clientX = touch.pageX;\n    } else if (dragType === 'init') {\n      if (ev.buttons !== undefined && ev.buttons !== 1) return [clientX, true];\n      clientX = ev.clientX;\n    } else {\n      clientX = ev.clientX;\n    }\n    return [clientX, false];\n  };\n\n  stopDrag = ev => {\n    ev.stopPropagation();\n\n    const { schedulerData, newEvent, resourceEvents } = this.props;\n    const { headers, events, config, cellUnit, localeDayjs } = schedulerData;\n    const { leftIndex, rightIndex } = this.state;\n    if (this.supportTouch) {\n      document.documentElement.removeEventListener('touchmove', this.doDrag, false);\n      document.documentElement.removeEventListener('touchend', this.stopDrag, false);\n      document.documentElement.removeEventListener('touchcancel', this.cancelDrag, false);\n    } else {\n      document.documentElement.removeEventListener('mousemove', this.doDrag, false);\n      document.documentElement.removeEventListener('mouseup', this.stopDrag, false);\n    }\n    document.onselectstart = null;\n    document.ondragstart = null;\n\n    const startTime = headers[leftIndex].time;\n    let endTime = resourceEvents.headerItems[rightIndex - 1].end;\n    if (cellUnit !== CellUnit.Hour) {\n      endTime = localeDayjs(new Date(resourceEvents.headerItems[rightIndex - 1].start))\n        .hour(23)\n        .minute(59)\n        .second(59)\n        .format(DATETIME_FORMAT);\n    }\n    const { slotId } = resourceEvents;\n    const { slotName } = resourceEvents;\n\n    this.setState({\n      startX: 0,\n      leftIndex: 0,\n      left: 0,\n      rightIndex: 0,\n      width: 0,\n      isSelecting: false,\n    });\n\n    let hasConflict = false;\n    if (config.checkConflict) {\n      const start = localeDayjs(new Date(startTime));\n      const end = localeDayjs(endTime);\n\n      events.forEach(e => {\n        if (schedulerData._getEventSlotId(e) === slotId) {\n          const eStart = localeDayjs(e.start);\n          const eEnd = localeDayjs(e.end);\n          if (\n            (start >= eStart && start < eEnd) ||\n            (end > eStart && end <= eEnd) ||\n            (eStart >= start && eStart < end) ||\n            (eEnd > start && eEnd <= end)\n          )\n            hasConflict = true;\n        }\n      });\n    }\n\n    if (hasConflict) {\n      const { conflictOccurred } = this.props;\n      if (conflictOccurred !== undefined) {\n        conflictOccurred(\n          schedulerData,\n          'New',\n          {\n            id: undefined,\n            start: startTime,\n            end: endTime,\n            slotId,\n            slotName,\n            title: undefined,\n          },\n          DnDTypes.EVENT,\n          slotId,\n          slotName,\n          startTime,\n          endTime\n        );\n      } else {\n        console.log('Conflict occurred, set conflictOccurred func in Scheduler to handle it');\n      }\n    } else if (newEvent !== undefined) newEvent(schedulerData, slotId, slotName, startTime, endTime);\n  };\n\n  cancelDrag = ev => {\n    ev.stopPropagation();\n\n    const { isSelecting } = this.state;\n    if (isSelecting) {\n      document.documentElement.removeEventListener('touchmove', this.doDrag, false);\n      document.documentElement.removeEventListener('touchend', this.stopDrag, false);\n      document.documentElement.removeEventListener('touchcancel', this.cancelDrag, false);\n      document.onselectstart = null;\n      document.ondragstart = null;\n      this.setState({\n        startX: 0,\n        leftIndex: 0,\n        left: 0,\n        rightIndex: 0,\n        width: 0,\n        isSelecting: false,\n      });\n    }\n  };\n\n  onAddMoreClick = headerItem => {\n    const { onSetAddMoreState, resourceEvents, schedulerData } = this.props;\n    if (onSetAddMoreState) {\n      const { config } = schedulerData;\n      const cellWidth = schedulerData.getContentCellWidth();\n      const index = resourceEvents.headerItems.indexOf(headerItem);\n      if (index !== -1) {\n        let left = index * (cellWidth - 1);\n        const pos = getPos(this.eventContainer);\n        left += pos.x;\n        const top = pos.y;\n        const height = (headerItem.count + 1) * config.eventItemLineHeight + 20;\n\n        onSetAddMoreState({\n          headerItem,\n          left,\n          top,\n          height,\n        });\n      }\n    }\n  };\n\n  eventContainerRef = element => {\n    this.eventContainer = element;\n    // Also set the drop ref if it exists\n    const { dropRef } = this.props;\n    if (dropRef) {\n      dropRef(element);\n    }\n  };\n\n  render() {\n    const { resourceEvents, schedulerData, dndSource } = this.props;\n    const { cellUnit, startDate, endDate, config, localeDayjs } = schedulerData;\n    const { isSelecting, left, width } = this.state;\n    const cellWidth = schedulerData.getContentCellWidth();\n    const cellMaxEvents = schedulerData.getCellMaxEvents();\n    const rowWidth = schedulerData.getContentTableWidth();\n\n    const selectedArea = isSelecting ? <SelectedArea {...this.props} left={left} width={width} /> : <div />;\n\n    const eventList = [];\n    resourceEvents.headerItems.forEach((headerItem, index) => {\n      if (headerItem.count > 0 || headerItem.summary !== undefined) {\n        const isTop =\n          config.summaryPos === SummaryPos.TopRight ||\n          config.summaryPos === SummaryPos.Top ||\n          config.summaryPos === SummaryPos.TopLeft;\n        const marginTop = resourceEvents.hasSummary && isTop ? 1 + config.eventItemLineHeight : 1;\n        const renderEventsMaxIndex = headerItem.addMore === 0 ? cellMaxEvents : headerItem.addMoreIndex;\n\n        headerItem.events.forEach((evt, idx) => {\n          if (idx < renderEventsMaxIndex && evt !== undefined && evt.render) {\n            let durationStart = localeDayjs(new Date(startDate));\n            let durationEnd = localeDayjs(endDate);\n            if (cellUnit === CellUnit.Hour) {\n              durationStart = localeDayjs(new Date(startDate)).add(config.dayStartFrom, 'hours');\n              durationEnd = localeDayjs(endDate).add(config.dayStopTo + 1, 'hours');\n            }\n            const eventStart = localeDayjs(evt.eventItem.start);\n            const eventEnd = localeDayjs(evt.eventItem.end);\n            let isStart = eventStart >= durationStart;\n            let isEnd = eventEnd <= durationEnd;\n            let left = index * cellWidth + (index > 0 ? 2 : 3);\n            let width = evt.span * cellWidth - (index > 0 ? 5 : 6) > 0 ? evt.span * cellWidth - (index > 0 ? 5 : 6) : 0;\n            const dayStart = localeDayjs(new Date(headerItem.start)).startOf('day');\n            const dayDurationMinutes = 1440;\n            const baseCellWidth = cellWidth - (index > 0 ? 5 : 6);\n\n            if (cellUnit === CellUnit.Day) {\n              if (evt.span === 1) {\n                const startOffsetMinutes = eventStart.diff(dayStart, 'minute');\n                const eventDurationMinutes = eventEnd.diff(eventStart, 'minute');\n                const startPercentage = startOffsetMinutes / dayDurationMinutes;\n                const durationPercentage = eventDurationMinutes / dayDurationMinutes;\n                const leftOffset = baseCellWidth * startPercentage;\n                const eventWidth = baseCellWidth * durationPercentage;\n\n                left = index * cellWidth + (index > 0 ? 2 : 3) + leftOffset;\n                width = Math.max(1, eventWidth); // ensure minimum width of 1px\n              } else {\n                const headerStart = localeDayjs(new Date(headerItem.start));\n                const headerEnd = localeDayjs(new Date(headerItem.end));\n                const isFirstDay = eventStart >= headerStart && eventStart < headerEnd;\n\n                if (isFirstDay) {\n                  const eventStartDayStart = eventStart.startOf('day');\n                  const eventEndDayEnd = eventEnd.endOf('day');\n                  const totalSpanMinutes = eventEndDayEnd.diff(eventStartDayStart, 'minute');\n                  const eventStartOffsetMinutes = eventStart.diff(eventStartDayStart, 'minute');\n                  const eventDurationMinutes = eventEnd.diff(eventStart, 'minute');\n                  const startPercentage = eventStartOffsetMinutes / dayDurationMinutes;\n                  const durationPercentage = totalSpanMinutes > 0 ? eventDurationMinutes / totalSpanMinutes : 1;\n                  const totalWidth = evt.span * cellWidth - (index > 0 ? 5 : 6);\n                  const leftOffset = cellWidth * startPercentage;\n                  const eventWidth = totalWidth * durationPercentage;\n\n                  left = index * cellWidth + (index > 0 ? 2 : 3) + leftOffset;\n                  width = Math.max(1, eventWidth);\n                }\n              }\n            } else {\n              width = evt.span * cellWidth - (index > 0 ? 5 : 6) > 0 ? evt.span * cellWidth - (index > 0 ? 5 : 6) : 0;\n            }\n\n            const top = marginTop + idx * config.eventItemLineHeight;\n            const eventItem = (\n              <EventItem\n                {...this.props}\n                key={`${evt.eventItem.id}_${headerItem.time}`}\n                eventItem={evt.eventItem}\n                dndSource={dndSource}\n                isStart={isStart}\n                isEnd={isEnd}\n                isInPopover={false}\n                left={left}\n                width={width}\n                top={top}\n                leftIndex={index}\n                rightIndex={index + evt.span}\n              />\n            );\n            eventList.push(eventItem);\n          }\n        });\n\n        if (headerItem.addMore > 0) {\n          const left = index * cellWidth + (index > 0 ? 2 : 3);\n          const width = cellWidth - (index > 0 ? 5 : 6);\n          const top = marginTop + headerItem.addMoreIndex * config.eventItemLineHeight;\n          const addMoreItem = (\n            <AddMore\n              {...this.props}\n              key={headerItem.time}\n              headerItem={headerItem}\n              number={headerItem.addMore}\n              left={left}\n              width={width}\n              top={top}\n              clickAction={this.onAddMoreClick}\n            />\n          );\n          eventList.push(addMoreItem);\n        }\n\n        if (headerItem.summary !== undefined) {\n          const top = isTop ? 1 : resourceEvents.rowHeight - config.eventItemLineHeight + 1;\n          const left = index * cellWidth + (index > 0 ? 2 : 3);\n          const width = cellWidth - (index > 0 ? 5 : 6);\n          const key = `${resourceEvents.slotId}_${headerItem.time}`;\n          const summary = (\n            <Summary\n              key={key}\n              schedulerData={schedulerData}\n              summary={headerItem.summary}\n              left={left}\n              width={width}\n              top={top}\n            />\n          );\n          eventList.push(summary);\n        }\n      }\n    });\n\n    const eventContainer = (\n      <div ref={this.eventContainerRef} className=\"event-container\" style={{ height: resourceEvents.rowHeight }}>\n        {selectedArea}\n        {eventList}\n      </div>\n    );\n    return (\n      <tr>\n        <td style={{ width: rowWidth }}>{eventContainer}</td>\n      </tr>\n    );\n  }\n}\n\n// Wrapper component to use useDrop hook\nconst ResourceEventsWithDnD = props => {\n  const { schedulerData, dndContext } = props;\n  const { config } = schedulerData;\n  const componentRef = React.useRef(null);\n\n  // Always call useDrop unconditionally (Rules of Hooks)\n  // Disable functionality when drag and drop is not enabled\n  const [{ isOver, canDrop }, dropRef] = useDrop(() => {\n    // If drag and drop is disabled, return a no-op spec\n    if (!config.dragAndDropEnabled || !dndContext) {\n      return {\n        accept: [],\n        collect: () => ({ isOver: false, canDrop: false }),\n      };\n    }\n\n    const spec = dndContext.getDropSpec();\n    return {\n      accept: [...dndContext.sourceMap.keys()],\n      drop: (item, monitor) => spec.drop(props, monitor, componentRef.current),\n      hover: (item, monitor) => spec.hover(props, monitor, componentRef.current),\n      canDrop: (item, monitor) => spec.canDrop(props, monitor),\n      collect: monitor => ({\n        isOver: monitor.isOver(),\n        canDrop: monitor.canDrop(),\n      }),\n    };\n  }, [props, dndContext, config.dragAndDropEnabled]);\n\n  return <ResourceEvents ref={componentRef} {...props} dropRef={dropRef} isOver={isOver} canDrop={canDrop} />;\n};\n\nResourceEventsWithDnD.displayName = 'ResourceEventsWithDnD';\n\nexport default ResourceEventsWithDnD;\n","import { MinusSquareOutlined, PlusSquareOutlined } from '@ant-design/icons';\nimport PropTypes from 'prop-types';\n\n/**\n * Render the scheduler's resource table with hierarchical indentation, optional expand/collapse controls,\n * clickable slot names, and support for custom slot templates or an injected resource-cell renderer.\n *\n * @param {object} schedulerData - Scheduler state and helpers; must include `renderData`,\n * `getResourceTableWidth`, and `config`.\n * @param {number} contentScrollbarHeight - Height used to set the container's bottom padding.\n * @param {Function} [slotClickedFunc] - Called as `slotClickedFunc(schedulerData, item)` when a slot name is clicked.\n * @param {Function} [slotItemTemplateResolver] - Called as `slotItemTemplateResolver\n * (schedulerData, item, slotClickedFunc, width, className)` to provide a custom slot cell element;\n * if a value is returned it replaces the default slot cell.\n * @param {Function} [toggleExpandFunc] - Called as `toggleExpandFunc(schedulerData, slotId)`\n * to toggle expansion for items with children.\n * @param {Function} [CustomResourceCell] - Optional React component rendered inside the resource\n * `<td>` when provided; receives props `{ schedulerData, item, indents, slotClickedFunc, handleToggleExpand }`.\n * @returns {JSX.Element} The rendered resource table element.\n */\nfunction ResourceView({\n  schedulerData,\n  contentScrollbarHeight,\n  slotClickedFunc,\n  slotItemTemplateResolver,\n  toggleExpandFunc,\n  CustomResourceCell,\n}) {\n  const { renderData } = schedulerData;\n  const width = schedulerData.getResourceTableWidth() - 2;\n  const paddingBottom = contentScrollbarHeight;\n  const displayRenderData = renderData.filter(o => o.render);\n\n  const handleToggleExpand = item => {\n    if (toggleExpandFunc) {\n      toggleExpandFunc(schedulerData, item.slotId);\n    }\n  };\n\n  const renderSlotItem = (item, indents) => {\n    let indent = <span key={`es${item.indent}`} className=\"expander-space\" />;\n\n    const iconProps = { onClick: () => handleToggleExpand(item) };\n\n    if (item.hasChildren) {\n      indent = item.expanded ? (\n        <MinusSquareOutlined key={`es${item.indent}`} {...iconProps} />\n      ) : (\n        <PlusSquareOutlined key={`es${item.indent}`} {...iconProps} />\n      );\n    }\n\n    indents.push(indent);\n\n    const tdStyle = {\n      height: item.rowHeight,\n      backgroundColor: item.groupOnly ? schedulerData.config.groupOnlySlotColor : undefined,\n    };\n\n    if (CustomResourceCell) {\n      return (\n        <tr key={item.slotId}>\n          <td data-resource-id={item.slotId} style={tdStyle}>\n            <CustomResourceCell\n              schedulerData={schedulerData}\n              item={item}\n              indents={indents}\n              slotClickedFunc={slotClickedFunc}\n              handleToggleExpand={handleToggleExpand}\n            />\n          </td>\n        </tr>\n      );\n    }\n\n    const slotCell = slotClickedFunc ? (\n      <span className=\"slot-cell\">\n        {indents}\n        <button\n          type=\"button\"\n          style={{ cursor: 'pointer' }}\n          className=\"slot-text rbs-txt-btn-dis\"\n          onClick={() => slotClickedFunc(schedulerData, item)}\n        >\n          {item.slotName}\n        </button>\n      </span>\n    ) : (\n      <span className=\"slot-cell\">\n        {indents}\n        <button\n          type=\"button\"\n          className=\"slot-text rbs-txt-btn-dis\"\n          style={{ cursor: slotClickedFunc === undefined ? undefined : 'pointer' }}\n        >\n          {item.slotName}\n        </button>\n      </span>\n    );\n\n    let slotItem = (\n      <div title={item.slotTitle || item.slotName} className=\"overflow-text header2-text\" style={{ textAlign: 'left' }}>\n        {slotCell}\n      </div>\n    );\n\n    if (slotItemTemplateResolver) {\n      const resolvedTemplate = slotItemTemplateResolver(\n        schedulerData,\n        item,\n        slotClickedFunc,\n        width,\n        'overflow-text header2-text'\n      );\n      if (resolvedTemplate) {\n        slotItem = resolvedTemplate;\n      }\n    }\n\n    return (\n      <tr key={item.slotId}>\n        <td data-resource-id={item.slotId} style={tdStyle}>\n          {slotItem}\n        </td>\n      </tr>\n    );\n  };\n\n  const resourceList = displayRenderData.map(item => {\n    const indents = [];\n    for (let i = 0; i < item.indent; i += 1) {\n      indents.push(<span key={`es${i}`} className=\"expander-space\" />);\n    }\n\n    return renderSlotItem(item, indents);\n  });\n\n  return (\n    <div style={{ paddingBottom }}>\n      <table className=\"resource-table\">\n        <tbody>{resourceList}</tbody>\n      </table>\n    </div>\n  );\n}\n\nResourceView.propTypes = {\n  schedulerData: PropTypes.object.isRequired,\n  contentScrollbarHeight: PropTypes.number.isRequired,\n  slotClickedFunc: PropTypes.func,\n  slotItemTemplateResolver: PropTypes.func,\n  toggleExpandFunc: PropTypes.func,\n  CustomResourceCell: PropTypes.func,\n};\n\nexport default ResourceView;\n","import { SummaryPos, ViewType } from './default';\n\n/**\n * Default scheduler configuration\n *\n * User-facing strings (resourceName, taskName, agendaViewHeader, weekNumberLabel)\n * are set to English defaults but can be overridden through:\n * 1. Passing a custom config object when creating SchedulerData\n * 2. Using setLabelsProvider() from the i18n module to set a custom labels provider\n * 3. Directly modifying config properties after instantiation\n */\nexport default {\n  schedulerWidth: '100%',\n  besidesWidth: 20,\n  underneathHeight: 20,\n  schedulerMaxHeight: 0,\n  tableHeaderHeight: 40,\n  schedulerContentHeight: '500px',\n\n  responsiveByParent: false,\n\n  agendaResourceTableWidth: 160,\n  agendaMaxEventWidth: 100,\n\n  dayResourceTableWidth: 160,\n  weekResourceTableWidth: '16%',\n  monthResourceTableWidth: 160,\n  quarterResourceTableWidth: 160,\n  yearResourceTableWidth: 160,\n  customResourceTableWidth: 160,\n\n  dayCellWidth: 30,\n  weekCellWidth: '12%',\n  monthCellWidth: 80,\n  quarterCellWidth: 80,\n  yearCellWidth: 80,\n  customCellWidth: 80,\n\n  dayMaxEvents: 99,\n  weekMaxEvents: 99,\n  monthMaxEvents: 99,\n  quarterMaxEvents: 99,\n  yearMaxEvents: 99,\n  customMaxEvents: 99,\n\n  eventItemPopoverTrigger: 'hover',\n  eventItemPopoverPlacement: 'bottomLeft',\n  eventItemPopoverWidth: 300,\n\n  eventItemHeight: 22,\n  eventItemLineHeight: 24,\n  nonAgendaSlotMinHeight: 0,\n  dayStartFrom: 0,\n  dayStopTo: 23,\n  defaultEventBgColor: '#80C5F6',\n  selectedAreaColor: '#7EC2F3',\n  nonWorkingTimeHeadColor: '#999999',\n  nonWorkingTimeHeadBgColor: '#fff0f6',\n  nonWorkingTimeBodyBgColor: '#fff0f6',\n  summaryColor: '#666',\n  summaryPos: SummaryPos.TopRight,\n  groupOnlySlotColor: '#F8F8F8',\n  headerBorderColor: '#e9e9e9',\n  weekNumberRowHeight: 24,\n\n  showWeekNumber: false,\n  startResizable: true,\n  endResizable: true,\n  movable: true,\n  creatable: true,\n  crossResourceMove: true,\n  checkConflict: false,\n  scrollToSpecialDayjsEnabled: true,\n  eventItemPopoverEnabled: true,\n  eventItemPopoverShowColor: true,\n  calendarPopoverEnabled: true,\n  recurringEventsEnabled: true,\n  viewChangeSpinEnabled: true,\n  dateChangeSpinEnabled: true,\n  headerEnabled: true,\n  resourceViewEnabled: true,\n  displayWeekend: true,\n  relativeMove: true,\n  defaultExpanded: true,\n  dragAndDropEnabled: true,\n\n  schedulerHeaderEventsFuncsTimeoutMs: 100,\n\n  resourceName: 'Resource Name',\n  taskName: 'Task Name',\n  agendaViewHeader: 'Agenda',\n  weekNumberLabel: 'Week No.',\n  addMorePopoverHeaderFormat: 'MMM D, YYYY dddd',\n  eventItemPopoverDateFormat: 'MMM D',\n  nonAgendaDayCellHeaderFormat: 'ha',\n  nonAgendaWeekCellHeaderFormat: 'ww/YYYY',\n  nonAgendaMonthCellHeaderFormat: 'MMM YYYY',\n  nonAgendaYearCellHeaderFormat: 'YYYY',\n  nonAgendaOtherCellHeaderFormat: 'ddd M/D',\n\n  minuteStep: 30,\n\n  views: [\n    { viewName: 'Day', viewType: ViewType.Day, showAgenda: false, isEventPerspective: false },\n    { viewName: 'Week', viewType: ViewType.Week, showAgenda: false, isEventPerspective: false },\n    { viewName: 'Month', viewType: ViewType.Month, showAgenda: false, isEventPerspective: false },\n    { viewName: 'Quarter', viewType: ViewType.Quarter, showAgenda: false, isEventPerspective: false },\n    { viewName: 'Year', viewType: ViewType.Year, showAgenda: false, isEventPerspective: false },\n  ],\n};\n","/**\n * i18n configuration and labels provider\n *\n * This module provides a centralized way to manage user-facing strings in the scheduler.\n * Users can provide localized labels either through the config or by setting a custom\n * labels provider function.\n */\n\n// Default English labels\nconst defaultLabels = {\n  resourceName: 'Resource Name',\n  taskName: 'Task Name',\n  agendaViewHeader: 'Agenda',\n  weekNumberLabel: 'Week No.',\n};\n\n// Current labels provider (can be a function or object)\nlet labelsProvider = null;\n\n/**\n * Get the current label for a given key\n * @param {string} key - The label key (e.g., 'resourceName', 'taskName')\n * @param {string} locale - Optional locale code for locale-specific translations\n * @returns {string} The localized label or the default English label\n */\nexport function getLabel(key, locale = undefined) {\n  // If a custom provider function is set, use it\n  if (typeof labelsProvider === 'function') {\n    const label = labelsProvider(key, locale);\n    return label !== undefined && label !== null ? label : defaultLabels[key];\n  }\n\n  // If a labels object provider is set, use it with fallback\n  if (labelsProvider && typeof labelsProvider === 'object') {\n    const label = labelsProvider[key];\n    return label !== undefined && label !== null ? label : defaultLabels[key];\n  }\n\n  // Fall back to default English labels\n  return defaultLabels[key];\n}\n\n/**\n * Set a custom labels provider\n * @param {Function|Object} provider - Either a function(key, locale) -> string or an object with label key-value pairs\n */\nexport function setLabelsProvider(provider) {\n  labelsProvider = provider;\n}\n\n/**\n * Get all default labels\n * @returns {Object} Object with all default English labels\n */\nexport function getDefaultLabels() {\n  return { ...defaultLabels };\n}\n\n/**\n * Reset to default English labels\n */\nexport function resetLabelsProvider() {\n  labelsProvider = null;\n}\n","import { ViewType, CellUnit } from '../config/default';\n\nexport const getSummary = () => ({ text: 'Summary', color: 'red', fontSize: '1.2rem' });\n\nexport const getCustomDate = (schedulerData, num, date = schedulerData.startDate) => {\n  const { viewType, localeDayjs } = schedulerData;\n  let startDate;\n  let endDate;\n  let cellUnit;\n\n  if (viewType === ViewType.Custom1) {\n    const monday = localeDayjs(new Date(date)).startOf('week');\n    startDate = num === 0 ? monday : localeDayjs(new Date(monday)).add(2 * num, 'weeks');\n    endDate = localeDayjs(new Date(startDate)).add(1, 'weeks').endOf('week');\n    cellUnit = CellUnit.Day;\n  } else if (viewType === ViewType.Custom2) {\n    const firstDayOfMonth = localeDayjs(new Date(date)).startOf('month');\n    startDate = num === 0 ? firstDayOfMonth : localeDayjs(new Date(firstDayOfMonth)).add(2 * num, 'months');\n    endDate = localeDayjs(new Date(startDate)).add(1, 'months').endOf('month');\n    cellUnit = CellUnit.Day;\n  } else {\n    startDate = num === 0 ? date : localeDayjs(new Date(date)).add(2 * num, 'days');\n    endDate = localeDayjs(new Date(startDate)).add(1, 'days');\n    cellUnit = CellUnit.Hour;\n  }\n\n  return { startDate, endDate, cellUnit };\n};\n\nexport const getNonAgendaViewBodyCellBgColor = (schedulerData, slotId, header) =>\n  header.nonWorkingTime ? undefined : '#87e8de';\n\nexport const getDateLabel = (schedulerData, viewType, startDate, endDate) => {\n  const { localeDayjs } = schedulerData;\n  const start = localeDayjs(new Date(startDate));\n  const end = localeDayjs(endDate);\n  let dateLabel = '';\n\n  if (\n    viewType === ViewType.Week ||\n    (start !== end && (viewType === ViewType.Custom || viewType === ViewType.Custom1 || viewType === ViewType.Custom2))\n  ) {\n    dateLabel = `${start.format('MMM D')}-${end.format('D, YYYY')}`;\n    if (start.month() !== end.month()) dateLabel = `${start.format('MMM D')}-${end.format('MMM D, YYYY')}`;\n    if (start.year() !== end.year()) dateLabel = `${start.format('MMM D, YYYY')}-${end.format('MMM D, YYYY')}`;\n  } else if (viewType === ViewType.Month) {\n    dateLabel = start.format('MMMM YYYY');\n  } else if (viewType === ViewType.Quarter) {\n    dateLabel = `${start.format('MMM D')}-${end.format('MMM D, YYYY')}`;\n  } else if (viewType === ViewType.Year) {\n    dateLabel = start.format('YYYY');\n  } else {\n    dateLabel = start.format('MMM D, YYYY');\n  }\n\n  return dateLabel;\n};\n\nexport const getEventText = (schedulerData, event) => {\n  const { localeDayjs, isEventPerspective, cellUnit, viewType, resources } = schedulerData;\n\n  // Base label: resource name in event perspective, otherwise event title\n  const base =\n    isEventPerspective && resources\n      ? resources.find(item => item.id === event.resourceId)?.name || event.title\n      : event.title;\n\n  const start = localeDayjs(new Date(event.start));\n  const end = localeDayjs(new Date(event.end));\n\n  // Common, compact time label:\n  // - Hour / Day granularity: show startend time (HH:mmHH:mm)\n  // - Longer views: just show the start date (e.g. Jan 3)\n  let timeLabel;\n  if (cellUnit === CellUnit.Hour || viewType === ViewType.Day) {\n    timeLabel = `${start.format('HH:mm')}-${end.format('HH:mm')}`;\n  } else {\n    timeLabel = start.format('MMM D');\n  }\n\n  return `${timeLabel} ${base}`;\n};\n\nexport const getScrollSpecialDayjs = schedulerData => {\n  const { localeDayjs } = schedulerData;\n  return localeDayjs(new Date());\n};\n\nexport const isNonWorkingTime = (schedulerData, time) => {\n  const { localeDayjs, cellUnit } = schedulerData;\n  if (cellUnit === CellUnit.Hour) {\n    const hour = localeDayjs(new Date(time)).hour();\n    return hour < 9 || hour > 18;\n  }\n  const dayOfWeek = localeDayjs(new Date(time)).day();\n  return dayOfWeek === 0 || dayOfWeek === 6;\n};\n\nexport default {\n  getSummaryFunc: undefined,\n  getCustomDateFunc: undefined,\n  getNonAgendaViewBodyCellBgColorFunc: undefined,\n  getScrollSpecialDayjsFunc: getScrollSpecialDayjs,\n  getDateLabelFunc: getDateLabel,\n  getEventTextFunc: getEventText,\n  isNonWorkingTimeFunc: isNonWorkingTime,\n};\n","import dayjs from 'dayjs';\nimport quarterOfYear from 'dayjs/plugin/quarterOfYear';\nimport utc from 'dayjs/plugin/utc';\nimport weekday from 'dayjs/plugin/weekday';\nimport isoWeek from 'dayjs/plugin/isoWeek';\nimport { RRuleSet, rrulestr } from 'rrule';\nimport { CellUnit, DATE_FORMAT, DATETIME_FORMAT, ViewType } from '../config/default';\nimport config from '../config/scheduler';\nimport { getDefaultLabels, getLabel } from '../config/i18n';\nimport behaviors from '../helper/behaviors';\n\nexport default class SchedulerData {\n  constructor(\n    date = dayjs(),\n    viewType = ViewType.Week,\n    showAgenda = false,\n    isEventPerspective = false,\n    newConfig = undefined,\n    newBehaviors = undefined\n  ) {\n    this.resources = [];\n    this.events = [];\n    this.eventGroups = [];\n    this.eventGroupsAutoGenerated = true;\n    this.viewType = viewType;\n    this.cellUnit = viewType === ViewType.Day ? CellUnit.Hour : CellUnit.Day;\n    this.showAgenda = showAgenda;\n    this.isEventPerspective = isEventPerspective;\n    this.resizing = false;\n    this.scrollToSpecialDayjs = false;\n    this.documentWidth = 0;\n    this.documentHeight = 0;\n    this.schedulerHeaderHeight = 0;\n    this._shouldReloadViewType = false;\n\n    this.calendarPopoverLocale = undefined;\n    dayjs.extend(quarterOfYear);\n    dayjs.extend(weekday);\n    dayjs.extend(utc);\n    dayjs.extend(isoWeek);\n    this.localeDayjs = dayjs;\n    this.config = newConfig === undefined ? config : { ...config, ...newConfig };\n    this._updateLabelsFromI18n();\n    this._validateMinuteStep(this.config.minuteStep);\n    this.behaviors = newBehaviors === undefined ? behaviors : { ...behaviors, ...newBehaviors };\n    this._resolveDate(0, date);\n    this._createHeaders();\n    this._createRenderData();\n  }\n\n  /**\n   * Update user-facing labels from the i18n provider\n   * This allows apps to provide localized labels via setLabelsProvider()\n   * @private\n   */\n  _updateLabelsFromI18n(locale) {\n    // Get labels from the i18n provider if available\n    const defaults = getDefaultLabels();\n    const applyIfProvided = (key, current) => {\n      const value = getLabel(key, locale);\n      if (value === undefined || value === null) return current;\n      return value !== defaults[key] ? value : current;\n    };\n    this.config.resourceName = applyIfProvided('resourceName', this.config.resourceName);\n    this.config.taskName = applyIfProvided('taskName', this.config.taskName);\n    this.config.agendaViewHeader = applyIfProvided('agendaViewHeader', this.config.agendaViewHeader);\n    this.config.weekNumberLabel = applyIfProvided('weekNumberLabel', this.config.weekNumberLabel);\n  }\n\n  setSchedulerLocale(preset) {\n    if (!preset) return;\n\n    this.localeDayjs.locale(preset);\n    this._updateLabelsFromI18n(preset);\n    this._shouldReloadViewType = true;\n    this.setViewType(this.viewType, this.showAgenda, this.isEventPerspective);\n  }\n\n  setCalendarPopoverLocale(lang) {\n    if (lang) {\n      this.calendarPopoverLocale = lang;\n    }\n  }\n\n  setResources(resources) {\n    this._validateResource(resources);\n    this.resources = Array.from(new Set(resources));\n    this._createRenderData();\n    this.setScrollToSpecialDayjs(true);\n  }\n\n  setEventGroupsAutoGenerated(autoGenerated) {\n    this.eventGroupsAutoGenerated = autoGenerated;\n  }\n\n  // optional\n  setEventGroups(eventGroups) {\n    this._validateEventGroups(eventGroups);\n    this.eventGroups = Array.from(new Set(eventGroups));\n    this.eventGroupsAutoGenerated = false;\n    this._createRenderData();\n    this.setScrollToSpecialDayjs(true);\n  }\n\n  setMinuteStep(minuteStep) {\n    if (this.config.minuteStep !== minuteStep) {\n      this._validateMinuteStep(minuteStep);\n      this.config.minuteStep = minuteStep;\n      this._createHeaders();\n      this._createRenderData();\n    }\n  }\n\n  setBesidesWidth(besidesWidth) {\n    if (besidesWidth >= 0) {\n      this.config.besidesWidth = besidesWidth;\n    }\n  }\n\n  setUnderneathHeight(underneathHeight) {\n    if (underneathHeight >= 0) {\n      this.config.underneathHeight = underneathHeight;\n    }\n  }\n\n  getMinuteStepsInHour() {\n    return 60 / this.config.minuteStep;\n  }\n\n  addResource(resource) {\n    const existedResources = this.resources.filter(x => x.id === resource.id);\n    if (existedResources.length === 0) {\n      this.resources.push(resource);\n      this._createRenderData();\n    }\n  }\n\n  addEventGroup(eventGroup) {\n    const existedEventGroups = this.eventGroups.filter(x => x.id === eventGroup.id);\n    if (existedEventGroups.length === 0) {\n      this.eventGroups.push(eventGroup);\n      this._createRenderData();\n    }\n  }\n\n  removeEventGroupById(eventGroupId) {\n    let index = -1;\n    this.eventGroups.forEach((item, idx) => {\n      if (item.id === eventGroupId) index = idx;\n    });\n    if (index !== -1) this.eventGroups.splice(index, 1);\n  }\n\n  containsEventGroupId(eventGroupId) {\n    let index = -1;\n    this.eventGroups.forEach((item, idx) => {\n      if (item.id === eventGroupId) index = idx;\n    });\n    return index !== -1;\n  }\n\n  setEvents(events) {\n    this._validateEvents(events);\n    this.events = Array.from(events);\n    if (this.eventGroupsAutoGenerated) this._generateEventGroups();\n    if (this.config.recurringEventsEnabled) this._handleRecurringEvents();\n\n    this._createRenderData();\n  }\n\n  setScrollToSpecialDayjs(scrollToSpecialDayjs) {\n    if (this.config.scrollToSpecialDayjsEnabled) this.scrollToSpecialDayjs = scrollToSpecialDayjs;\n  }\n\n  prev() {\n    this._resolveDate(-1);\n    this.events = [];\n    this._createHeaders();\n    this._createRenderData();\n  }\n\n  next() {\n    this._resolveDate(1);\n    this.events = [];\n    this._createHeaders();\n    this._createRenderData();\n  }\n\n  setDate(date = dayjs(new Date())) {\n    this._resolveDate(0, date);\n    this.events = [];\n    this._createHeaders();\n    this._createRenderData();\n  }\n\n  setViewType(viewType = ViewType.Week, showAgenda = false, isEventPerspective = false) {\n    this.showAgenda = showAgenda;\n    this.isEventPerspective = isEventPerspective;\n    this.cellUnit = CellUnit.Day;\n\n    if (this.viewType !== viewType || this._shouldReloadViewType) {\n      let date = this.startDate;\n\n      if (viewType === ViewType.Custom || viewType === ViewType.Custom1 || viewType === ViewType.Custom2) {\n        this.viewType = viewType;\n        this._resolveDate(0, date);\n      } else {\n        if (this.viewType < viewType) {\n          if (viewType === ViewType.Week) {\n            this.startDate = this.localeDayjs(new Date(date)).startOf('isoWeek');\n            this.endDate = this.localeDayjs(new Date(this.startDate)).endOf('isoWeek');\n          } else if (viewType === ViewType.Month) {\n            this.startDate = this.localeDayjs(new Date(date)).startOf('month');\n            this.endDate = this.localeDayjs(new Date(this.startDate)).endOf('month');\n          } else if (viewType === ViewType.Quarter) {\n            this.startDate = this.localeDayjs(new Date(date)).startOf('quarter');\n            this.endDate = this.localeDayjs(new Date(this.startDate)).endOf('quarter');\n          } else if (viewType === ViewType.Year) {\n            this.startDate = this.localeDayjs(new Date(date)).startOf('year');\n            this.endDate = this.localeDayjs(new Date(this.startDate)).endOf('year');\n          }\n        } else {\n          const start = this.localeDayjs(new Date(this.startDate));\n          const end = this.localeDayjs(new Date(this.endDate)).add(1, 'days');\n\n          if (this.selectDate !== undefined) {\n            const selectDate = this.localeDayjs(new Date(this.selectDate));\n            if (selectDate >= start && selectDate < end) {\n              date = this.selectDate;\n            }\n          }\n\n          const now = this.localeDayjs();\n          if (now >= start && now < end) {\n            date = now.startOf('day');\n          }\n\n          if (viewType === ViewType.Day) {\n            this.startDate = date;\n            this.endDate = this.startDate;\n            this.cellUnit = CellUnit.Hour;\n          } else if (viewType === ViewType.Week) {\n            this.startDate = this.localeDayjs(new Date(date)).startOf('isoWeek');\n            this.endDate = this.localeDayjs(new Date(this.startDate)).endOf('isoWeek');\n          } else if (viewType === ViewType.Month) {\n            this.startDate = this.localeDayjs(new Date(date)).startOf('month');\n            this.endDate = this.localeDayjs(new Date(this.startDate)).endOf('month');\n          } else if (viewType === ViewType.Quarter) {\n            this.startDate = this.localeDayjs(new Date(date)).startOf('quarter');\n            this.endDate = this.localeDayjs(new Date(this.startDate)).endOf('quarter');\n          }\n        }\n\n        this.viewType = viewType;\n      }\n\n      this._shouldReloadViewType = false;\n\n      this.events = [];\n      this._createHeaders();\n      this._createRenderData();\n      this.setScrollToSpecialDayjs(true);\n    }\n  }\n\n  setSchedulerMaxHeight(newSchedulerMaxHeight) {\n    this.config.schedulerMaxHeight = newSchedulerMaxHeight;\n  }\n\n  isSchedulerResponsive() {\n    return !!this.config.schedulerWidth.endsWith && this.config.schedulerWidth.endsWith('%');\n  }\n\n  toggleExpandStatus(slotId) {\n    let slotEntered = false;\n    let slotIndent = -1;\n    let isExpanded = false;\n    const expandedMap = new Map();\n    this.renderData.forEach(item => {\n      if (slotEntered === false) {\n        if (item.slotId === slotId && item.hasChildren) {\n          slotEntered = true;\n\n          isExpanded = !item.expanded;\n          item.expanded = isExpanded;\n          slotIndent = item.indent;\n          expandedMap.set(item.indent, {\n            expanded: item.expanded,\n            render: item.render,\n          });\n        }\n      } else if (item.indent > slotIndent) {\n        const expandStatus = expandedMap.get(item.indent - 1);\n        item.render = expandStatus.expanded && expandStatus.render;\n\n        if (item.hasChildren) {\n          expandedMap.set(item.indent, {\n            expanded: item.expanded,\n            render: item.render,\n          });\n        }\n      } else {\n        slotEntered = false;\n      }\n    });\n  }\n\n  isResourceViewResponsive() {\n    const resourceTableWidth = this.getResourceTableConfigWidth();\n    return !!resourceTableWidth.endsWith && resourceTableWidth.endsWith('%');\n  }\n\n  isContentViewResponsive() {\n    const contentCellWidth = this.getContentCellConfigWidth();\n    return !!contentCellWidth.endsWith && contentCellWidth.endsWith('%');\n  }\n\n  getSchedulerWidth() {\n    const baseWidth =\n      this.documentWidth - this.config.besidesWidth > 0 ? this.documentWidth - this.config.besidesWidth : 0;\n    return this.isSchedulerResponsive()\n      ? parseInt((baseWidth * Number(this.config.schedulerWidth.slice(0, -1))) / 100, 10)\n      : this.config.schedulerWidth;\n  }\n\n  getSchedulerHeight() {\n    // Use the header height tracked in SchedulerData (set via _setSchedulerHeaderHeight)\n    const headerHeight = this.schedulerHeaderHeight || 0;\n    const baseHeight =\n      this.documentHeight - headerHeight - this.config.tableHeaderHeight - (this.config.underneathHeight || 0);\n    const validBaseHeight = baseHeight > 0 ? baseHeight : 0;\n    if (\n      this.isSchedulerResponsive() &&\n      this.config.schedulerHeight &&\n      this.config.schedulerHeight.endsWith &&\n      this.config.schedulerHeight.endsWith('%')\n    ) {\n      return parseInt((validBaseHeight * Number(this.config.schedulerHeight.slice(0, -1))) / 100, 10);\n    }\n    // fallback to max height if set, else just use base height\n    return this.config.schedulerMaxHeight || validBaseHeight;\n  }\n\n  getResourceTableWidth() {\n    const resourceTableConfigWidth = this.getResourceTableConfigWidth();\n    const schedulerWidth = this.getSchedulerWidth();\n    let resourceTableWidth = this.isResourceViewResponsive()\n      ? parseInt((schedulerWidth * Number(resourceTableConfigWidth.slice(0, -1))) / 100, 10)\n      : resourceTableConfigWidth;\n    if (this.isSchedulerResponsive() && this.getContentTableWidth() + resourceTableWidth < schedulerWidth)\n      resourceTableWidth = schedulerWidth - this.getContentTableWidth();\n    return resourceTableWidth;\n  }\n\n  getContentCellWidth() {\n    const contentCellConfigWidth = this.getContentCellConfigWidth();\n    const schedulerWidth = this.getSchedulerWidth();\n    return this.isContentViewResponsive()\n      ? parseInt((schedulerWidth * Number(contentCellConfigWidth.slice(0, -1))) / 100, 10)\n      : contentCellConfigWidth;\n  }\n\n  getContentTableWidth() {\n    return this.headers.length * this.getContentCellWidth();\n  }\n\n  getScrollToSpecialDayjs() {\n    if (this.config.scrollToSpecialDayjsEnabled) return this.scrollToSpecialDayjs;\n    return false;\n  }\n\n  getSlots() {\n    return this.isEventPerspective ? this.eventGroups : this.resources;\n  }\n\n  getSlotById(slotId) {\n    const slots = this.getSlots();\n    let slot;\n    slots.forEach(item => {\n      if (item.id === slotId) slot = item;\n    });\n    return slot;\n  }\n\n  getResourceById(resourceId) {\n    let resource;\n    this.resources.forEach(item => {\n      if (item.id === resourceId) resource = item;\n    });\n    return resource;\n  }\n\n  getTableHeaderHeight() {\n    return this.config.tableHeaderHeight;\n  }\n\n  getSchedulerContentDesiredHeight() {\n    let height = 0;\n    this.renderData.forEach(item => {\n      if (item.render) height += item.rowHeight;\n    });\n    return height;\n  }\n\n  getCellMaxEvents() {\n    const viewConfigMap = {\n      [ViewType.Week]: 'weekMaxEvents',\n      [ViewType.Day]: 'dayMaxEvents',\n      [ViewType.Month]: 'monthMaxEvents',\n      [ViewType.Year]: 'yearMaxEvents',\n      [ViewType.Quarter]: 'quarterMaxEvents',\n    };\n\n    const configProperty = viewConfigMap[this.viewType] || 'customMaxEvents';\n\n    return this.config[configProperty];\n  }\n\n  getCalendarPopoverLocale() {\n    return this.calendarPopoverLocale;\n  }\n\n  getSelectedDate() {\n    return this.selectDate.format(DATE_FORMAT);\n  }\n\n  getViewStartDate() {\n    return this.startDate;\n  }\n\n  getViewEndDate() {\n    return this.endDate;\n  }\n\n  getViewDates() {\n    return {\n      startDate: this.startDate,\n      endDate: this.endDate,\n    };\n  }\n\n  getDateLabel() {\n    const start = this.localeDayjs(new Date(this.startDate));\n    const end = this.localeDayjs(new Date(this.endDate));\n    let dateLabel = start.format('LL');\n\n    if (start !== end) dateLabel = `${start.format('LL')}-${end.format('LL')}`;\n\n    if (this.behaviors.getDateLabelFunc)\n      dateLabel = this.behaviors.getDateLabelFunc(this, this.viewType, this.startDate, this.endDate);\n\n    return dateLabel;\n  }\n\n  addEvent(newEvent) {\n    this._attachEvent(newEvent);\n    if (this.eventGroupsAutoGenerated) this._generateEventGroups();\n    this._createRenderData();\n  }\n\n  updateEventStart(event, newStart) {\n    this._detachEvent(event);\n    event.start = newStart;\n    this._attachEvent(event);\n    this._createRenderData();\n  }\n\n  updateEventEnd(event, newEnd) {\n    event.end = newEnd;\n    this._createRenderData();\n  }\n\n  swapEvent(eventSource, eventDest) {\n    // Swap group or resource IDs\n    if (this.isEventPerspective) {\n      [eventSource.groupId, eventDest.groupId] = [eventDest.groupId, eventSource.groupId];\n      [eventSource.groupName, eventDest.groupName] = [eventDest.groupName, eventSource.groupName];\n    } else {\n      [eventSource.resourceId, eventDest.resourceId] = [eventDest.resourceId, eventSource.resourceId];\n    }\n\n    // Swap start and end times\n    [eventSource.start, eventDest.start] = [eventDest.start, eventSource.start];\n    [eventSource.end, eventDest.end] = [eventDest.end, eventSource.end];\n\n    // Update the events\n    this._detachEvent(eventSource);\n    this._detachEvent(eventDest);\n    this._attachEvent(eventSource);\n    this._attachEvent(eventDest);\n    this._createRenderData();\n  }\n\n  swapEvent2(eventSource, eventDest) {\n    const tempEventSource = { ...eventSource };\n    const tempEventDest = { ...eventDest };\n    this._detachEvent(eventSource);\n    this._detachEvent(eventDest);\n    if (this.isEventPerspective) {\n      tempEventSource.groupId = eventDest.groupId;\n      tempEventSource.groupName = eventDest.groupName;\n      tempEventDest.groupId = eventSource.groupId;\n      tempEventDest.groupName = eventSource.groupName;\n    } else {\n      tempEventSource.resourceId = eventDest.resourceId;\n      tempEventDest.resourceId = eventSource.resourceId;\n    }\n    tempEventSource.end = eventDest.end;\n    tempEventSource.start = eventDest.start;\n    tempEventDest.end = eventSource.end;\n    tempEventDest.start = eventSource.start;\n    this._attachEvent(tempEventSource);\n    this._attachEvent(tempEventDest);\n    this._createRenderData();\n  }\n\n  moveEvent(event, newSlotId, newSlotName, newStart, newEnd) {\n    this._detachEvent(event);\n    if (this.isEventPerspective) {\n      event.groupId = newSlotId;\n      event.groupName = newSlotName;\n    } else event.resourceId = newSlotId;\n    event.end = newEnd;\n    event.start = newStart;\n    this._attachEvent(event);\n    this._createRenderData();\n  }\n\n  isEventInTimeWindow(eventStart, eventEnd, windowStart, windowEnd) {\n    return eventStart < windowEnd && eventEnd > windowStart;\n  }\n\n  removeEvent(event) {\n    const index = this.events.indexOf(event);\n    if (index !== -1) {\n      this.events.splice(index, 1);\n      this._createRenderData();\n    }\n  }\n\n  removeEventById(eventId) {\n    let index = -1;\n    this.events.forEach((item, idx) => {\n      if (item.id === eventId) index = idx;\n    });\n    if (index !== -1) {\n      this.events.splice(index, 1);\n      this._createRenderData();\n    }\n  }\n\n  getResourceTableConfigWidth() {\n    if (this.showAgenda) {\n      return this.config.agendaResourceTableWidth;\n    }\n\n    const viewConfigMap = {\n      [ViewType.Week]: 'weekResourceTableWidth',\n      [ViewType.Day]: 'dayResourceTableWidth',\n      [ViewType.Month]: 'monthResourceTableWidth',\n      [ViewType.Year]: 'yearResourceTableWidth',\n      [ViewType.Quarter]: 'quarterResourceTableWidth',\n    };\n\n    const configProperty = viewConfigMap[this.viewType] || 'customResourceTableWidth';\n\n    return this.config[configProperty];\n  }\n\n  getContentCellConfigWidth() {\n    const viewConfigMap = {\n      [ViewType.Week]: 'weekCellWidth',\n      [ViewType.Day]: 'dayCellWidth',\n      [ViewType.Month]: 'monthCellWidth',\n      [ViewType.Year]: 'yearCellWidth',\n      [ViewType.Quarter]: 'quarterCellWidth',\n    };\n\n    const configProperty = viewConfigMap[this.viewType] || 'customCellWidth';\n\n    return this.config[configProperty];\n  }\n\n  _setDocumentWidth(documentWidth) {\n    if (documentWidth >= 0) {\n      this.documentWidth = documentWidth;\n    }\n  }\n\n  _setDocumentHeight(documentHeight) {\n    if (documentHeight >= 0) {\n      this.documentHeight = documentHeight;\n    }\n  }\n\n  _setSchedulerHeaderHeight(schedulerHeaderHeight) {\n    if (schedulerHeaderHeight >= 0) {\n      this.schedulerHeaderHeight = schedulerHeaderHeight;\n    }\n  }\n\n  _detachEvent(event) {\n    const index = this.events.indexOf(event);\n    if (index !== -1) this.events.splice(index, 1);\n  }\n\n  _attachEvent(event) {\n    let pos = 0;\n    const eventStart = this.localeDayjs(new Date(event.start));\n    this.events.forEach((item, index) => {\n      const start = this.localeDayjs(new Date(item.start));\n      if (eventStart >= start) pos = index + 1;\n    });\n    this.events.splice(pos, 0, event);\n  }\n\n  _handleRecurringEvents() {\n    const recurringEvents = this.events.filter(x => !!x.rrule);\n    recurringEvents.forEach(item => {\n      this._detachEvent(item);\n    });\n\n    recurringEvents.forEach(item => {\n      const windowStart = this.startDate;\n      const windowEnd = this.endDate.add(1, 'days');\n      const oldStart = this.localeDayjs(new Date(item.start));\n      const oldEnd = this.localeDayjs(new Date(item.end));\n      let rule = rrulestr(item.rrule);\n      let oldDtstart;\n      const oldUntil = rule.origOptions.until || windowEnd.toDate();\n      if (rule.origOptions.dtstart) {\n        oldDtstart = this.localeDayjs(new Date(rule.origOptions.dtstart));\n      }\n      // rule.origOptions.dtstart = oldStart.toDate();\n      if (windowEnd < oldUntil) {\n        rule.origOptions.until = windowEnd.toDate();\n      }\n\n      // reload\n      rule = rrulestr(rule.toString());\n      if (item.exdates || item.exrule) {\n        const rruleSet = new RRuleSet();\n        rruleSet.rrule(rule);\n        if (item.exrule) {\n          rruleSet.exrule(rrulestr(item.exrule));\n        }\n        if (item.exdates) {\n          item.exdates.forEach(exdate => {\n            rruleSet.exdate(this.localeDayjs(exdate).toDate());\n          });\n        }\n        rule = rruleSet;\n      }\n\n      const all = rule.between(new Date(windowStart), new Date(windowEnd));\n      all.forEach((time, index) => {\n        const newEvent = {\n          ...item,\n          recurringEventId: item.id,\n          recurringEventStart: item.start,\n          recurringEventEnd: item.end,\n          id: `${item.id}-${index}`,\n          start: rule.origOptions.tzid\n            ? this.localeDayjs\n                .utc(time)\n                .utcOffset(this.localeDayjs(new Date()).utcOffset(), true)\n                .format(DATETIME_FORMAT)\n            : this.localeDayjs(new Date(time)).format(DATETIME_FORMAT),\n          end: rule.origOptions.tzid\n            ? this.localeDayjs\n                .utc(time)\n                .utcOffset(this.localeDayjs(new Date()).utcOffset(), true)\n                .add(oldEnd.diff(oldStart), 'ms')\n                .add(\n                  this.localeDayjs(new Date(oldUntil)).utcOffset() - this.localeDayjs(new Date(item.start)).utcOffset(),\n                  'm'\n                )\n                .format(DATETIME_FORMAT)\n            : this.localeDayjs(new Date(time)).add(oldEnd.diff(oldStart), 'ms').format(DATETIME_FORMAT),\n        };\n\n        const eventStart = this.localeDayjs(newEvent.start);\n        const eventEnd = this.localeDayjs(newEvent.end);\n        if (\n          this.isEventInTimeWindow(eventStart, eventEnd, windowStart, windowEnd) &&\n          (!oldDtstart || eventStart >= oldDtstart)\n        ) {\n          this._attachEvent(newEvent);\n        }\n      });\n    });\n  }\n\n  _resolveDate(num, date = undefined) {\n    if (date !== undefined) {\n      this.selectDate = this.localeDayjs(date);\n    }\n\n    const setStartAndEndDates = unit => {\n      this.startDate = date !== undefined ? this.selectDate.startOf(unit) : this.startDate.add(num, `${unit}s`);\n      this.endDate = this.startDate.endOf(unit);\n    };\n\n    switch (this.viewType) {\n      case ViewType.Week:\n        if (date !== undefined) {\n          this.startDate = this.selectDate.startOf('isoWeek');\n        } else {\n          this.startDate = this.startDate.add(num, 'weeks');\n        }\n        this.endDate = this.startDate.endOf('isoWeek');\n        break;\n\n      case ViewType.Day:\n        this.startDate = date !== undefined ? this.selectDate : this.startDate.add(num, 'days');\n        this.endDate = this.startDate;\n        break;\n\n      case ViewType.Month:\n        setStartAndEndDates('month');\n        break;\n\n      case ViewType.Quarter:\n        setStartAndEndDates('quarter');\n        break;\n\n      case ViewType.Year:\n        setStartAndEndDates('year');\n        break;\n\n      case ViewType.Custom:\n      case ViewType.Custom1:\n      case ViewType.Custom2:\n        if (this.behaviors.getCustomDateFunc !== undefined) {\n          const customDate = this.behaviors.getCustomDateFunc(this, num, date);\n          this.startDate = this.localeDayjs(customDate.startDate);\n          this.endDate = this.localeDayjs(customDate.endDate);\n          if (customDate.cellUnit) {\n            this.cellUnit = customDate.cellUnit;\n          }\n        } else {\n          throw new Error(\n            'This is a custom view type, set behaviors.getCustomDateFunc func ' +\n              'to resolve the time window (startDate and endDate) yourself'\n          );\n        }\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  // Previous Code\n  _createHeaders() {\n    const headers = [];\n    let start = this.localeDayjs(new Date(this.startDate));\n    let end = this.localeDayjs(new Date(this.endDate));\n    let header = start;\n\n    if (this.showAgenda) {\n      headers.push({ time: header.format(DATETIME_FORMAT), nonWorkingTime: false });\n    } else if (this.cellUnit === CellUnit.Hour) {\n      if (start.hour() === 0) {\n        start = start.add(this.config.dayStartFrom, 'hours');\n      }\n      if (end.hour() === 0) {\n        end = end.add(this.config.dayStopTo, 'hours');\n      }\n      header = start;\n\n      let prevHour = -1;\n      while (header >= start && header <= end) {\n        // prevent doubled hours on time change\n        if (header.hour() === prevHour) {\n          header = header.add(1, 'hours');\n\n          continue;\n        }\n        prevHour = header.hour();\n        const minuteSteps = this.getMinuteStepsInHour();\n        for (let i = 0; i < minuteSteps; i += 1) {\n          const hour = header.hour();\n          if (hour >= this.config.dayStartFrom && hour <= this.config.dayStopTo) {\n            const time = header.format(DATETIME_FORMAT);\n            const nonWorkingTime = this.behaviors.isNonWorkingTimeFunc(this, time);\n            headers.push({ time, nonWorkingTime });\n          }\n\n          header = header.add(this.config.minuteStep, 'minutes');\n        }\n      }\n    } else if (this.cellUnit === CellUnit.Day) {\n      while (header >= start && header <= end) {\n        const time = header.format(DATETIME_FORMAT);\n        const dayOfWeek = header.day();\n        if (this.config.displayWeekend || (dayOfWeek !== 0 && dayOfWeek !== 6)) {\n          const nonWorkingTime = this.behaviors.isNonWorkingTimeFunc(this, time);\n          headers.push({ time, nonWorkingTime });\n        }\n\n        header = header.add(1, 'days');\n      }\n    } else if (this.cellUnit === CellUnit.Week) {\n      while (header >= start && header <= end) {\n        const time = header.format(DATE_FORMAT);\n        headers.push({ time });\n        header = header.add(1, 'weeks').startOf('isoWeek');\n      }\n    } else if (this.cellUnit === CellUnit.Month) {\n      while (header >= start && header <= end) {\n        const time = header.format(DATE_FORMAT);\n        headers.push({ time });\n        header = header.add(1, 'months').startOf('month');\n      }\n    } else if (this.cellUnit === CellUnit.Year) {\n      while (header >= start && header <= end) {\n        const time = header.format(DATE_FORMAT);\n        headers.push({ time });\n        header = header.add(1, 'years').startOf('year');\n      }\n    }\n\n    this.headers = headers;\n  }\n\n  _createInitHeaderEvents(header) {\n    const start = this.localeDayjs(new Date(header.time));\n    const startValue = start.format(DATETIME_FORMAT);\n\n    let endValue;\n    if (this.showAgenda) {\n      const incrementUnit =\n        {\n          [ViewType.Day]: 'days',\n          [ViewType.Week]: 'weeks',\n          [ViewType.Month]: 'months',\n          [ViewType.Year]: 'years',\n          [ViewType.Quarter]: 'quarters',\n        }[this.viewType] || 'days';\n\n      if (incrementUnit === 'days') {\n        endValue = this.localeDayjs(new Date(this.endDate)).add(1, 'days').format(DATETIME_FORMAT);\n      } else {\n        endValue = start.add(1, incrementUnit).format(DATETIME_FORMAT);\n      }\n    } else {\n      const incrementUnit =\n        {\n          [CellUnit.Hour]: 'minutes',\n          [CellUnit.Week]: 'weeks',\n          [CellUnit.Month]: 'months',\n          [CellUnit.Year]: 'years',\n        }[this.cellUnit] || 'days';\n\n      endValue = start\n        .add(incrementUnit === 'minutes' ? this.config.minuteStep : 1, incrementUnit)\n        .format(\n          this.cellUnit === CellUnit.Year || this.cellUnit === CellUnit.Month || this.cellUnit === CellUnit.Week\n            ? DATE_FORMAT\n            : DATETIME_FORMAT\n        );\n    }\n\n    return {\n      time: header.time,\n      nonWorkingTime: header.nonWorkingTime,\n      start: startValue,\n      end: endValue,\n      count: 0,\n      addMore: 0,\n      addMoreIndex: 0,\n      events: Array(3),\n    };\n  }\n\n  _createHeaderEvent(render, span, eventItem) {\n    return { render, span, eventItem };\n  }\n\n  _getEventSlotId(event) {\n    return this.isEventPerspective ? this._getEventGroupId(event) : event.resourceId;\n  }\n\n  _getEventGroupId(event) {\n    return event.groupId ? event.groupId.toString() : event.id.toString();\n  }\n\n  _getEventGroupName(event) {\n    return event.groupName ? event.groupName : event.title;\n  }\n\n  _generateEventGroups() {\n    const eventGroups = [];\n    const set = new Set();\n    this.events.forEach(item => {\n      const groupId = this._getEventGroupId(item);\n      const groupName = this._getEventGroupName(item);\n\n      if (!set.has(groupId)) {\n        eventGroups.push({\n          id: groupId,\n          name: groupName,\n          state: item,\n        });\n        set.add(groupId);\n      }\n    });\n    this.eventGroups = eventGroups;\n  }\n\n  _createInitRenderData(isEventPerspective, eventGroups, resources, headers) {\n    const slots = isEventPerspective ? eventGroups : resources;\n    const slotTree = [];\n    const slotMap = new Map();\n    slots.forEach(slot => {\n      const headerEvents = headers.map(header => this._createInitHeaderEvents(header));\n\n      const slotRenderData = {\n        ...slot,\n        slotId: slot.id,\n        slotName: slot.name,\n        slotTitle: slot.title,\n        parentId: slot.parentId,\n        groupOnly: slot.groupOnly,\n        hasSummary: false,\n        rowMaxCount: 0,\n        rowHeight:\n          this.config.nonAgendaSlotMinHeight !== 0\n            ? this.config.nonAgendaSlotMinHeight\n            : this.config.eventItemLineHeight + 2,\n        headerItems: headerEvents,\n        indent: 0,\n        hasChildren: false,\n        expanded: true,\n        render: true,\n      };\n\n      const { id } = slot;\n      let value;\n\n      if (slotMap.has(id)) {\n        value = slotMap.get(id);\n        value.data = slotRenderData;\n      } else {\n        value = {\n          data: slotRenderData,\n          children: [],\n        };\n        slotMap.set(id, value);\n      }\n\n      const { parentId } = slot;\n\n      if (!parentId || parentId === id) {\n        slotTree.push(value);\n      } else {\n        let parentValue;\n\n        if (slotMap.has(parentId)) {\n          parentValue = slotMap.get(parentId);\n        } else {\n          parentValue = {\n            data: undefined,\n            children: [],\n          };\n          slotMap.set(parentId, parentValue);\n        }\n\n        parentValue.children.push(value);\n      }\n    });\n\n    const slotStack = [];\n    let i;\n\n    for (i = slotTree.length - 1; i >= 0; i -= 1) {\n      slotStack.push(slotTree[i]);\n    }\n\n    const initRenderData = [];\n\n    let currentNode;\n\n    while (slotStack.length > 0) {\n      currentNode = slotStack.pop();\n      if (currentNode.data.indent > 0) {\n        currentNode.data.render = this.config.defaultExpanded;\n      }\n      if (currentNode.children.length > 0) {\n        currentNode.data.hasChildren = true;\n        currentNode.data.expanded = this.config.defaultExpanded;\n      }\n      initRenderData.push(currentNode.data);\n\n      for (i = currentNode.children.length - 1; i >= 0; i -= 1) {\n        currentNode.children[i].data.indent = currentNode.data.indent + 1;\n        slotStack.push(currentNode.children[i]);\n      }\n    }\n\n    return initRenderData;\n  }\n\n  _getSpan(startTime, endTime, headers) {\n    if (this.showAgenda) return 1;\n\n    const timeBetween = (date1, date2, timeIn) => {\n      if (timeIn === 'days' || timeIn === 'day') {\n        if (date1.getDate() === date2.getDate() && date1.getMonth() === date2.getMonth()) {\n          return 1;\n        }\n      }\n\n      let one;\n      switch (timeIn) {\n        case 'days':\n        case 'day':\n          one = 1000 * 60 * 60 * 24;\n          break;\n        case 'minutes':\n        case 'minute':\n          one = 1000 * 60;\n          break;\n        default:\n          return 0;\n      }\n\n      const date1Ms = date1.getTime();\n      const date2Ms = date2.getTime();\n\n      const diff = (date2Ms - date1Ms) / one;\n      return diff < 0 ? 0 : diff;\n    };\n\n    const eventStart = new Date(startTime);\n    const eventEnd = new Date(endTime);\n    let span = 0;\n    const windowStart = new Date(this.startDate);\n    const windowEnd = new Date(this.endDate);\n\n    windowStart.setHours(0, 0, 0, 0);\n    windowEnd.setHours(23, 59, 59);\n\n    if (this.viewType === ViewType.Day) {\n      if (headers.length > 0) {\n        const day = new Date(headers[0].time);\n        if (day.getDate() > eventStart.getDate() && day.getDate() < eventEnd.getDate()) {\n          span = 1440 / this.config.minuteStep;\n        } else if (day.getDate() > eventStart.getDate() && day.getDate() === eventEnd.getDate()) {\n          span = Math.ceil(timeBetween(day, eventEnd, 'minutes') / this.config.minuteStep);\n        } else if (day.getDate() === eventStart.getDate() && day.getDate() < eventEnd.getDate()) {\n          day.setHours(23, 59, 59);\n          span = Math.ceil(timeBetween(eventStart, day, 'minutes') / this.config.minuteStep);\n        } else if (\n          (day.getDate() === eventStart.getDate() && day.getDate() === eventEnd.getDate()) ||\n          eventEnd.getDate() === eventStart.getDate()\n        ) {\n          span = Math.ceil(timeBetween(eventStart, eventEnd, 'minutes') / this.config.minuteStep);\n        }\n      }\n    } else if (\n      this.viewType === ViewType.Week ||\n      this.viewType === ViewType.Month ||\n      this.viewType === ViewType.Quarter ||\n      this.viewType === ViewType.Year\n    ) {\n      const startDate = windowStart < eventStart ? eventStart : windowStart;\n      const endDate = windowEnd > eventEnd ? eventEnd : windowEnd;\n      span = Math.ceil(timeBetween(startDate, endDate, 'days'));\n    } else {\n      if (this.cellUnit === CellUnit.Day) {\n        eventEnd.setHours(23, 59, 59);\n        eventStart.setHours(0, 0, 0, 0);\n      }\n\n      const timeIn = this.cellUnit === CellUnit.Day ? 'days' : 'minutes';\n      const dividedBy = this.cellUnit === CellUnit.Day ? 1 : this.config.minuteStep;\n\n      if (windowStart >= eventStart && eventEnd <= windowEnd) {\n        span = Math.ceil(timeBetween(windowStart, eventEnd, timeIn) / dividedBy);\n      } else if (windowStart > eventStart && eventEnd > windowEnd) {\n        span = Math.ceil(timeBetween(windowStart, windowEnd, timeIn) / dividedBy);\n      } else if (windowStart <= eventStart && eventEnd >= windowEnd) {\n        span = Math.ceil(timeBetween(eventStart, windowEnd, timeIn) / dividedBy);\n      } else {\n        span = Math.ceil(timeBetween(eventStart, eventEnd, timeIn) / dividedBy);\n      }\n    }\n\n    return span;\n  }\n\n  _validateResource(resources) {\n    if (Object.prototype.toString.call(resources) !== '[object Array]') {\n      throw new Error('Resources should be Array object');\n    }\n\n    resources.forEach((item, index) => {\n      if (item === undefined) {\n        console.error(`Resource undefined: ${index}`);\n        throw new Error(`Resource undefined: ${index}`);\n      }\n      if (item.id === undefined || item.name === undefined) {\n        console.error('Resource property missed', index, item);\n        throw new Error(`Resource property undefined: ${index}`);\n      }\n    });\n  }\n\n  _validateEventGroups(eventGroups) {\n    if (Object.prototype.toString.call(eventGroups) !== '[object Array]') {\n      throw new Error('Event groups should be Array object');\n    }\n\n    eventGroups.forEach((item, index) => {\n      if (item === undefined) {\n        console.error(`Event group undefined: ${index}`);\n        throw new Error(`Event group undefined: ${index}`);\n      }\n      if (item.id === undefined || item.name === undefined) {\n        console.error('Event group property missed', index, item);\n        throw new Error(`Event group property undefined: ${index}`);\n      }\n    });\n  }\n\n  _validateEvents(events) {\n    if (Object.prototype.toString.call(events) !== '[object Array]') {\n      throw new Error('Events should be Array object');\n    }\n\n    events.forEach((e, index) => {\n      if (e === undefined) {\n        console.error(`Event undefined: ${index}`);\n        throw new Error(`Event undefined: ${index}`);\n      }\n      if (\n        e.id === undefined ||\n        e.resourceId === undefined ||\n        e.title === undefined ||\n        e.start === undefined ||\n        e.end === undefined\n      ) {\n        console.error('Event property missed', index, e);\n        throw new Error(`Event property undefined: ${index}`);\n      }\n    });\n  }\n\n  _validateMinuteStep(minuteStep) {\n    if (60 % minuteStep !== 0) {\n      console.error('Minute step is not set properly - 60 minutes must be divisible without remainder by this number');\n      throw new Error(\n        'Minute step is not set properly - 60 minutes must be divisible without remainder by this number'\n      );\n    }\n  }\n\n  _compare(event1, event2) {\n    const start1 = this.localeDayjs(event1.start);\n    const start2 = this.localeDayjs(event2.start);\n    if (start1 !== start2) return start1 < start2 ? -1 : 1;\n\n    const end1 = this.localeDayjs(event1.end);\n    const end2 = this.localeDayjs(event2.end);\n    if (end1 !== end2) return end1 < end2 ? -1 : 1;\n\n    return event1.id < event2.id ? -1 : 1;\n  }\n\n  _createRenderData() {\n    const initRenderData = this._createInitRenderData(\n      this.isEventPerspective,\n      this.eventGroups,\n      this.resources,\n      this.headers\n    );\n    // this.events.sort(this._compare);\n    const cellMaxEventsCount = this.getCellMaxEvents();\n    const cellMaxEventsCountValue = 30;\n\n    this.events.forEach(item => {\n      const resourceEventsList = initRenderData.filter(x => x.slotId === this._getEventSlotId(item));\n      if (resourceEventsList.length > 0) {\n        const resourceEvents = resourceEventsList[0];\n        const span = this._getSpan(item.start, item.end, this.headers);\n        const eventStart = new Date(item.start);\n        const eventEnd = new Date(item.end);\n        let pos = -1;\n\n        resourceEvents.headerItems.forEach((header, index) => {\n          const headerStart = new Date(header.start);\n          const headerEnd = new Date(header.end);\n          if (headerEnd > eventStart && headerStart < eventEnd) {\n            header.count += 1;\n            if (header.count > resourceEvents.rowMaxCount) {\n              resourceEvents.rowMaxCount = header.count;\n              const rowsCount =\n                cellMaxEventsCount <= cellMaxEventsCountValue && resourceEvents.rowMaxCount > cellMaxEventsCount\n                  ? cellMaxEventsCount\n                  : resourceEvents.rowMaxCount;\n              const newRowHeight =\n                rowsCount * this.config.eventItemLineHeight +\n                (this.config.creatable && this.config.checkConflict === false ? 20 : 2);\n              if (newRowHeight > resourceEvents.rowHeight) resourceEvents.rowHeight = newRowHeight;\n            }\n\n            if (pos === -1) {\n              let tmp = 0;\n              while (header.events[tmp] !== undefined) tmp += 1;\n\n              pos = tmp;\n            }\n            let render = headerStart <= eventStart || index === 0;\n            if (render === false) {\n              const previousHeader = resourceEvents.headerItems[index - 1];\n              const previousHeaderStart = new Date(previousHeader.start);\n              const previousHeaderEnd = new Date(previousHeader.end);\n              if (previousHeaderEnd <= eventStart || previousHeaderStart >= eventEnd) render = true;\n            }\n            header.events[pos] = this._createHeaderEvent(render, span, item);\n          }\n        });\n      }\n    });\n\n    if (cellMaxEventsCount <= cellMaxEventsCountValue || this.behaviors.getSummaryFunc !== undefined) {\n      initRenderData.forEach(resourceEvents => {\n        let hasSummary = false;\n\n        resourceEvents.headerItems.forEach(headerItem => {\n          if (cellMaxEventsCount <= cellMaxEventsCountValue) {\n            let renderItemsCount = 0;\n            let addMoreIndex = 0;\n            let index = 0;\n            while (index < cellMaxEventsCount - 1) {\n              if (headerItem.events[index] !== undefined) {\n                renderItemsCount += 1;\n                addMoreIndex = index + 1;\n              }\n\n              index += 1;\n            }\n\n            if (headerItem.events[index] !== undefined) {\n              if (renderItemsCount + 1 < headerItem.count) {\n                headerItem.addMore = headerItem.count - renderItemsCount;\n                headerItem.addMoreIndex = addMoreIndex;\n              }\n            } else if (renderItemsCount < headerItem.count) {\n              headerItem.addMore = headerItem.count - renderItemsCount;\n              headerItem.addMoreIndex = addMoreIndex;\n            }\n          }\n\n          if (this.behaviors.getSummaryFunc !== undefined) {\n            const events = [];\n            headerItem.events.forEach(e => {\n              if (!!e && !!e.eventItem) events.push(e.eventItem);\n            });\n\n            headerItem.summary = this.behaviors.getSummaryFunc(\n              this,\n              events,\n              resourceEvents.slotId,\n              resourceEvents.slotName,\n              headerItem.start,\n              headerItem.end\n            );\n            if (!!headerItem.summary && headerItem.summary.text !== undefined) hasSummary = true;\n          }\n        });\n\n        resourceEvents.hasSummary = hasSummary;\n        if (hasSummary) {\n          const rowsCount =\n            cellMaxEventsCount <= cellMaxEventsCountValue && resourceEvents.rowMaxCount > cellMaxEventsCount\n              ? cellMaxEventsCount\n              : resourceEvents.rowMaxCount;\n          const newRowHeight =\n            (rowsCount + 1) * this.config.eventItemLineHeight +\n            (this.config.creatable && this.config.checkConflict === false ? 20 : 2);\n          if (newRowHeight > resourceEvents.rowHeight) resourceEvents.rowHeight = newRowHeight;\n        }\n      });\n    }\n\n    this.renderData = initRenderData;\n  }\n\n  _startResizing() {\n    this.resizing = true;\n  }\n\n  _stopResizing() {\n    this.resizing = false;\n  }\n\n  _isResizing() {\n    return this.resizing;\n  }\n}\n","import { LeftOutlined, RightOutlined } from '@ant-design/icons';\nimport { Calendar, Col, Popover, Radio, Row, Space, Spin } from 'antd';\nimport dayjs from 'dayjs';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { DATE_FORMAT } from '../config/default';\n\nconst RadioButton = Radio.Button;\nconst RadioGroup = Radio.Group;\n\nconst SchedulerHeader = React.forwardRef(\n  ({ onViewChange, goNext, goBack, onSelectDate, schedulerData, leftCustomHeader, rightCustomHeader, style }, ref) => {\n    const [viewSpinning, setViewSpinning] = useState(false);\n    const [dateSpinning, setDateSpinning] = useState(false);\n    const [visible, setVisible] = useState(false);\n\n    const { viewType, showAgenda, isEventPerspective, config } = schedulerData;\n    const dateLabel = schedulerData.getDateLabel();\n    const selectDate = schedulerData.getSelectedDate();\n    const calendarLocale = schedulerData.getCalendarPopoverLocale()?.default?.Calendar;\n    const defaultValue = `${viewType}${showAgenda ? 1 : 0}${isEventPerspective ? 1 : 0}`;\n\n    const isMountedRef = useRef(true);\n\n    useEffect(() => {\n      return () => {\n        isMountedRef.current = false;\n      };\n    }, []);\n\n    const handleEvents = (func, isViewSpinning, funcArg) => {\n      const isSpinEnabled = isViewSpinning ? config.viewChangeSpinEnabled : config.dateChangeSpinEnabled;\n\n      const setSpin = isViewSpinning ? setViewSpinning : setDateSpinning;\n\n      if (isSpinEnabled) {\n        setSpin(true);\n      }\n\n      const coreFunc = () => {\n        try {\n          funcArg !== undefined ? func(funcArg) : func();\n        } finally {\n          if (isSpinEnabled && isMountedRef.current) {\n            setSpin(false);\n          }\n        }\n      };\n\n      if (isSpinEnabled) {\n        setTimeout(coreFunc, config.schedulerHeaderEventsFuncsTimeoutMs);\n      } else {\n        coreFunc();\n      }\n    };\n\n    const popover = (\n      <div className=\"rbs-popover-calendar\">\n        <Calendar\n          locale={calendarLocale}\n          defaultValue={dayjs(selectDate)}\n          fullscreen={false}\n          onSelect={date => {\n            setVisible(false);\n            handleEvents(onSelectDate, false, date.format(DATE_FORMAT));\n          }}\n        />\n      </div>\n    );\n\n    const radioButtonList = config.views.map(item => (\n      <RadioButton\n        key={`${item.viewType}${item.showAgenda ? 1 : 0}${item.isEventPerspective ? 1 : 0}`}\n        value={`${item.viewType}${item.showAgenda ? 1 : 0}${item.isEventPerspective ? 1 : 0}`}\n      >\n        <span style={{ margin: '0px 8px' }}>{item.viewName}</span>\n      </RadioButton>\n    ));\n\n    return (\n      <Row ref={ref} gutter={[10, 10]} align=\"middle\" justify=\"space-between\" style={{ ...style }}>\n        {leftCustomHeader}\n        <Col>\n          <div className=\"header2-text\">\n            <Space>\n              <div>\n                <LeftOutlined\n                  style={{ marginRight: '8px' }}\n                  className=\"icon-nav\"\n                  onClick={() => handleEvents(goBack, false)}\n                />\n                {config.calendarPopoverEnabled ? (\n                  <Popover\n                    content={popover}\n                    placement=\"bottomLeft\"\n                    trigger=\"click\"\n                    open={visible}\n                    onOpenChange={setVisible}\n                    overlayClassName=\"scheduler-header-popover\"\n                  >\n                    <span className=\"header2-text-label\" style={{ cursor: 'pointer' }}>\n                      {dateLabel}\n                    </span>\n                  </Popover>\n                ) : (\n                  <span className=\"header2-text-label\">{dateLabel}</span>\n                )}\n                <RightOutlined\n                  style={{ marginLeft: '8px' }}\n                  className=\"icon-nav\"\n                  onClick={() => handleEvents(goNext, false)}\n                />\n              </div>\n              <Spin spinning={dateSpinning} />\n            </Space>\n          </div>\n        </Col>\n        <Col>\n          <Space>\n            <Spin spinning={viewSpinning} />\n            <RadioGroup\n              buttonStyle=\"solid\"\n              defaultValue={defaultValue}\n              size=\"default\"\n              onChange={event => handleEvents(onViewChange, true, event)}\n            >\n              {radioButtonList}\n            </RadioGroup>\n          </Space>\n        </Col>\n        {rightCustomHeader}\n      </Row>\n    );\n  }\n);\n\nSchedulerHeader.propTypes = {\n  onViewChange: PropTypes.func.isRequired,\n  goNext: PropTypes.func.isRequired,\n  goBack: PropTypes.func.isRequired,\n  onSelectDate: PropTypes.func.isRequired,\n  schedulerData: PropTypes.object.isRequired,\n  leftCustomHeader: PropTypes.object,\n  rightCustomHeader: PropTypes.object,\n  style: PropTypes.object,\n};\n\nSchedulerHeader.displayName = 'SchedulerHeader';\n\nexport default SchedulerHeader;\n","import { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\n\nexport default function WrapperFun(Component) {\n  return function WrappedComponent(props) {\n    return (\n      <DndProvider backend={HTML5Backend}>\n        <Component {...props} />\n      </DndProvider>\n    );\n  };\n}\n","import PropTypes from 'prop-types';\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { CellUnit, DATETIME_FORMAT, DATE_FORMAT, SummaryPos, ViewType } from '../config/default';\nimport DemoData from '../sample-data/sample1';\nimport AddMorePopover from './AddMorePopover';\nimport AgendaView from './AgendaView';\nimport BodyView from './BodyView';\nimport DependencyOverlay from './DependencyOverlay';\nimport DnDContext from './DnDContext';\nimport DnDSource from './DnDSource';\nimport HeaderView from './HeaderView';\nimport ResourceEvents from './ResourceEvents';\nimport ResourceView from './ResourceView';\nimport SchedulerData from './SchedulerData';\nimport SchedulerHeader from './SchedulerHeader';\nimport wrapperFun from './WrapperFun';\n\n/**\n * Render the scheduler UI with resource and agenda views, responsive sizing, and drag-and-drop support.\n *\n * @param {object} props - Component properties.\n * @param {SchedulerData} props.schedulerData - Scheduler state and configuration used to drive rendering and behavior.\n * @param {Array<DnDSource>} [props.dndSources] - Additional drag-and-drop sources to merge into the\n * scheduler's DnD context.\n * @param {React.RefObject<HTMLElement>} [props.parentRef] - Parent element ref used when sizing\n * is driven by the parent container.\n * @param {function(SchedulerData):void} props.prevClick - Callback invoked to navigate to the previous range.\n * @param {function(SchedulerData):void} props.nextClick - Callback invoked to navigate to the next range.\n * @param {function(SchedulerData, object):void} props.onViewChange - Callback invoked when the view type,\n * agenda toggle, or perspective changes.\n * @param {function(SchedulerData, string|Date):void} props.onSelectDate - Callback invoked when a date is selected.\n * @param {React.ReactNode} [props.leftCustomHeader] - Optional custom content rendered on the left side of the header.\n * @param {React.ReactNode} [props.rightCustomHeader] - Optional custom content rendered on the\n * right side of the header.\n * @param {function} [props.CustomResourceHeader] - Optional component used to render the resource header cell.\n * @param {object} [props.configTableHeaderStyle] - Optional inline style object applied\n * to the resource header container.\n * @returns {JSX.Element} The scheduler root element tree to be rendered.\n */\n\nfunction Scheduler(props) {\n  const {\n    schedulerData,\n    dndSources,\n    parentRef,\n    prevClick,\n    nextClick,\n    onViewChange,\n    onSelectDate,\n    leftCustomHeader,\n    rightCustomHeader,\n    CustomResourceHeader,\n    configTableHeaderStyle,\n    dependencies,\n  } = props;\n\n  // Initialize DnD context\n  const initDndContext = () => {\n    let sources = [];\n    sources.push(new DnDSource(dndProps => dndProps.eventItem, schedulerData.config.dragAndDropEnabled));\n    if (dndSources !== undefined && dndSources.length > 0) {\n      sources = [...sources, ...dndSources];\n    }\n    return new DnDContext(sources);\n  };\n\n  // State initialization\n  const [state, setState] = useState({\n    dndContext: initDndContext(),\n    contentScrollbarHeight: 17,\n    contentScrollbarWidth: 17,\n    resourceScrollbarHeight: 17,\n    resourceScrollbarWidth: 17,\n    documentWidth: 0,\n    documentHeight: 0,\n    headerHeight: 0,\n  });\n\n  // Refs instead of class properties\n  const currentAreaRef = useRef(-1);\n  const scrollLeftRef = useRef(0);\n  const scrollTopRef = useRef(0);\n  const schedulerHeadRef = useRef(null);\n  const schedulerHeaderRef = useRef(null);\n  const schedulerResourceRef = useRef(null);\n  const schedulerContentRef = useRef(null);\n  const schedulerContentBgTableRef = useRef(null);\n  const ulObserverRef = useRef(null);\n  const headerObserverRef = useRef(null);\n\n  // Window resize handler\n  const onWindowResize = useCallback(() => {\n    schedulerData._setDocumentWidth(document.documentElement.clientWidth);\n    schedulerData._setDocumentHeight(document.documentElement.clientHeight);\n    setState(prevState => ({\n      ...prevState,\n      documentWidth: document.documentElement.clientWidth,\n      documentHeight: document.documentElement.clientHeight,\n    }));\n  }, [schedulerData]);\n\n  // Effect for window resize event\n  useEffect(() => {\n    if (\n      (schedulerData.isSchedulerResponsive() && !schedulerData.config.responsiveByParent) ||\n      parentRef === undefined\n    ) {\n      schedulerData._setDocumentWidth(document.documentElement.clientWidth);\n      schedulerData._setDocumentHeight(document.documentElement.clientHeight);\n      window.addEventListener('resize', onWindowResize);\n\n      return () => {\n        window.removeEventListener('resize', onWindowResize);\n      };\n    }\n  }, [schedulerData, parentRef, onWindowResize]);\n\n  // Effect for parent element resize observation\n  useEffect(() => {\n    if (parentRef !== undefined) {\n      if (schedulerData.config.responsiveByParent && !!parentRef.current) {\n        schedulerData._setDocumentWidth(parentRef.current.offsetWidth);\n\n        ulObserverRef.current = new ResizeObserver(() => {\n          if (parentRef.current) {\n            const width = parentRef.current.offsetWidth;\n            const height = parentRef.current.offsetHeight;\n            schedulerData._setDocumentWidth(width);\n            schedulerData._setDocumentHeight(height);\n            setState(prevState => ({\n              ...prevState,\n              documentWidth: width,\n              documentHeight: height,\n            }));\n          }\n        });\n\n        ulObserverRef.current.observe(parentRef.current);\n\n        return () => {\n          if (ulObserverRef.current && parentRef.current) {\n            ulObserverRef.current.unobserve(parentRef.current);\n          }\n        };\n      }\n    }\n  }, [parentRef, schedulerData]);\n\n  // Effect for scheduler header resize observation\n  useEffect(() => {\n    if (schedulerHeaderRef !== undefined) {\n      if (schedulerData.config.responsiveByParent && !!schedulerHeaderRef.current) {\n        schedulerData._setDocumentWidth(schedulerHeaderRef.current.offsetWidth);\n        schedulerData._setDocumentHeight(schedulerHeaderRef.current.offsetHeight);\n        headerObserverRef.current = new ResizeObserver(entries => {\n          entries.forEach(entry => {\n            // Get the DOM node\n            const node = entry.target;\n            // Get the height from the bounding rect (includes padding and border)\n            const rect = node.getBoundingClientRect();\n            // Get computed styles for margins\n            const style = window.getComputedStyle(node);\n            const marginTop = parseFloat(style.marginTop) || 0;\n            const marginBottom = parseFloat(style.marginBottom) || 0;\n            // Total height including margins\n            const totalHeight = rect.height + marginTop + marginBottom;\n            schedulerData._setSchedulerHeaderHeight(totalHeight);\n            setState(prevState => ({\n              ...prevState,\n              headerHeight: totalHeight,\n            }));\n          });\n        });\n\n        headerObserverRef.current.observe(schedulerHeaderRef.current);\n\n        return () => {\n          if (headerObserverRef.current && schedulerHeaderRef.current) {\n            headerObserverRef.current.unobserve(schedulerHeaderRef.current);\n          }\n        };\n      }\n    }\n  }, [schedulerHeaderRef, schedulerData]);\n\n  // Resolving scrollbar sizes\n  const resolveScrollbarSize = useCallback(() => {\n    let contentScrollbarHeight = 17;\n    let contentScrollbarWidth = 17;\n    let resourceScrollbarHeight = 17;\n    let resourceScrollbarWidth = 17;\n\n    if (schedulerContentRef.current) {\n      contentScrollbarHeight = schedulerContentRef.current.offsetHeight - schedulerContentRef.current.clientHeight;\n      contentScrollbarWidth = schedulerContentRef.current.offsetWidth - schedulerContentRef.current.clientWidth;\n    }\n\n    if (schedulerResourceRef.current) {\n      resourceScrollbarHeight = schedulerResourceRef.current.offsetHeight - schedulerResourceRef.current.clientHeight;\n      resourceScrollbarWidth = schedulerResourceRef.current.offsetWidth - schedulerResourceRef.current.clientWidth;\n    }\n\n    let needSet = false;\n    let tmpState = {};\n\n    if (contentScrollbarHeight !== state.contentScrollbarHeight) {\n      tmpState = { ...tmpState, contentScrollbarHeight };\n      needSet = true;\n    }\n    if (contentScrollbarWidth !== state.contentScrollbarWidth) {\n      tmpState = { ...tmpState, contentScrollbarWidth };\n      needSet = true;\n    }\n    if (resourceScrollbarHeight !== state.resourceScrollbarHeight) {\n      tmpState = { ...tmpState, resourceScrollbarHeight };\n      needSet = true;\n    }\n    if (resourceScrollbarWidth !== state.resourceScrollbarWidth) {\n      tmpState = { ...tmpState, resourceScrollbarWidth };\n      needSet = true;\n    }\n\n    if (needSet) {\n      setState(prevState => ({\n        ...prevState,\n        ...tmpState,\n      }));\n    }\n  }, [\n    state.contentScrollbarHeight,\n    state.contentScrollbarWidth,\n    state.resourceScrollbarHeight,\n    state.resourceScrollbarWidth,\n  ]);\n\n  // Effect for scrollToSpecialDayjs functionality\n  useEffect(() => {\n    resolveScrollbarSize();\n\n    const { localeDayjs, behaviors } = schedulerData;\n    if (schedulerData.getScrollToSpecialDayjs() && !!behaviors.getScrollSpecialDayjsFunc) {\n      if (\n        !!schedulerContentRef.current &&\n        schedulerContentRef.current.scrollWidth > schedulerContentRef.current.clientWidth\n      ) {\n        const start = localeDayjs(new Date(schedulerData.startDate)).startOf('day');\n        const end = localeDayjs(new Date(schedulerData.endDate)).endOf('day');\n        const specialDayjs = behaviors.getScrollSpecialDayjsFunc(schedulerData, start, end);\n        if (specialDayjs >= start && specialDayjs <= end) {\n          let index = 0;\n          schedulerData.headers.forEach(item => {\n            const header = localeDayjs(new Date(item.time));\n            if (specialDayjs >= header) {\n              index += 1;\n            }\n          });\n          schedulerContentRef.current.scrollLeft = (index - 1) * schedulerData.getContentCellWidth();\n\n          schedulerData.setScrollToSpecialDayjs(false);\n        }\n      }\n    }\n  }, [schedulerData, resolveScrollbarSize]);\n\n  // Mouse event handlers\n  const onSchedulerHeadMouseOver = useCallback(() => {\n    currentAreaRef.current = 2;\n  }, []);\n\n  const onSchedulerHeadMouseOut = useCallback(() => {\n    currentAreaRef.current = -1;\n  }, []);\n\n  const onSchedulerHeadScroll = useCallback(() => {\n    if (\n      (currentAreaRef.current === 2 || currentAreaRef.current === -1) &&\n      schedulerContentRef.current.scrollLeft !== schedulerHeadRef.current.scrollLeft\n    ) {\n      schedulerContentRef.current.scrollLeft = schedulerHeadRef.current.scrollLeft;\n    }\n  }, []);\n\n  const onSchedulerResourceMouseOver = useCallback(() => {\n    currentAreaRef.current = 1;\n  }, []);\n\n  const onSchedulerResourceMouseOut = useCallback(() => {\n    currentAreaRef.current = -1;\n  }, []);\n\n  const onSchedulerResourceScroll = useCallback(() => {\n    if (schedulerResourceRef.current) {\n      if (\n        (currentAreaRef.current === 1 || currentAreaRef.current === -1) &&\n        schedulerContentRef.current.scrollTop !== schedulerResourceRef.current.scrollTop\n      ) {\n        schedulerContentRef.current.scrollTop = schedulerResourceRef.current.scrollTop;\n      }\n    }\n  }, []);\n\n  const onSchedulerContentMouseOver = useCallback(() => {\n    currentAreaRef.current = 0;\n  }, []);\n\n  const onSchedulerContentMouseOut = useCallback(() => {\n    currentAreaRef.current = -1;\n  }, []);\n\n  const onSchedulerContentScroll = useCallback(() => {\n    if (schedulerResourceRef.current) {\n      if (currentAreaRef.current === 0 || currentAreaRef.current === -1) {\n        if (schedulerHeadRef.current.scrollLeft !== schedulerContentRef.current.scrollLeft) {\n          schedulerHeadRef.current.scrollLeft = schedulerContentRef.current.scrollLeft;\n        }\n        if (schedulerResourceRef.current.scrollTop !== schedulerContentRef.current.scrollTop) {\n          schedulerResourceRef.current.scrollTop = schedulerContentRef.current.scrollTop;\n        }\n      }\n    }\n\n    const { onScrollLeft, onScrollRight, onScrollTop, onScrollBottom } = props;\n\n    if (schedulerContentRef.current.scrollLeft !== scrollLeftRef.current) {\n      if (schedulerContentRef.current.scrollLeft === 0 && onScrollLeft !== undefined) {\n        onScrollLeft(\n          schedulerData,\n          schedulerContentRef.current,\n          schedulerContentRef.current.scrollWidth - schedulerContentRef.current.clientWidth\n        );\n      }\n      if (\n        Math.round(schedulerContentRef.current.scrollLeft) ===\n          schedulerContentRef.current.scrollWidth - schedulerContentRef.current.clientWidth &&\n        onScrollRight !== undefined\n      ) {\n        onScrollRight(\n          schedulerData,\n          schedulerContentRef.current,\n          schedulerContentRef.current.scrollWidth - schedulerContentRef.current.clientWidth\n        );\n      }\n    } else if (schedulerContentRef.current.scrollTop !== scrollTopRef.current) {\n      if (schedulerContentRef.current.scrollTop === 0 && onScrollTop !== undefined) {\n        onScrollTop(\n          schedulerData,\n          schedulerContentRef.current,\n          schedulerContentRef.current.scrollHeight - schedulerContentRef.current.clientHeight\n        );\n      }\n      if (\n        Math.round(schedulerContentRef.current.scrollTop) ===\n          schedulerContentRef.current.scrollHeight - schedulerContentRef.current.clientHeight &&\n        onScrollBottom !== undefined\n      ) {\n        onScrollBottom(\n          schedulerData,\n          schedulerContentRef.current,\n          schedulerContentRef.current.scrollHeight - schedulerContentRef.current.clientHeight\n        );\n      }\n    }\n\n    scrollLeftRef.current = schedulerContentRef.current.scrollLeft;\n    scrollTopRef.current = schedulerContentRef.current.scrollTop;\n  }, [props, schedulerData]);\n\n  // Event handlers\n  const handleViewChange = useCallback(\n    e => {\n      const viewType = parseInt(e.target.value.charAt(0), 10);\n      const showAgenda = e.target.value.charAt(1) === '1';\n      const isEventPerspective = e.target.value.charAt(2) === '1';\n      onViewChange(schedulerData, { viewType, showAgenda, isEventPerspective });\n    },\n    [onViewChange, schedulerData]\n  );\n\n  const goNext = useCallback(() => {\n    nextClick(schedulerData);\n  }, [nextClick, schedulerData]);\n\n  const goBack = useCallback(() => {\n    prevClick(schedulerData);\n  }, [prevClick, schedulerData]);\n\n  const onSelect = useCallback(\n    date => {\n      onSelectDate(schedulerData, date);\n    },\n    [onSelectDate, schedulerData]\n  );\n\n  // Rendering\n  const { viewType, renderData, showAgenda, config } = schedulerData;\n  const width = schedulerData.getSchedulerWidth();\n  const { contentScrollbarHeight, contentScrollbarWidth, resourceScrollbarHeight, resourceScrollbarWidth } = state;\n\n  const { showWeekNumber, weekNumberRowHeight } = config;\n\n  let tbodyContent = <tr />;\n  if (showAgenda) {\n    tbodyContent = <AgendaView {...props} />;\n  } else {\n    const resourceTableWidth = schedulerData.getResourceTableWidth();\n    const schedulerContainerWidth = width - (config.resourceViewEnabled ? resourceTableWidth : 0);\n    const schedulerWidth = schedulerData.getContentTableWidth() - 1;\n    const eventDndSource = state.dndContext.getDndSource();\n\n    const displayRenderData = renderData.filter(o => o.render);\n    const resourceEventsList = displayRenderData.map(item => (\n      <ResourceEvents\n        {...props}\n        key={item.slotId}\n        resourceEvents={item}\n        dndSource={eventDndSource}\n        dndContext={state.dndContext}\n      />\n    ));\n\n    const contentHeight = config.schedulerContentHeight;\n    const resourcePaddingBottom = resourceScrollbarHeight === 0 ? contentScrollbarHeight : 0;\n    const contentPaddingBottom = contentScrollbarHeight === 0 ? resourceScrollbarHeight : 0;\n\n    let schedulerContentStyle = {\n      overflowX: viewType === ViewType.Week ? 'hidden' : 'auto',\n      overflowY: 'auto',\n      margin: '0px',\n      position: 'relative',\n      height: contentHeight,\n      paddingBottom: contentPaddingBottom,\n    };\n\n    let resourceContentStyle = {\n      height: contentHeight,\n      overflowX: 'auto',\n      overflowY: 'auto',\n      width: resourceTableWidth + resourceScrollbarWidth - 2,\n      margin: `0px -${contentScrollbarWidth}px 0px 0px`,\n    };\n\n    if (config.schedulerMaxHeight > 0) {\n      const totalHeaderHeight = config.tableHeaderHeight + (showWeekNumber ? weekNumberRowHeight : 0);\n      schedulerContentStyle = {\n        ...schedulerContentStyle,\n        maxHeight: config.schedulerMaxHeight - totalHeaderHeight,\n      };\n      resourceContentStyle = {\n        ...resourceContentStyle,\n        maxHeight: config.schedulerMaxHeight - totalHeaderHeight,\n      };\n    } else if (config.responsiveByParent && schedulerData.documentHeight > 0) {\n      // Responsive height minus SchedulerHeader\n      const availableHeight = schedulerData.getSchedulerHeight();\n\n      schedulerContentStyle = {\n        ...schedulerContentStyle,\n        height: availableHeight,\n      };\n      resourceContentStyle = {\n        ...resourceContentStyle,\n        height: availableHeight,\n      };\n    }\n\n    const resourceName = schedulerData.isEventPerspective ? config.taskName : config.resourceName;\n\n    tbodyContent = (\n      <tr>\n        <td\n          style={{\n            display: config.resourceViewEnabled ? undefined : 'none',\n            width: resourceTableWidth,\n            verticalAlign: 'top',\n          }}\n        >\n          <div className=\"resource-view\">\n            <div\n              style={{\n                borderBottom: `1px solid ${config.headerBorderColor ?? '#e9e9e9'}`,\n                height: config.tableHeaderHeight + (showWeekNumber ? weekNumberRowHeight : 0),\n                ...configTableHeaderStyle,\n              }}\n            >\n              <div\n                style={{\n                  overflowX: 'scroll',\n                  overflowY: 'hidden',\n                  margin: `0px 0px -${contentScrollbarHeight}px`,\n                }}\n              >\n                <table className=\"resource-table\">\n                  <thead>\n                    {showWeekNumber && (\n                      <tr style={{ height: weekNumberRowHeight }}>\n                        <th\n                          style={{\n                            borderBottom: `1px solid ${config.headerBorderColor ?? '#e9e9e9'}`,\n                            fontSize: '0.85em',\n                            opacity: 0.7,\n                            padding: '4px 8px',\n                          }}\n                        >\n                          {config.weekNumberLabel ?? 'Week No.'}\n                        </th>\n                      </tr>\n                    )}\n                    <tr style={{ height: config.tableHeaderHeight }}>\n                      <th className=\"header3-text\">{CustomResourceHeader ? <CustomResourceHeader /> : resourceName}</th>\n                    </tr>\n                  </thead>\n                </table>\n              </div>\n            </div>\n            <div\n              style={resourceContentStyle}\n              ref={schedulerResourceRef}\n              onMouseOver={onSchedulerResourceMouseOver}\n              onFocus={onSchedulerResourceMouseOver}\n              onMouseOut={onSchedulerResourceMouseOut}\n              onBlur={onSchedulerResourceMouseOut}\n              onScroll={onSchedulerResourceScroll}\n            >\n              <ResourceView {...props} contentScrollbarHeight={resourcePaddingBottom} />\n            </div>\n          </div>\n        </td>\n        <td>\n          <div className=\"scheduler-view\" style={{ width: schedulerContainerWidth, verticalAlign: 'top' }}>\n            <div\n              style={{\n                overflow: 'hidden',\n                borderBottom: `1px solid ${config.headerBorderColor ?? '#e9e9e9'}`,\n                height: config.tableHeaderHeight + (showWeekNumber ? weekNumberRowHeight : 0),\n              }}\n            >\n              <div\n                style={{ overflowX: 'scroll', overflowY: 'hidden', margin: `0px 0px -${contentScrollbarHeight}px` }}\n                ref={schedulerHeadRef}\n                onMouseOver={onSchedulerHeadMouseOver}\n                onFocus={onSchedulerHeadMouseOver}\n                onMouseOut={onSchedulerHeadMouseOut}\n                onBlur={onSchedulerHeadMouseOut}\n                onScroll={onSchedulerHeadScroll}\n                aria-label=\"Scheduler Header\"\n              >\n                <div\n                  style={{ paddingRight: `${contentScrollbarWidth}px`, width: schedulerWidth + contentScrollbarWidth }}\n                >\n                  <table className=\"scheduler-bg-table\">\n                    <HeaderView {...props} />\n                  </table>\n                </div>\n              </div>\n            </div>\n            <div\n              style={schedulerContentStyle}\n              ref={schedulerContentRef}\n              onMouseOver={onSchedulerContentMouseOver}\n              onFocus={onSchedulerContentMouseOver}\n              onMouseOut={onSchedulerContentMouseOut}\n              onBlur={onSchedulerContentMouseOut}\n              onScroll={onSchedulerContentScroll}\n            >\n              <div style={{ width: schedulerWidth }}>\n                <div className=\"scheduler-content\">\n                  <DependencyOverlay\n                    key={`${schedulerData.viewType}-${schedulerData.startDate}-${schedulerData.endDate}`}\n                    dependencies={dependencies}\n                  />\n                  <table className=\"scheduler-content-table\">\n                    <tbody>{resourceEventsList}</tbody>\n                  </table>\n                </div>\n                <div className=\"scheduler-bg\">\n                  <table\n                    className=\"scheduler-bg-table\"\n                    style={{ width: schedulerWidth }}\n                    ref={schedulerContentBgTableRef}\n                  >\n                    <BodyView {...props} />\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n        </td>\n      </tr>\n    );\n  }\n\n  const schedulerHeader = (\n    <SchedulerHeader\n      ref={schedulerHeaderRef}\n      style={{\n        display: config.headerEnabled ? undefined : 'none',\n        marginBottom: config.headerEnabled ? '24px' : undefined,\n      }}\n      onViewChange={handleViewChange}\n      schedulerData={schedulerData}\n      onSelectDate={onSelect}\n      goNext={goNext}\n      goBack={goBack}\n      rightCustomHeader={rightCustomHeader}\n      leftCustomHeader={leftCustomHeader}\n    />\n  );\n\n  return (\n    <table id=\"rbs-root\" className=\"rbs\" style={{ width: `${width}px` }}>\n      <thead>\n        <tr>\n          <td colSpan=\"2\">{schedulerHeader}</td>\n        </tr>\n      </thead>\n      <tbody>{tbodyContent}</tbody>\n    </table>\n  );\n}\n\nScheduler.propTypes = {\n  parentRef: PropTypes.object,\n  schedulerData: PropTypes.object.isRequired,\n  prevClick: PropTypes.func.isRequired,\n  nextClick: PropTypes.func.isRequired,\n  onViewChange: PropTypes.func.isRequired,\n  onSelectDate: PropTypes.func.isRequired,\n  onSetAddMoreState: PropTypes.func,\n  updateEventStart: PropTypes.func,\n  updateEventEnd: PropTypes.func,\n  moveEvent: PropTypes.func,\n  movingEvent: PropTypes.func,\n  leftCustomHeader: PropTypes.object,\n  rightCustomHeader: PropTypes.object,\n  newEvent: PropTypes.func,\n  subtitleGetter: PropTypes.func,\n  eventItemClick: PropTypes.func,\n  viewEventClick: PropTypes.func,\n  viewEventText: PropTypes.string,\n  viewEvent2Click: PropTypes.func,\n  viewEvent2Text: PropTypes.string,\n  conflictOccurred: PropTypes.func,\n  eventItemTemplateResolver: PropTypes.func,\n  dndSources: PropTypes.array,\n  slotClickedFunc: PropTypes.func,\n  toggleExpandFunc: PropTypes.func,\n  slotItemTemplateResolver: PropTypes.func,\n  nonAgendaCellHeaderTemplateResolver: PropTypes.func,\n  onScrollLeft: PropTypes.func,\n  onScrollRight: PropTypes.func,\n  onScrollTop: PropTypes.func,\n  onScrollBottom: PropTypes.func,\n  CustomResourceHeader: PropTypes.func,\n  CustomResourceCell: PropTypes.func,\n  configTableHeaderStyle: PropTypes.object,\n  dependencies: PropTypes.array,\n};\n\nexport {\n  AddMorePopover,\n  CellUnit,\n  DATETIME_FORMAT,\n  DATE_FORMAT,\n  DemoData,\n  DnDContext,\n  DnDSource,\n  Scheduler,\n  SchedulerData,\n  SummaryPos,\n  ViewType,\n  wrapperFun,\n};\n"],"names":["_ref","value","_jsx","Row","align","justify","children","Link","to","target","githubRepo","URLS","examples","basic","concat","readOnly","addMore","dragAndDrop","customTime","resizeByParent","dependencies","dependenciesTime","DATE_FORMAT","DATETIME_FORMAT","ViewType","Day","Week","Month","Quarter","Year","Custom","Custom1","Custom2","DnDTypes","resources","id","name","title","groupOnly","parentId","events","start","end","resourceId","bgColor","showPopover","resizable","movable","startResizable","endResizable","rrule","eventsForTaskView","groupId","groupName","eventsForCustomEventStyle","type","DnDSource","_createClass","resolveDragObjFunc","DnDEnabled","_this","dndType","arguments","length","undefined","_classCallCheck","_defineProperty","beginDrag","props","endDrag","monitor","didDrop","moveEvent","newEvent","schedulerData","config","viewType","localeDayjs","item","getItem","getItemType","dropResult","getDropResult","slotId","slotName","newStart","newEnd","initialStart","action","isEvent","event","relativeMove","add","diff","Date","format","tmpDayjs","year","month","date","crossResourceMove","_getEventSlotId","slot","getSlotById","hasConflict","checkConflict","forEach","e","eStart","eEnd","conflictOccurred","console","log","canDrag","resourceEvents","_isResizing","spec","getDragSpec","collect","isDragging","this","EventItemPopover","eventItem","startTime","endTime","statusColor","subtitleGetter","viewEventClick","viewEventText","viewEvent2Click","viewEvent2Text","eventItemPopoverTemplateResolver","subtitle","showViewEvent","clickable1","showViewEvent2","clickable2","renderViewEvent","text","clickHandler","marginLeft","className","style","color","cursor","onClick","_jsxs","width","eventItemPopoverWidth","eventItemPopoverShowColor","Col","span","backgroundColor","eventItemPopoverDateFormat","propTypes","PropTypes","isRequired","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","l","TypeError","call","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","apply","_next","_throw","_defineProperties","_toPropertyKey","key","_callSuper","_getPrototypeOf","_typeof","ReferenceError","_assertThisInitialized","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","Boolean","valueOf","_setPrototypeOf","toPrimitive","String","_toPrimitive","stopDragHelper","count","cellUnit","dragType","tCount","result","displayWeekend","dayOfWeek","day","_ref2","isInPopover","_ref3","EventItem","_Component","ref","eventItemElement","_this$props","dragRef","dragPreviewRef","eventType","resizer","startResizer","endResizer","doDrag","doStartDrag","doEndDrag","stopDrag","stopStartDrag","stopEndDrag","cancelDrag","cancelStartDrag","cancelEndDrag","supportTouch","document","documentElement","ev","_this$props2","stopPropagation","clientX","changedTouches","pageX","buttons","setState","_startResizing","resizerHelper","onselectstart","ondragstart","initDragHelper","_this$props3","left","leftIndex","rightIndex","cellWidth","getContentCellWidth","offset","minWidth","maxWidth","startX","state","newLeft","newWidth","_ref4","_callee","_this$props4","top","updateEventStart","touch","deltaX","sign","_context","_stopResizing","Math","floor","abs","ceil","minuteStep","subscribeResizeEvent","_x","removeEventListener","_this$props5","_this$props6","headers","endX","_ref5","_callee2","_this$props7","updateEventEnd","_context2","error","_x2","_this$props8","rect","getBoundingClientRect","right","contentMousePosX","eventItemLeftRect","eventItemRightRect","initStartDrag","addEventListener","initEndDrag","_isMounted","_inherits","window","prevProps","_this$props9","roundCls","_this2","_this$props0","isStart","isEnd","eventItemClick","eventItemTemplateResolver","_this$state","popoverPlacement","eventItemPopoverPlacement","isPopoverPlacementMousePosition","test","defaultEventBgColor","titleText","behaviors","getEventTextFunc","content","_objectSpread","eventTitle","startResizeDiv","endResizeDiv","eventItemTemplate","height","eventItemHeight","lineHeight","eventItemRef","onMouseMove","handleMouseMove","_getMousePositionOpti","popoverOffsetX","mousePositionPlacement","isMousePositionPlacementLeft","includes","popoverWidth","eventItemMousePosX","posAdjustControl","replace","innerWidth","getMousePositionOptionsData","aItem","eventItemPopoverEnabled","Popover","motion","overflow","placement","trigger","eventItemPopoverTrigger","Component","EventItemWithDnD","dndSource","_useDrag2","useDrag","getDragOptions","object","defaultProps","AddMorePopover","headerItem","closeAction","time","useState","dragAndDropEnabled","header","addMorePopoverHeaderFormat","durationStart","durationEnd","eventList","map","evt","eventStart","eventEnd","eventItemTop","eventItemLineHeight","_createElement","CloseOutlined","filter","bool","number","func","string","AgendaEventItem","eventItemStyle","agendaMaxEventWidth","eventLink","overlayClassName","AgendaResourceEvents","slotClickedFunc","slotItemTemplateResolver","startDate","endDate","getResourceTableWidth","headerItems","flatMap","headerStart","headerEnd","slotItemContent","slotItem","slotTitle","temp","minHeight","AgendaView","renderData","agendaResourceTableWidth","tableHeaderHeight","getTableHeaderHeight","resourceName","isEventPerspective","taskName","agendaViewHeader","resourceEventsList","BodyView","tableRows","render","rowHeight","rowCells","index","nonWorkingTime","nonWorkingTimeBodyBgColor","groupOnlySlotColor","getNonAgendaViewBodyCellBgColorFunc","cellBgColor","DependencyOverlay","overlayRef","useRef","_useState2","_slicedToArray","segments","setSegments","_useState4","layoutVersion","setLayoutVersion","useEffect","_overlayEl$parentElem","overlayEl","current","scrollContainer","parentElement","handleLayoutChange","prev","timerId","setTimeout","clearTimeout","useLayoutEffect","root","Array","isArray","overlayRect","eventNodes","querySelectorAll","eventMap","Map","node","getAttribute","bottom","set","newSegments","dep","from","get","fromId","toId","startY","endY","laneY","max","arrowBaseX","exitX","pathD","strokeColor","push","arrow","tipX","tipY","baseX","size","b","sa","sb","segmentsEqual","seg","_seg$arrow","half","points","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","getPos","element","x","currentElement","offsetLeft","scrollLeft","offsetTop","scrollTop","offsetParent","DnDContext","sources","pos","initialPoint","getInitialClientOffset","initialLeftIndex","initialEnd","hour","minute","second","drop","component","eventContainer","initialStartTime","initialEndTime","_this$extractInitialT","extractInitialTimes","point","getClientOffset","hover","movingEvent","canDrop","getDropSpec","accept","sourceMap","keys","isOver","HeaderView","nonAgendaCellHeaderTemplateResolver","showWeekNumber","_config$weekNumberRow","weekNumberRowHeight","headerHeight","minuteStepsInHour","getMinuteStepsInHour","weekNumberRow","useMemo","weekGroups","currentWeekKey","currentWeek","currentYear","colspan","weekNum","isoWeek","weekKey","week","cellStyle","fontSize","opacity","borderBottom","headerBorderColor","padding","textAlign","group","idx","colSpan","createCellStyle","useCallback","isLastCell","nonWorkingTimeHeadColor","nonWorkingTimeHeadBgColor","getCellFormat","cellUnitParam","nonAgendaWeekCellHeaderFormat","nonAgendaMonthCellHeaderFormat","nonAgendaYearCellHeaderFormat","nonAgendaOtherCellHeaderFormat","renderCellContent","formattedList","headerList","lastIndex","datetime","nonAgendaDayCellHeaderFormat","split","cellFormat","AddMore","clickAction","SelectedArea","selectedAreaStyle","selectedAreaColor","Summary","summary","summaryColor","summaryPos","marginRight","ResourceEvents","initDrag","isSelecting","srcElement","_this$dragHelper2","dragHelper","_this$dragHelper4","currentX","min","onSetAddMoreState","indexOf","dropRef","creatable","supportTouchHelper","_this$state2","cellMaxEvents","getCellMaxEvents","rowWidth","getContentTableWidth","selectedArea","isTop","marginTop","hasSummary","renderEventsMaxIndex","addMoreIndex","dayStartFrom","dayStopTo","dayStart","startOf","dayDurationMinutes","baseCellWidth","startOffsetMinutes","eventWidth","eventStartDayStart","totalSpanMinutes","endOf","eventStartOffsetMinutes","eventDurationMinutes","startPercentage","durationPercentage","addMoreItem","onAddMoreClick","eventContainerRef","ResourceEventsWithDnD","dndContext","componentRef","React","_useDrop2","useDrop","_useDrop2$","ResourceView","contentScrollbarHeight","toggleExpandFunc","CustomResourceCell","paddingBottom","displayRenderData","handleToggleExpand","resourceList","indents","indent","iconProps","hasChildren","expanded","MinusSquareOutlined","PlusSquareOutlined","tdStyle","slotCell","resolvedTemplate","renderSlotItem","schedulerWidth","besidesWidth","underneathHeight","schedulerMaxHeight","schedulerContentHeight","responsiveByParent","dayResourceTableWidth","weekResourceTableWidth","monthResourceTableWidth","quarterResourceTableWidth","yearResourceTableWidth","customResourceTableWidth","dayCellWidth","weekCellWidth","monthCellWidth","quarterCellWidth","yearCellWidth","customCellWidth","dayMaxEvents","weekMaxEvents","monthMaxEvents","quarterMaxEvents","yearMaxEvents","customMaxEvents","nonAgendaSlotMinHeight","scrollToSpecialDayjsEnabled","calendarPopoverEnabled","recurringEventsEnabled","viewChangeSpinEnabled","dateChangeSpinEnabled","headerEnabled","resourceViewEnabled","defaultExpanded","schedulerHeaderEventsFuncsTimeoutMs","weekNumberLabel","views","viewName","showAgenda","defaultLabels","getSummaryFunc","getCustomDateFunc","getScrollSpecialDayjsFunc","getDateLabelFunc","dateLabel","_resources$find","timeLabel","base","find","isNonWorkingTimeFunc","SchedulerData","dayjs","newConfig","newBehaviors","eventGroups","eventGroupsAutoGenerated","resizing","scrollToSpecialDayjs","documentWidth","documentHeight","schedulerHeaderHeight","_shouldReloadViewType","calendarPopoverLocale","quarterOfYear","weekday","utc","_updateLabelsFromI18n","_validateMinuteStep","_resolveDate","_createHeaders","_createRenderData","locale","defaults","applyIfProvided","getLabel","preset","setViewType","lang","_validateResource","Set","setScrollToSpecialDayjs","autoGenerated","_validateEventGroups","resource","eventGroup","eventGroupId","splice","_validateEvents","_generateEventGroups","_handleRecurringEvents","selectDate","now","newSchedulerMaxHeight","endsWith","slotEntered","slotIndent","isExpanded","expandedMap","expandStatus","resourceTableWidth","getResourceTableConfigWidth","contentCellWidth","getContentCellConfigWidth","baseWidth","isSchedulerResponsive","parseInt","Number","slice","baseHeight","validBaseHeight","schedulerHeight","resourceTableConfigWidth","getSchedulerWidth","isResourceViewResponsive","contentCellConfigWidth","isContentViewResponsive","getSlots","configProperty","_attachEvent","_detachEvent","eventSource","eventDest","tempEventSource","tempEventDest","newSlotId","newSlotName","windowStart","windowEnd","eventId","recurringEvents","oldDtstart","oldStart","oldEnd","rule","rrulestr","oldUntil","origOptions","until","toDate","dtstart","toString","exdates","exrule","rruleSet","RRuleSet","exdate","between","recurringEventId","recurringEventStart","recurringEventEnd","tzid","utcOffset","isEventInTimeWindow","num","_this3","setStartAndEndDates","unit","Error","customDate","prevHour","minuteSteps","endValue","startValue","incrementUnit","_getEventGroupId","_this4","_getEventGroupName","has","_this5","slots","slotTree","slotMap","headerEvents","_createInitHeaderEvents","slotRenderData","rowMaxCount","data","parentValue","slotStack","currentNode","initRenderData","pop","timeBetween","date1","date2","timeIn","getDate","getMonth","one","date1Ms","getTime","setHours","dividedBy","event1","event2","start1","start2","end1","end2","_this6","_createInitRenderData","cellMaxEventsCount","_getSpan","newRowHeight","tmp","previousHeader","previousHeaderStart","_createHeaderEvent","renderItemsCount","RadioButton","Radio","RadioGroup","SchedulerHeader","_schedulerData$getCal","onViewChange","goNext","goBack","onSelectDate","leftCustomHeader","rightCustomHeader","viewSpinning","setViewSpinning","dateSpinning","setDateSpinning","_useState6","visible","setVisible","getDateLabel","getSelectedDate","calendarLocale","getCalendarPopoverLocale","Calendar","defaultValue","isMountedRef","handleEvents","isViewSpinning","funcArg","isSpinEnabled","setSpin","coreFunc","popover","fullscreen","onSelect","radioButtonList","margin","gutter","Space","LeftOutlined","open","onOpenChange","RightOutlined","Spin","spinning","buttonStyle","onChange","WrapperFun","DndProvider","backend","HTML5Backend","Scheduler","dndSources","parentRef","prevClick","nextClick","CustomResourceHeader","configTableHeaderStyle","dndProps","_toConsumableArray","contentScrollbarWidth","resourceScrollbarHeight","resourceScrollbarWidth","currentAreaRef","scrollLeftRef","scrollTopRef","schedulerHeadRef","schedulerHeaderRef","schedulerResourceRef","schedulerContentRef","schedulerContentBgTableRef","ulObserverRef","headerObserverRef","onWindowResize","_setDocumentWidth","clientWidth","_setDocumentHeight","clientHeight","prevState","offsetWidth","ResizeObserver","offsetHeight","observe","unobserve","entries","entry","getComputedStyle","parseFloat","marginBottom","totalHeight","_setSchedulerHeaderHeight","resolveScrollbarSize","needSet","tmpState","getScrollToSpecialDayjs","scrollWidth","specialDayjs","onSchedulerHeadMouseOver","onSchedulerHeadMouseOut","onSchedulerHeadScroll","onSchedulerResourceMouseOver","onSchedulerResourceMouseOut","onSchedulerResourceScroll","onSchedulerContentMouseOver","onSchedulerContentMouseOut","onSchedulerContentScroll","onScrollLeft","onScrollRight","onScrollTop","onScrollBottom","round","scrollHeight","handleViewChange","charAt","tbodyContent","_config$headerBorderC","_config$headerBorderC2","_config$weekNumberLab","_config$headerBorderC3","schedulerContainerWidth","eventDndSource","getDndSource","contentHeight","resourcePaddingBottom","contentPaddingBottom","schedulerContentStyle","overflowX","overflowY","position","resourceContentStyle","totalHeaderHeight","maxHeight","availableHeight","getSchedulerHeight","display","verticalAlign","onMouseOver","onFocus","onMouseOut","onBlur","onScroll","paddingRight","schedulerHeader"],"ignoreList":[],"sourceRoot":""}