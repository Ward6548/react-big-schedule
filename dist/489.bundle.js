/*! For license information please see 489.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkreact_big_schedule=self.webpackChunkreact_big_schedule||[]).push([[489],{5700(e,t,r){r.d(t,{A:()=>a});var n=r(3340),o=r(3433),i=r(4848);const a=function(e){var t=e.value;return(0,i.jsx)(n.A,{align:"middle",justify:"center",children:(0,i.jsx)(o.N_,{to:t,target:"_blank",children:"</> Source Code"})})}},8763(e,t,r){r.d(t,{t:()=>o});var n="https://github.com/ansulagrawal/react-big-schedule",o={githubRepo:n,examples:{basic:"".concat(n,"/").concat("blob/master/src/examples/pages/Basic/index.jsx"),readOnly:"".concat(n,"/").concat("blob/master/src/examples/pages/Read-Only/index.jsx"),addMore:"".concat(n,"/").concat("blob/master/src/examples/pages/Add-More/index.jsx"),dragAndDrop:"".concat(n,"/").concat("blob/master/src/examples/pages/Drag-And-Drop/index.jsx"),customTime:"".concat(n,"/").concat("blob/master/src/examples/pages/Custom-Time/index.jsx"),resizeByParent:"".concat(n,"/").concat("blob/master/src/examples/pages/Resize-By-Parent/index.jsx"),dependencies:"".concat(n,"/").concat("blob/master/src/examples/pages/Dependencies/index.jsx"),dependenciesTime:"".concat(n,"/").concat("blob/master/src/examples/pages/Dependencies-Time/index.jsx")}}},9902(e,t,r){r.d(t,{Gr:()=>K,Op:()=>u,S4:()=>b,_F:()=>pr,ij:()=>Nt,qi:()=>c,Js:()=>sr});var n=r(5556),o=r.n(n),i=r(6540),a="YYYY-MM-DD",s="YYYY-MM-DD HH:mm:ss",c={Day:0,Week:1,Month:2,Quarter:3,Year:4,Custom:5,Custom1:6,Custom2:7},l="event";const u={resources:[{id:"r0",name:"Resource0",title:"Resource 0",groupOnly:!0},{id:"r1",name:"Resource1",title:"Resource 1",parentId:"r0"},{id:"r2",name:"Resource2",parentId:"r3"},{id:"r3",name:"Resource3",parentId:"r1"},{id:"r4",name:"Resource4"},{id:"r5",name:"Resource5"},{id:"r6",name:"Resource6"},{id:"r7",name:"Resource7"}],events:[{id:1,start:"2022-12-18 09:30:00",end:"2022-12-19 23:30:00",resourceId:"r1",title:"I am finished",bgColor:"#D9D9D9",showPopover:!1},{id:2,start:"2022-12-18 12:30:00",end:"2022-12-26 23:30:00",resourceId:"r2",title:"I am not resizable",resizable:!1},{id:3,start:"2022-12-19 12:30:00",end:"2022-12-20 23:30:00",resourceId:"r3",title:"I am not movable",movable:!1},{id:4,start:"2022-12-19 14:30:00",end:"2022-12-20 23:30:00",resourceId:"r4",title:"I am not start-resizable",startResizable:!1},{id:5,start:"2022-12-19 15:30:00",end:"2022-12-20 23:30:00",resourceId:"r5",title:"I am not end-resizable",endResizable:!1},{id:6,start:"2022-12-19 15:35:00",end:"2022-12-19 23:30:00",resourceId:"r6",title:"I am normal"},{id:7,start:"2022-12-19 15:40:00",end:"2022-12-20 23:30:00",resourceId:"r7",title:"I am exceptional",bgColor:"#FA9E95"},{id:8,start:"2022-12-19 15:50:00",end:"2022-12-19 23:30:00",resourceId:"r1",title:"I am locked",movable:!1,resizable:!1,bgColor:"red"},{id:9,start:"2022-12-19 16:30:00",end:"2022-12-27 23:30:00",resourceId:"r1",title:"R1 has many tasks 1"},{id:10,start:"2022-12-19 17:30:00",end:"2022-12-19 23:30:00",resourceId:"r1",title:"R1 has recurring tasks every week on Tuesday, Friday",rrule:"FREQ=WEEKLY;DTSTART=20221219T013000Z;BYDAY=TU,FR",bgColor:"#f759ab"},{id:11,start:"2022-12-19 18:30:00",end:"2022-12-20 23:30:00",resourceId:"r1",title:"R1 has many tasks 3"},{id:12,start:"2022-12-20 18:30:00",end:"2022-12-20 23:30:00",resourceId:"r1",title:"R1 has many tasks 4"},{id:13,start:"2022-12-21 18:30:00",end:"2022-12-24 23:30:00",resourceId:"r1",title:"R1 has many tasks 5"},{id:14,start:"2022-12-23 18:30:00",end:"2022-12-27 23:30:00",resourceId:"r1",title:"R1 has many tasks 6"}],eventsForTaskView:[{id:1,start:"2022-12-18 09:30:00",end:"2022-12-18 23:30:00",resourceId:"r1",title:"I am finished",bgColor:"#D9D9D9",groupId:1,groupName:"Task1"},{id:2,start:"2022-12-18 12:30:00",end:"2022-12-26 23:30:00",resourceId:"r2",title:"I am not resizable",resizable:!1,groupId:2,groupName:"Task2"},{id:3,start:"2022-12-19 12:30:00",end:"2022-12-20 23:30:00",resourceId:"r3",title:"I am not movable",movable:!1,groupId:3,groupName:"Task3"},{id:7,start:"2022-12-19 15:40:00",end:"2022-12-20 23:30:00",resourceId:"r7",title:"I am exceptional",bgColor:"#FA9E95",groupId:4,groupName:"Task4"},{id:4,start:"2022-12-20 14:30:00",end:"2022-12-21 23:30:00",resourceId:"r4",title:"I am not start-resizable",startResizable:!1,groupId:1,groupName:"Task1"},{id:5,start:"2022-12-21 15:30:00",end:"2022-12-22 23:30:00",resourceId:"r5",title:"I am not end-resizable",endResizable:!1,groupId:3,groupName:"Task3"},{id:9,start:"2022-12-21 16:30:00",end:"2022-12-21 23:30:00",resourceId:"r1",title:"R1 has many tasks",groupId:4,groupName:"Task4"},{id:6,start:"2022-12-22 15:35:00",end:"2022-12-23 23:30:00",resourceId:"r6",title:"I am normal",groupId:1,groupName:"Task1"},{id:8,start:"2022-12-25 15:50:00",end:"2022-12-26 23:30:00",resourceId:"r1",title:"I am locked",movable:!1,resizable:!1,bgColor:"red",groupId:1,groupName:"Task1"},{id:10,start:"2022-12-26 18:30:00",end:"2022-12-26 23:30:00",resourceId:"r2",title:"R2 has many tasks",groupId:4,groupName:"Task4"},{id:11,start:"2022-12-27 18:30:00",end:"2022-12-27 23:30:00",resourceId:"r4",title:"R4 has many tasks",groupId:4,groupName:"Task4"},{id:12,start:"2022-12-28 18:30:00",end:"2022-12-28 23:30:00",resourceId:"r6",title:"R6 has many tasks",groupId:3,groupName:"Task3"}],eventsForCustomEventStyle:[{id:1,start:"2022-12-18 09:30:00",end:"2022-12-19 23:30:00",resourceId:"r1",title:"I am finished",bgColor:"#D9D9D9",type:1},{id:2,start:"2022-12-18 12:30:00",end:"2022-12-26 23:30:00",resourceId:"r2",title:"I am not resizable",resizable:!1,type:2},{id:3,start:"2022-12-19 12:30:00",end:"2022-12-20 23:30:00",resourceId:"r3",title:"I am not movable",movable:!1,type:3},{id:4,start:"2022-12-19 14:30:00",end:"2022-12-20 23:30:00",resourceId:"r4",title:"I am not start-resizable",startResizable:!1,type:1},{id:5,start:"2022-12-19 15:30:00",end:"2022-12-20 23:30:00",resourceId:"r5",title:"I am not end-resizable",endResizable:!1,type:2},{id:6,start:"2022-12-19 15:35:00",end:"2022-12-19 23:30:00",resourceId:"r6",title:"I am normal",type:3},{id:7,start:"2022-12-19 15:40:00",end:"2022-12-20 23:30:00",resourceId:"r7",title:"I am exceptional",bgColor:"#FA9E95",type:1},{id:8,start:"2022-12-19 15:50:00",end:"2022-12-19 23:30:00",resourceId:"r1",title:"I am locked",movable:!1,resizable:!1,bgColor:"red",type:2},{id:9,start:"2022-12-19 16:30:00",end:"2022-12-27 23:30:00",resourceId:"r1",title:"R1 has many tasks 1",type:3},{id:10,start:"2022-12-20 18:30:00",end:"2022-12-20 23:30:00",resourceId:"r1",title:"R1 has many tasks 2",type:1},{id:11,start:"2022-12-21 18:30:00",end:"2022-12-22 23:30:00",resourceId:"r1",title:"R1 has many tasks 3",type:2},{id:12,start:"2022-12-23 18:30:00",end:"2022-12-27 23:30:00",resourceId:"r1",title:"R1 has many tasks 4",type:3}]};var d=r(7852),f=r(3340),h=r(2953);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function m(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e){if("object"!=v(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==v(t)?t:t+""}var b=m(function e(t,r){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"getDragSpec",function(){return{beginDrag:function(e){return n.resolveDragObjFunc(e)},endDrag:function(e,t){if(t.didDrop()){var r=e.moveEvent,n=e.newEvent,o=e.schedulerData,i=o.events,a=o.config,u=o.viewType,d=o.localeDayjs,f=t.getItem(),h=t.getItemType(),v=t.getDropResult(),p=v.slotId,m=v.slotName,y=v.start,g=v.end,b=v.initialStart,w="New",D=h===l;if(D){var j=f;if(a.relativeMove)y=d(j.start).add(d(y).diff(d(new Date(b))),"ms").format(s);else if(u!==c.Day){var E=d(y);y=d(j.start).year(E.year()).month(E.month()).date(E.date()).format(s)}if(g=d(y).add(d(j.end).diff(d(j.start)),"ms").format(s),!1===a.crossResourceMove){p=o._getEventSlotId(f),m=void 0;var S=o.getSlotById(p);S&&(m=S.name)}w="Move"}var x=!1;if(a.checkConflict){var O=d(y),I=d(g);i.forEach(function(e){if(o._getEventSlotId(e)===p&&(!D||e.id!==f.id)){var t=d(e.start),r=d(e.end);(O>=t&&O<r||I>t&&I<=r||t>=O&&t<I||r>O&&r<=I)&&(x=!0)}})}if(x){var k=e.conflictOccurred;void 0!==k?k(o,w,f,h,p,m,y,g):console.log("Conflict occurred, set conflictOccurred func in Scheduler to handle it")}else D?void 0!==r&&r(o,f,p,m,y,g):void 0!==n&&n(o,p,m,y,g,h,f)}},canDrag:function(e){var t=e.schedulerData,r=e.resourceEvents,o=n.resolveDragObjFunc(e);return!t._isResizing()&&t.config.movable&&(void 0===r||!r.groupOnly)&&(void 0===o.movable||!1!==o.movable)}}}),y(this,"getDragOptions",function(e){var t=n.getDragSpec();return{type:n.dndType,item:function(){return t.beginDrag(e)},end:function(r,n){return t.endDrag(e,n)},canDrag:function(){return t.canDrag(e)},collect:function(e){return{isDragging:e.isDragging()}}}}),this.resolveDragObjFunc=t,this.dndType=o,this.DnDEnabled=r}),w=r(9027),D=r(8410),j=r(4848);function E(e){var t=e.schedulerData,r=e.eventItem,n=e.title,o=e.startTime,i=e.endTime,a=e.statusColor,s=e.subtitleGetter,c=e.viewEventClick,l=e.viewEventText,u=e.viewEvent2Click,d=e.viewEvent2Text,v=e.eventItemPopoverTemplateResolver,p=t.localeDayjs,m=t.config,y=p(new Date(o)),g=p(new Date(i));if(v)return v(t,r,n,y,g,a);var b=s?s(t,r):null,w=l&&c&&(void 0===r.clickable1||r.clickable1),D=d&&u&&(void 0===r.clickable2||r.clickable2),E=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,j.jsx)("button",{className:"header2-text rbs-txt-btn-dis",type:"button",style:{color:"#108EE9",cursor:"pointer",marginLeft:"".concat(o,"px")},onClick:function(){return n(t,r)},children:e})};return(0,j.jsxs)("div",{style:{width:m.eventItemPopoverWidth},children:[(0,j.jsxs)(f.A,{type:"flex",align:"middle",children:[m.eventItemPopoverShowColor&&(0,j.jsx)(h.A,{span:2,children:(0,j.jsx)("div",{className:"status-dot",style:{backgroundColor:a}})}),(0,j.jsx)(h.A,{span:22,className:"overflow-text",children:(0,j.jsx)("span",{className:"header2-text",title:n,children:n})})]}),b&&(0,j.jsxs)(f.A,{type:"flex",align:"middle",children:[(0,j.jsx)(h.A,{span:2,children:(0,j.jsx)("div",{})}),(0,j.jsx)(h.A,{span:22,className:"overflow-text",children:(0,j.jsx)("span",{className:"header2-text",title:b,children:b})})]}),(0,j.jsxs)(f.A,{type:"flex",align:"middle",children:[(0,j.jsx)(h.A,{span:2,children:(0,j.jsx)("div",{})}),(0,j.jsxs)(h.A,{span:22,children:[(0,j.jsx)("span",{className:"header1-text",children:y.format("HH:mm")}),m.eventItemPopoverDateFormat&&(0,j.jsx)("span",{className:"help-text",style:{marginLeft:"8px"},children:y.format(m.eventItemPopoverDateFormat)}),(0,j.jsx)("span",{className:"header2-text",style:{marginLeft:"8px"},children:"-"}),(0,j.jsx)("span",{className:"header1-text",style:{marginLeft:"8px"},children:g.format("HH:mm")}),m.eventItemPopoverDateFormat&&(0,j.jsx)("span",{className:"help-text",style:{marginLeft:"8px"},children:g.format(m.eventItemPopoverDateFormat)})]})]}),(w||D)&&(0,j.jsxs)(f.A,{type:"flex",align:"middle",children:[(0,j.jsx)(h.A,{span:2,children:(0,j.jsx)("div",{})}),(0,j.jsxs)(h.A,{span:22,children:[w&&E(l,c),D&&E(d,u,16)]})]})]})}E.propTypes={schedulerData:o().object.isRequired,eventItem:o().object.isRequired,title:o().string.isRequired,startTime:o().string.isRequired,endTime:o().string.isRequired,statusColor:o().string.isRequired,subtitleGetter:o().func,viewEventClick:o().func,viewEventText:o().string,viewEvent2Click:o().func,viewEvent2Text:o().string,eventItemPopoverTemplateResolver:o().func};const S=E;function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach(function(t){N(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function T(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return P(l,"_invoke",function(r,n,o){var i,s,c,l=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,r){return i=t,s=0,c=e,f.n=r,a}};function h(r,n){for(s=r,c=n,t=0;!d&&l&&!o&&t<u.length;t++){var o,i=u[t],h=f.p,v=i[2];r>3?(o=v===n)&&(c=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=h&&((o=r<2&&h<i[1])?(s=0,f.v=n,f.n=i[1]):h<v&&(o=r<3||i[0]>n||n>v)&&(i[4]=r,i[5]=n,f.n=v,s=0))}if(o||r>1)return a;throw d=!0,n}return function(o,u,v){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,v),s=u,c=v;(t=s<2?e:c)||!d;){i||(s?s<3?(s>1&&(f.n=-1),h(s,c)):f.n=c:f.v=c);try{if(l=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=f.n<0)?c:r.call(n,f))!==a)break}catch(t){i=e,s=1,c=t}finally{l=1}}return{value:t,done:d}}}(r,o,i),!0),l}var a={};function s(){}function c(){}function l(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(P(t={},n,function(){return this}),t),d=l.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,P(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=l,P(d,"constructor",l),P(l,"constructor",c),c.displayName="GeneratorFunction",P(l,o,"GeneratorFunction"),P(d),P(d,o,"Generator"),P(d,n,function(){return this}),P(d,"toString",function(){return"[object Generator]"}),(T=function(){return{w:i,m:f}})()}function P(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}P=function(e,t,r,n){function i(t,r){P(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},P(e,t,r,n)}function C(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function R(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){C(i,n,o,a,s,"next",e)}function s(e){C(i,n,o,a,s,"throw",e)}a(void 0)})}}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L(n.key),n)}}function M(e,t,r){return t=A(t),function(e,t){if(t&&("object"==x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,W()?Reflect.construct(t,r||[],A(e).constructor):t.apply(e,r))}function W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(W=function(){return!!e})()}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function N(e,t,r){return(t=L(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e){var t=function(e){if("object"!=x(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==x(t)?t:t+""}var z=function(e){var t=e.count,r=e.cellUnit,n=e.config,o=e.dragType,i=e.eventItem,a=e.localeDayjs,c=e.value,l=0,u=0,d=c;return new Promise(function(e){if(0!==t&&1!==r&&!1===n.displayWeekend)for(;;){u=t>0?u+1:u-1;var c=a(new Date(i[o])).add(u,"days"),f=c.day();if(0!==f&&6!==f&&(l=t>0?l+1:l-1)===t){d=c.format(s);break}}e(d)})},F=function(e){var t=e.eventItem,r=e.isInPopover;return!(!0!==e.schedulerData.config.startResizable||!1!==r||void 0!==t.resizable&&!1===t.resizable||void 0!==t.startResizable&&!1===t.startResizable)},Y=function(e){var t=e.eventItem,r=e.isInPopover;return!(!0!==e.schedulerData.config.endResizable||!1!==r||void 0!==t.resizable&&!1===t.resizable||void 0!==t.endResizable&&!1===t.endResizable)},q=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),N(r=M(this,t,[e]),"eventItemRef",function(e){r.eventItemElement=e;var t=r.props,n=t.dragRef,o=t.dragPreviewRef;n&&e&&n(e),o&&e&&o(e)}),N(r,"resizerHelper",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"addEventListener",n="start"===e?r.startResizer:r.endResizer,o="start"===e?r.doStartDrag:r.doEndDrag,i="start"===e?r.stopStartDrag:r.stopEndDrag,a="start"===e?r.cancelStartDrag:r.cancelEndDrag;r.supportTouch?(n[t]("touchmove",o,!1),n[t]("touchend",i,!1),n[t]("touchcancel",a,!1)):(document.documentElement[t]("mousemove",o,!1),document.documentElement[t]("mouseup",i,!1))}),N(r,"initDragHelper",function(e,t){var n=r.props,o=n.schedulerData,i=n.eventItem,a=o._getEventSlotId(i),s=o.getSlotById(a);if(!(s&&s.groupOnly||o._isResizing())){e.stopPropagation();var c=0;if(r.supportTouch){if(0===e.changedTouches.length)return;c=e.changedTouches[0].pageX}else{if(void 0!==e.buttons&&1!==e.buttons)return;c=e.clientX}r.setState(N({},"start"===t?"startX":"endX",c)),o._startResizing(),r.resizerHelper(t,"addEventListener"),document.onselectstart=function(){return!1},document.ondragstart=function(){return!1}}}),N(r,"initStartDrag",function(e){r.initDragHelper(e,"start")}),N(r,"doStartDrag",function(e){e.stopPropagation();var t=0;if(r.supportTouch){if(0===e.changedTouches.length)return;t=e.changedTouches[0].pageX}else t=e.clientX;var n=r.props,o=n.left,i=n.width,a=n.leftIndex,s=n.rightIndex,c=n.schedulerData.getContentCellWidth(),l=a>0?5:6,u=c-l,d=s*c-l,f=r.state.startX,h=o+t-f,v=i+f-t;v<u?(v=u,h=(s-1)*c+(s-1>0?2:3)):v>d&&(v=d,h=3),r.setState({left:h,width:v})}),N(r,"stopStartDrag",function(){var e=R(T().m(function e(t){var n,o,i,a,c,u,d,f,h,v,p,m,y,g,b,w,D,j,E,S,x,O,I,k,P,C,R,H,M,W,A,_;return T().w(function(e){for(;;)switch(e.n){case 0:if(t.stopPropagation(),r.resizerHelper("start","removeEventListener"),document.onselectstart=null,document.ondragstart=null,n=r.props,o=n.width,i=n.left,a=n.top,c=n.leftIndex,u=n.rightIndex,d=n.schedulerData,f=n.eventItem,h=n.updateEventStart,v=n.conflictOccurred,d._stopResizing(),r.state.width!==o){e.n=1;break}return e.a(2);case 1:if(p=0,!r.supportTouch){e.n=3;break}if(0!==t.changedTouches.length){e.n=2;break}return r.setState({left:i,top:a,width:o}),e.a(2);case 2:m=t.changedTouches[0],p=m.pageX,e.n=4;break;case 3:p=t.clientX;case 4:return y=d.cellUnit,g=d.events,b=d.config,w=d.localeDayjs,D=d.getContentCellWidth(),E=D-(j=c>0?5:6),S=u*D-j,x=r.state.startX,O=o+x-p,k=1,(I=p-x)<0?k=-1:0===I&&(k=0),P=(k>0?Math.floor(Math.abs(I)/D):Math.ceil(Math.abs(I)/D))*k,O<E?P=u-c-1:O>S&&(P=-c),C=w(new Date(f.start)).add(1===y?P*b.minuteStep:P,1===y?"minutes":"days").format(s),e.n=5,z({count:P,cellUnit:y,config:b,eventItem:f,localeDayjs:w,dragType:"start",value:C});case 5:C=e.v,R=!1,H=d._getEventSlotId(f),(W=d.getSlotById(H))&&(M=W.name),b.checkConflict&&(A=w(new Date(C)),_=w(new Date(f.end)),g.forEach(function(e){if(d._getEventSlotId(e)===H&&e.id!==f.id){var t=w(new Date(e.start)),r=w(new Date(e.end));(A>=t&&A<r||_>t&&_<=r||t>=A&&t<_||r>A&&r<=_)&&(R=!0)}})),R?(r.setState({left:i,top:a,width:o}),void 0!==v?v(d,"StartResize",f,l,H,M,C,f.end):console.log("Conflict occurred, set conflictOccurred func in Scheduler to handle it"),r.subscribeResizeEvent(r.props)):void 0!==h&&h(d,f,C);case 6:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),N(r,"cancelStartDrag",function(e){e.stopPropagation(),r.startResizer.removeEventListener("touchmove",r.doStartDrag,!1),r.startResizer.removeEventListener("touchend",r.stopStartDrag,!1),r.startResizer.removeEventListener("touchcancel",r.cancelStartDrag,!1),document.onselectstart=null,document.ondragstart=null;var t=r.props,n=t.schedulerData,o=t.left,i=t.top,a=t.width;n._stopResizing(),r.setState({left:o,top:i,width:a})}),N(r,"initEndDrag",function(e){r.initDragHelper(e,"end")}),N(r,"doEndDrag",function(e){e.stopPropagation();var t=0;if(r.supportTouch){if(0===e.changedTouches.length)return;t=e.changedTouches[0].pageX}else t=e.clientX;var n=r.props,o=n.width,i=n.leftIndex,a=n.schedulerData,s=a.headers,c=a.getContentCellWidth(),l=i>0?5:6,u=c-l,d=(s.length-i)*c-l,f=o+t-r.state.endX;f<u?f=u:f>d&&(f=d),r.setState({width:f})}),N(r,"stopEndDrag",function(){var e=R(T().m(function e(t){var n,o,i,a,c,u,d,f,h,v,p,m,y,g,b,w,D,j,E,S,x,O,I,k,P,C,R,H,M,W,A,_;return T().w(function(e){for(;;)switch(e.n){case 0:if(t.stopPropagation(),r.resizerHelper("end","removeEventListener"),document.onselectstart=null,document.ondragstart=null,n=r.props,o=n.left,i=n.top,a=n.width,c=n.leftIndex,u=n.rightIndex,d=n.schedulerData,f=n.eventItem,h=n.updateEventEnd,v=n.conflictOccurred,d._stopResizing(),r.state.width!==a){e.n=1;break}return e.a(2);case 1:if(p=0,!r.supportTouch){e.n=3;break}if(0!==t.changedTouches.length){e.n=2;break}return r.setState({left:o,top:i,width:a}),e.a(2);case 2:m=t.changedTouches[0],p=m.pageX,e.n=4;break;case 3:p=t.clientX;case 4:return y=d.headers,g=d.cellUnit,b=d.events,w=d.config,D=d.localeDayjs,j=d.getContentCellWidth(),S=j-(E=c>0?5:6),x=(y.length-c)*j-E,O=r.state.endX,P=1,(k=(I=a+p-O)-a)<0?P=-1:0===k&&(P=0),C=(P<0?Math.floor(Math.abs(k)/j):Math.ceil(Math.abs(k)/j))*P,I<S?C=c-u+1:I>x&&(C=y.length-u),R=D(new Date(f.end)).add(1===g?C*w.minuteStep:C,1===g?"minutes":"days").format(s),e.n=5,z({dragType:"end",cellUnit:g,config:w,count:C,value:R,eventItem:f,localeDayjs:D});case 5:R=e.v,H=!1,M=d._getEventSlotId(f),W=d.getSlotById(M),w.checkConflict&&(A=D(new Date(f.start)),_=D(new Date(R)),b.forEach(function(e){if(d._getEventSlotId(e)===M&&e.id!==f.id){var t=D(new Date(e.start)),r=D(new Date(e.end));(A>=t&&A<r||_>t&&_<=r||t>=A&&t<_||r>A&&r<=_)&&(H=!0)}})),H?(r.setState({left:o,top:i,width:a}),void 0!==v?v(d,"EndResize",f,l,M,W?W.name:null,f.start,R):console.error("Conflict occurred, set conflictOccurred func in Scheduler to handle it"),r.subscribeResizeEvent(r.props)):void 0!==h&&h(d,f,R);case 6:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),N(r,"cancelEndDrag",function(e){e.stopPropagation(),r.endResizer.removeEventListener("touchmove",r.doEndDrag,!1),r.endResizer.removeEventListener("touchend",r.stopEndDrag,!1),r.endResizer.removeEventListener("touchcancel",r.cancelEndDrag,!1),document.onselectstart=null,document.ondragstart=null;var t=r.props,n=t.schedulerData,o=t.left,i=t.top,a=t.width;n._stopResizing(),r.setState({left:o,top:i,width:a})}),N(r,"handleMouseMove",function(e){var t=r.eventItemElement?r.eventItemElement.getBoundingClientRect():{left:0,right:0};r.setState({contentMousePosX:e.clientX,eventItemLeftRect:t.left,eventItemRightRect:t.right})}),N(r,"subscribeResizeEvent",function(e){void 0!==r.startResizer&&null!==r.startResizer&&(r.supportTouch||(r.startResizer.removeEventListener("mousedown",r.initStartDrag,!1),F(e)&&r.startResizer.addEventListener("mousedown",r.initStartDrag,!1))),void 0!==r.endResizer&&null!==r.endResizer&&(r.supportTouch||(r.endResizer.removeEventListener("mousedown",r.initEndDrag,!1),Y(e)&&r.endResizer.addEventListener("mousedown",r.initEndDrag,!1)))});var n=e.left,o=e.top,i=e.width;return r.state={left:n,top:o,width:i,contentMousePosX:0,eventItemLeftRect:0,eventItemRightRect:0},r.startResizer=void 0,r.endResizer=void 0,r.supportTouch=!1,r.eventItemElement=null,r._isMounted=!1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){this._isMounted=!0,this.supportTouch="ontouchstart"in window,this.subscribeResizeEvent(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.left,n=t.top,o=t.width;e.left===r&&e.top===n&&e.width===o||this.setState({left:r,top:n,width:o}),e.schedulerData===this.props.schedulerData&&e.eventItem===this.props.eventItem&&e.isInPopover===this.props.isInPopover||this.subscribeResizeEvent(this.props)}},{key:"render",value:function(){var e,t=this,r=this.props,n=r.eventItem,o=r.isStart,i=r.isEnd,a=r.isInPopover,s=r.eventItemClick,c=r.schedulerData,l=r.isDragging,u=r.eventItemTemplateResolver,d=c.config,f=c.localeDayjs,h=this.state,v=h.left,p=h.width,m=h.top,y=d.eventItemPopoverPlacement,g=/(top|bottom)(Right|Left)MousePosition/.test(y);e=o?i?"round-all":"round-head":i?"round-tail":"round-none";var b=d.defaultEventBgColor;n.bgColor&&(b=n.bgColor);var D=c.behaviors.getEventTextFunc(c,n),E=(0,j.jsx)(S,k(k({},this.props),{},{eventItem:n,title:n.title,startTime:n.start,endTime:n.end,statusColor:b})),x=f(new Date(n.start)),O=a?"".concat(x.format("HH:mm")," ").concat(D):D,I=(0,j.jsx)("div",{});F(this.props)&&(I=(0,j.jsx)("div",{className:"event-resizer event-start-resizer",ref:function(e){return t.startResizer=e}}));var T=(0,j.jsx)("div",{});Y(this.props)&&(T=(0,j.jsx)("div",{className:"event-resizer event-end-resizer",ref:function(e){return t.endResizer=e}}));var P=(0,j.jsx)("div",{className:"".concat(e," event-item"),style:{height:d.eventItemHeight,backgroundColor:b},children:(0,j.jsx)("span",{style:{marginLeft:"10px",lineHeight:"".concat(d.eventItemHeight,"px")},children:O})},n.id);void 0!==u&&(P=u(c,n,b,o,i,"event-item",d.eventItemHeight,void 0));var C=(0,j.jsxs)("a",{className:"timeline-event","data-event-id":n.id,ref:this.eventItemRef,onMouseMove:g?this.handleMouseMove:void 0,style:{left:v,width:p,top:m},onClick:function(){s&&s(c,n)},children:[P,I,T]}),R=function(){var e=0,r="";if(g){var n=y.includes("Left"),o=t.state.contentMousePosX,i=d.eventItemPopoverWidth,a=t.state.eventItemLeftRect,s=t.state.eventItemRightRect,c=n?a:s,l=n?1:-1;r=y.replace("MousePosition",""),n&&t._isMounted?o+i+10>window.innerWidth&&(r="".concat(y.replace(/(Right|Left).*/,""),"Right"),c=s,l=-1):o-i-10<0&&(r="".concat(y.replace(/(Right|Left).*/,""),"Left"),c=a,l=1),e=o-c-20*l}return{popoverOffsetX:e,mousePositionPlacement:r}}(),H=R.popoverOffsetX,M=R.mousePositionPlacement,W=C;return l||!c._isResizing()&&!1!==d.eventItemPopoverEnabled&&!1!==n.showPopover?(0,j.jsx)(w.A,{motion:g?"":void 0,align:g?{offset:[H,y.includes("top")?-10:10],overflow:{}}:void 0,placement:g?M:y,content:E,trigger:d.eventItemPopoverTrigger,children:W}):(0,j.jsx)("div",{children:W})}}])&&H(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(i.Component);function B(e){var t,r,n=e.dndSource,o=(t=(0,D.i)(function(){return n?n.getDragOptions(e):{type:"__NONE__",canDrag:function(){return!1},collect:function(){return{isDragging:!1}}}},[e,n]),r=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,r)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0].isDragging,a=o[1],s=o[2];return(0,j.jsx)(q,k(k({},e),{},{isDragging:i,dragRef:a,dragPreviewRef:s}))}B.propTypes={schedulerData:n.PropTypes.object.isRequired,dndSource:n.PropTypes.object},B.defaultProps={dndSource:void 0},B.displayName="EventItemWithDnD";const G=B;function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach(function(t){Q(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Q(e,t,r){return(t=function(e){var t=function(e){if("object"!=U(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==U(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function J(e){var t,r,n=e.schedulerData,o=e.headerItem,a=e.left,s=e.top,c=e.height,l=e.closeAction,u=n.config,v=n.localeDayjs,p=o.time,m=o.start,y=o.end,g=o.events,w=(t=(0,i.useState)(new b(function(e){return e.eventItem},n.config.dragAndDropEnabled)),r=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,r)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],D=v(new Date(p)).format(u.addMorePopoverHeaderFormat),E=v(new Date(m)),S=v(y),x=g.map(function(t,r){if(void 0!==t){var n=v(t.eventItem.start),o=v(t.eventItem.end),a=n>=E,s=o<S,c=12+(r+1)*u.eventItemLineHeight;return(0,i.createElement)(G,V(V({},e),{},{key:t.eventItem.id,eventItem:t.eventItem,dndSource:w,leftIndex:0,isInPopover:!0,isStart:a,isEnd:s,rightIndex:1,left:10,width:138,top:c}))}return null});return(0,j.jsxs)("div",{className:"rbs-add-more-popover-overlay",style:{left:a,top:s,height:c,minWidth:"170px"},children:[(0,j.jsxs)(f.A,{justify:"space-between",align:"middle",children:[(0,j.jsx)(h.A,{span:22,children:(0,j.jsx)("span",{className:"base-text",children:D})}),(0,j.jsx)(h.A,{span:2,children:(0,j.jsx)("button",{type:"button",onClick:function(){return l(void 0)},children:(0,j.jsx)(d.A,{})})})]}),null==x?void 0:x.filter(Boolean)]})}q.propTypes={schedulerData:n.PropTypes.object.isRequired,eventItem:n.PropTypes.object.isRequired,isStart:n.PropTypes.bool.isRequired,isEnd:n.PropTypes.bool.isRequired,left:n.PropTypes.number.isRequired,width:n.PropTypes.number.isRequired,top:n.PropTypes.number.isRequired,isInPopover:n.PropTypes.bool.isRequired,leftIndex:n.PropTypes.number.isRequired,rightIndex:n.PropTypes.number.isRequired,isDragging:n.PropTypes.bool,dragRef:n.PropTypes.func,dragPreviewRef:n.PropTypes.func,updateEventStart:n.PropTypes.func,updateEventEnd:n.PropTypes.func,moveEvent:n.PropTypes.func,subtitleGetter:n.PropTypes.func,eventItemClick:n.PropTypes.func,viewEventClick:n.PropTypes.func,viewEventText:n.PropTypes.string,viewEvent2Click:n.PropTypes.func,viewEvent2Text:n.PropTypes.string,conflictOccurred:n.PropTypes.func,eventItemTemplateResolver:n.PropTypes.func},q.defaultProps={isDragging:void 0,dragRef:void 0,dragPreviewRef:void 0,updateEventStart:void 0,updateEventEnd:void 0,moveEvent:void 0,subtitleGetter:void 0,eventItemClick:void 0,viewEventClick:void 0,viewEventText:void 0,viewEvent2Click:void 0,viewEvent2Text:void 0,conflictOccurred:void 0,eventItemTemplateResolver:void 0},J.propTypes={schedulerData:o().object.isRequired,headerItem:o().object.isRequired,left:o().number.isRequired,top:o().number.isRequired,height:o().number.isRequired,closeAction:o().func.isRequired,subtitleGetter:o().func,moveEvent:o().func,eventItemClick:o().func,viewEventClick:o().func,viewEventText:o().string,viewEvent2Click:o().func,viewEvent2Text:o().string,eventItemTemplateResolver:o().func};const K=J;function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach(function(t){re(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function re(e,t,r){return(t=function(e){var t=function(e){if("object"!=Z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Z(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e){var t=e.eventItem,r=e.isStart,n=e.isEnd,o=e.eventItemClick,i=e.schedulerData,a=e.eventItemTemplateResolver,s=i.config,c=i.behaviors,l="round-none";r&&n?l="round-all":r?l="round-head":n&&(l="round-tail");var u=t.bgColor||s.defaultEventBgColor,d=c.getEventTextFunc(i,t),f={height:s.eventItemHeight,maxWidth:s.agendaMaxEventWidth,backgroundColor:u},h=(0,j.jsx)("div",{className:"".concat(l," event-item"),style:f,children:(0,j.jsx)("span",{style:{marginLeft:"10px",lineHeight:"".concat(s.eventItemHeight,"px")},children:d})},t.id);a&&(h=a(i,t,u,r,n,"event-item",s.eventItemHeight,s.agendaMaxEventWidth));var v=(0,j.jsx)("button",{type:"button",className:"day-event rbs-txt-btn-dis",onClick:function(){return null==o?void 0:o(i,t)},children:h}),p=(0,j.jsx)(S,te(te({},e),{},{title:t.title,startTime:t.start,endTime:t.end,statusColor:u}));return s.eventItemPopoverEnabled?(0,j.jsx)(w.A,{placement:"bottomLeft",content:p,trigger:"hover",overlayClassName:"scheduler-agenda-event-popover",children:v}):(0,j.jsx)("span",{children:v})}ne.propTypes={schedulerData:o().object.isRequired,eventItem:o().object.isRequired,isStart:o().bool.isRequired,isEnd:o().bool.isRequired,subtitleGetter:o().func,eventItemClick:o().func,viewEventClick:o().func,viewEventText:o().string,viewEvent2Click:o().func,viewEvent2Text:o().string,eventItemTemplateResolver:o().func};const oe=ne;function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach(function(t){ce(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ce(e,t,r){return(t=function(e){var t=function(e){if("object"!=ie(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ie(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function le(e){var t=e.schedulerData,r=e.resourceEvents,n=e.slotClickedFunc,o=e.slotItemTemplateResolver,a=t.startDate,s=t.endDate,c=t.config,l=t.localeDayjs,u=t.getResourceTableWidth()-2,d=r.headerItems.flatMap(function(t){var r=l(new Date(a)),n=l(s).add(1,"days"),o=l(new Date(t.start)),c=l(new Date(t.end));return r===o&&n===c?t.events.map(function(t){var r=l(new Date(a)),n=l(s).add(1,"days"),o=l(t.eventItem.start)>=r,c=l(t.eventItem.end)<n;return(0,i.createElement)(oe,se(se({},e),{},{key:t.eventItem.id,eventItem:t.eventItem,isStart:o,isEnd:c}))}):[]}),f=n?(0,j.jsx)("button",{className:"rbs-txt-btn-dis",type:"button",onClick:function(){return n(t,r)},children:r.slotName}):(0,j.jsx)("span",{children:r.slotName}),h=(0,j.jsx)("div",{style:{width:u},title:r.slotTitle||r.slotName,className:"overflow-text header2-text",children:f});if(o){var v=o(t,r,n,u,"overflow-text header2-text");v&&(h=v)}return(0,j.jsxs)("tr",{style:{minHeight:c.eventItemLineHeight+2},children:[(0,j.jsx)("td",{"data-resource-id":r.slotId,children:h}),(0,j.jsx)("td",{children:(0,j.jsx)("div",{className:"day-event-container",children:d})})]})}le.propTypes={schedulerData:o().object.isRequired,resourceEvents:o().object.isRequired,subtitleGetter:o().func,eventItemClick:o().func,viewEventClick:o().func,viewEventText:o().string,viewEvent2Click:o().func,viewEvent2Text:o().string,slotClickedFunc:o().func,slotItemTemplateResolver:o().func};const ue=le;function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach(function(t){ve(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ve(e,t,r){return(t=function(e){var t=function(e){if("object"!=de(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=de(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==de(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pe(e){var t=e.schedulerData,r=t.config,n=t.renderData,o=t.getResourceTableWidth(),a=t.getTableHeaderHeight(),s=t.isEventPerspective?r.taskName:r.resourceName,c=r.agendaViewHeader,l=n.map(function(t){return(0,i.createElement)(ue,he(he({},e),{},{resourceEvents:t,key:t.slotId}))});return(0,j.jsx)("tr",{children:(0,j.jsx)("td",{children:(0,j.jsxs)("table",{className:"scheduler-table",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{style:{height:a},children:[(0,j.jsx)("th",{style:{width:o},className:"header3-text",children:s}),(0,j.jsx)("th",{className:"header3-text",children:c})]})}),(0,j.jsx)("tbody",{children:l})]})})})}pe.propTypes={schedulerData:o().object.isRequired,subtitleGetter:o().func,eventItemClick:o().func,viewEventClick:o().func,viewEventText:o().string,viewEvent2Click:o().func,viewEvent2Text:o().string,slotClickedFunc:o().func};const me=pe;function ye(e){var t=e.schedulerData,r=t.renderData,n=t.headers,o=t.config,i=t.behaviors,a=t.getContentCellWidth(),s=r.filter(function(e){return e.render}).map(function(e){var r=e.slotId,s=e.groupOnly,c=e.rowHeight,l=n.map(function(e,c){var l="".concat(r,"_").concat(e.time),u=c===n.length-1?{}:{width:a};if(e.nonWorkingTime&&(u.backgroundColor=o.nonWorkingTimeBodyBgColor),s&&(u.backgroundColor=o.groupOnlySlotColor),i.getNonAgendaViewBodyCellBgColorFunc){var d=i.getNonAgendaViewBodyCellBgColorFunc(t,r,e);d&&(u.backgroundColor=d)}return(0,j.jsx)("td",{style:u,children:(0,j.jsx)("div",{})},l)});return(0,j.jsx)("tr",{style:{height:c},children:l},r)});return(0,j.jsx)("tbody",{children:s})}ye.propTypes={schedulerData:o().object.isRequired};const ge=ye;function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return we(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?we(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function De(e){var t=e.dependencies,r=(0,i.useRef)(null),n=be((0,i.useState)([]),2),o=n[0],a=n[1],s=be((0,i.useState)(0),2),c=s[0],l=s[1];return(0,i.useEffect)(function(){var e,t=r.current;if(t){var n=null===(e=t.parentElement)||void 0===e||null===(e=e.parentElement)||void 0===e?void 0:e.parentElement;if(n){var o=function(){l(function(e){return e+1})};n.addEventListener("scroll",o),window.addEventListener("resize",o),o();var i=setTimeout(o,50);return function(){n.removeEventListener("scroll",o),window.removeEventListener("resize",o),clearTimeout(i)}}}},[]),(0,i.useLayoutEffect)(function(){var e=r.current;if(e){var n=e.parentElement;if(n&&Array.isArray(t)&&0!==t.length){var o=e.getBoundingClientRect(),i=n.querySelectorAll(".timeline-event[data-event-id]"),s=new Map;i.forEach(function(e){var t=e.getAttribute("data-event-id");if(t){var r=e.getBoundingClientRect(),n=r.left-o.left,i=r.right-o.left,a=r.top-o.top,c=r.bottom-o.top;s.set(t,{left:n,right:i,top:a,bottom:c})}});var c=[];t.forEach(function(e,t){if(e){var r=s.get(String(e.fromId)),n=s.get(String(e.toId));if(r&&n){var o=r.right,i=(r.top+r.bottom)/2,a=n.left,l=(n.top+n.bottom)/2,u=Math.max(i,l)+12+8*t,d=a-10-4,f=o+12,h="M ".concat(o," ").concat(i," L ").concat(f," ").concat(i," L ").concat(f," ").concat(u," ")+"L ".concat(d," ").concat(u," L ").concat(d," ").concat(l),v=e.color||"#595959";c.push({key:"dep-".concat(t),color:v,pathD:h,arrow:{tipX:a,tipY:l,baseX:d,size:10}})}}}),a(function(e){return function(e,t){if(e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1){var n=e[r],o=t[r];if(!o)return!1;if(n.key!==o.key)return!1;if(n.color!==o.color)return!1;if(n.pathD!==o.pathD)return!1;if(!n.arrow||!o.arrow)return!1;if(n.arrow.tipX!==o.arrow.tipX||n.arrow.tipY!==o.arrow.tipY||n.arrow.baseX!==o.arrow.baseX||n.arrow.size!==o.arrow.size)return!1}return!0}(e,c)?e:c})}else a([])}else a([])},[t,c]),o.length?(0,j.jsx)("svg",{ref:r,className:"dependency-arrows",children:o.map(function(e){var t=e.arrow,r=t.tipX,n=t.tipY,o=t.baseX,i=t.size/2,a="".concat(r,",").concat(n," ").concat(o,",").concat(n-i," ").concat(o,",").concat(n+i);return(0,j.jsxs)("g",{children:[(0,j.jsx)("path",{d:e.pathD,fill:"none",stroke:e.color,strokeWidth:"3",strokeLinecap:"square",strokeLinejoin:"miter"}),(0,j.jsx)("polygon",{points:a,fill:e.color})]},e.key)})}):(0,j.jsx)("svg",{ref:r,className:"dependency-arrows"})}De.propTypes={dependencies:o().arrayOf(o().shape({fromId:o().oneOfType([o().string,o().number]).isRequired,toId:o().oneOfType([o().string,o().number]).isRequired,color:o().string}))},De.defaultProps={dependencies:void 0};const je=De;function Ee(e){for(var t=0,r=0,n=e;n;)t+=n.offsetLeft-n.scrollLeft,r+=n.offsetTop-n.scrollTop,n=n.offsetParent;return{x:t,y:r}}function Se(e){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(e)}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Te(n.key),n)}}function Ie(e,t,r){return t&&Oe(e.prototype,t),r&&Oe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ke(e,t,r){return(t=Te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e){var t=function(e){if("object"!=Se(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Se(t)?t:t+""}var Pe=Ie(function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ke(this,"extractInitialTimes",function(e,t,r,n,o,i){var a=e.getInitialClientOffset(),c=Math.floor((a.x-t.x)/r),l=n.headerItems[c].start,u=n.headerItems[c].end;return 1!==o&&(u=i(new Date(l)).hour(23).minute(59).second(59).format(s)),{initialStart:l,initialEnd:u}}),ke(this,"getDropSpec",function(){return{drop:function(e,t,n){var o=e.schedulerData,i=e.resourceEvents,a=o.cellUnit,c=o.localeDayjs,u=t.getItemType(),d=Ee(n.eventContainer),f=o.getContentCellWidth(),h=null,v=null;if(u===l){var p=r.extractInitialTimes(t,d,f,i,a,c);h=p.initialStart,v=p.initialEnd}var m=t.getClientOffset(),y=Math.floor((m.x-d.x)/f),g=i.headerItems[y].start,b=i.headerItems[y].end;return 1!==a&&(b=c(new Date(i.headerItems[y].start)).hour(23).minute(59).second(59).format(s)),{slotId:i.slotId,slotName:i.slotName,start:g,end:b,initialStart:h,initialEnd:v}},hover:function(e,t,n){var o=e.schedulerData,i=e.resourceEvents,a=e.movingEvent,u=o.cellUnit,d=o.config,f=o.viewType,h=o.localeDayjs;r.config=d;var v=t.getItem(),p=t.getItemType(),m=Ee(n.eventContainer),y=o.getContentCellWidth(),g=null;p===l&&(g=r.extractInitialTimes(t,m,y,i,u,h).initialStart);var b=t.getClientOffset(),w=Math.floor((b.x-m.x)/y);if(i.headerItems[w]){var D=i.headerItems[w].start,j=i.headerItems[w].end;1!==u&&(j=h(new Date(i.headerItems[w].start)).hour(23).minute(59).second(59).format(s));var E=i.slotId,S=i.slotName,x="New";if(p===l){var O=v;if(d.relativeMove)D=h(O.start).add(h(D).diff(h(new Date(g))),"ms").format(s);else if(f!==c.Day){var I=h(D);D=h(O.start).year(I.year()).month(I.month()).date(I.date()).format(s)}if(j=h(D).add(h(O.end).diff(h(O.start)),"ms").format(s),!1===d.crossResourceMove){E=o._getEventSlotId(v),S=void 0;var k=o.getSlotById(E);k&&(S=k.name)}x="Move"}a&&a(o,E,S,D,j,x,p,v)}},canDrop:function(e,t){var r=e.schedulerData,n=e.resourceEvents,o=t.getItem();return!r._isResizing()&&r.config.movable&&!n.groupOnly&&(void 0===o.movable||!1!==o.movable)}}}),ke(this,"getDropOptions",function(e,t){var n,o=r.getDropSpec();return{accept:(n=r.sourceMap.keys(),function(e){if(Array.isArray(e))return xe(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return xe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xe(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),drop:function(r,n){return o.drop(e,n,t)},hover:function(r,n){return o.hover(e,n,t)},canDrop:function(t,r){return o.canDrop(e,r)},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}}),ke(this,"getDndSource",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return r.sourceMap.get(e)}),this.sourceMap=new Map,t.forEach(function(e){r.sourceMap.set(e.dndType,e)})});function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Re(e,t,r){return(t=function(e){var t=function(e){if("object"!=Ce(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ce(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function He(e){var t=e.schedulerData,r=e.nonAgendaCellHeaderTemplateResolver,n=t.headers,o=t.cellUnit,a=t.config,s=t.localeDayjs,c=a.showWeekNumber,l=a.weekNumberRowHeight,u=void 0===l?24:l,d=t.getTableHeaderHeight(),f=t.getContentCellWidth(),h=t.getMinuteStepsInHour(),v=(0,i.useMemo)(function(){if(!c)return null;var e=[],t=null,r=null,o=null,i=0;n.forEach(function(n){var a=s(new Date(n.time)).year(),c=s(new Date(n.time)).isoWeek(),l="".concat(a,"-").concat(c);t===l?i+=1:(null!==t&&e.push({week:r,year:o,colspan:i}),t=l,r=c,o=a,i=1)}),null!==t&&e.push({week:r,year:o,colspan:i});var l={fontSize:"0.85em",opacity:.7,borderBottom:"1px solid ".concat(a.headerBorderColor||"#e9e9e9"),padding:"4px 8px",textAlign:"center"};return e.map(function(e,t){return(0,j.jsxs)("th",{colSpan:e.colspan,style:l,children:["W",e.week]},"week-".concat(e.year,"-").concat(e.week,"-").concat(t))})},[c,n,s]),p=(0,i.useCallback)(function(e,t,r){return r?e.nonWorkingTime?{color:a.nonWorkingTimeHeadColor,backgroundColor:a.nonWorkingTimeHeadBgColor}:{}:e.nonWorkingTime?{width:t,color:a.nonWorkingTimeHeadColor,backgroundColor:a.nonWorkingTimeHeadBgColor}:{width:t}},[a]),m=(0,i.useCallback)(function(e){return Re(Re(Re({},2,a.nonAgendaWeekCellHeaderFormat),3,a.nonAgendaMonthCellHeaderFormat),4,a.nonAgendaYearCellHeaderFormat)[e]||a.nonAgendaOtherCellHeaderFormat},[a]),y=(0,i.useCallback)(function(e,n,o){if("function"==typeof r)return r(t,e,n,o);var i=n.map(function(t,r){return(0,j.jsx)("div",{children:t},"".concat(e.time,"-").concat(r,"-").concat(t))});return(0,j.jsx)("th",{className:"header3-text",style:o,children:(0,j.jsx)("div",{children:i})},"header-".concat(e.time))},[r,t]),g=(0,i.useMemo)(function(){if(1===o){var e=[],t=n.length-h;return n.forEach(function(r,n){if(n%h===0){var o=s(new Date(r.time)),i=p(r,f*h,n===t),c=a.nonAgendaDayCellHeaderFormat.split("|").map(function(e){return o.format(e)});e.push(y(r,c,i))}}),e}var r=m(o),i=n.length-1;return n.map(function(e,t){var n=s(new Date(e.time)),o=p(e,f,t===i),a=r.split("|").map(function(e){return n.format(e)});return y(e,a,o)})},[o,n,h,f,a,s,p,m,y]);return(0,j.jsxs)("thead",{children:[v&&(0,j.jsx)("tr",{style:{height:u},children:v}),(0,j.jsx)("tr",{style:{height:d},children:g})]})}He.propTypes={schedulerData:o().object.isRequired,nonAgendaCellHeaderTemplateResolver:o().func};const Me=He;var We=r(5079);function Ae(e){var t=e.schedulerData,r=e.number,n=e.left,o=e.width,i=e.top,a=e.clickAction,s=e.headerItem,c=t.config,l="+".concat(r," more");return(0,j.jsx)("button",{type:"button",className:"timeline-event",style:{left:n,width:o,top:i},onClick:function(){return a(s)},children:(0,j.jsx)("div",{style:{height:c.eventItemHeight,color:"#999",textAlign:"center"},children:l})})}Ae.propTypes={schedulerData:o().object.isRequired,number:o().number.isRequired,left:o().number.isRequired,width:o().number.isRequired,top:o().number.isRequired,clickAction:o().func.isRequired,headerItem:o().object.isRequired};const _e=Ae;function Ne(e){var t={left:e.left,width:e.width,top:0,bottom:0,backgroundColor:e.schedulerData.config.selectedAreaColor};return(0,j.jsx)("div",{className:"selected-area",style:t})}Ne.propTypes={schedulerData:o().object.isRequired,left:o().number.isRequired,width:o().number.isRequired};const Le=Ne;function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ye(e,t,r){return(t=function(e){var t=function(e){if("object"!=ze(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ze(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qe(e){var t=e.schedulerData,r=e.summary,n=e.left,o=e.width,i=e.top,a=t.config,s=void 0!==r.color?r.color:a.summaryColor,c="center";1===a.summaryPos||4===a.summaryPos?c="right":2!==a.summaryPos&&5!==a.summaryPos||(c="left");var l=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach(function(t){Ye(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({height:a.eventItemHeight,color:s,textAlign:c,marginLeft:"6px",marginRight:"6px"},void 0!==r.fontSize?{fontSize:r.fontSize}:{});return(0,j.jsx)("div",{className:"timeline-event header2-text",style:{left:n,width:o,top:i,cursor:"default"},children:(0,j.jsx)("div",{style:l,children:r.text})})}qe.propTypes={schedulerData:o().object.isRequired,summary:o().object.isRequired,left:o().number.isRequired,width:o().number.isRequired,top:o().number.isRequired};const Be=qe;function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach(function(t){rt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||Qe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){if(e){if("string"==typeof e)return $e(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$e(e,t):void 0}}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nt(n.key),n)}}function Ke(e,t,r){return t=et(t),function(e,t){if(t&&("object"==Ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ze()?Reflect.construct(t,r||[],et(e).constructor):t.apply(e,r))}function Ze(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ze=function(){return!!e})()}function et(e){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},et(e)}function tt(e,t){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tt(e,t)}function rt(e,t,r){return(t=nt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nt(e){var t=function(e){if("object"!=Ge(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ge(t)?t:t+""}var ot=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rt(r=Ke(this,t,[e]),"supportTouchHelper",function(){var e="add"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add")?r.eventContainer.addEventListener:r.eventContainer.removeEventListener;r.supportTouch||e("mousedown",r.initDrag,!1)}),rt(r,"initDrag",function(e){if(!r.state.isSelecting&&(e.srcElement||e.target)===r.eventContainer&&(e.stopPropagation(),!r.props.resourceEvents.groupOnly)){var t=Ve(r.dragHelper(e,"init"),2),n=t[0];if(!t[1]){var o=r.props.schedulerData.getContentCellWidth(),i=n-Ee(r.eventContainer).x,a=Math.floor(i/o),s=a*o,c=Math.ceil(i/o),l=(c-a)*o;r.setState({startX:i,left:s,leftIndex:a,width:l,rightIndex:c,isSelecting:!0}),r.supportTouch?(document.documentElement.addEventListener("touchmove",r.doDrag,!1),document.documentElement.addEventListener("touchend",r.stopDrag,!1),document.documentElement.addEventListener("touchcancel",r.cancelDrag,!1)):(document.documentElement.addEventListener("mousemove",r.doDrag,!1),document.documentElement.addEventListener("mouseup",r.stopDrag,!1)),document.onselectstart=function(){return!1},document.ondragstart=function(){return!1}}}}),rt(r,"doDrag",function(e){e.stopPropagation();var t=Ve(r.dragHelper(e,"do"),2),n=t[0];if(!t[1]){var o=r.state.startX,i=r.props.schedulerData,a=i.headers,s=i.getContentCellWidth(),c=n-Ee(r.eventContainer).x,l=Math.floor(Math.min(o,c)/s),u=(l=l<0?0:l)*s,d=Math.ceil(Math.max(o,c)/s),f=((d=d>a.length?a.length:d)-l)*s;r.setState({leftIndex:l,left:u,rightIndex:d,width:f,isSelecting:!0})}}),rt(r,"dragHelper",function(e,t){var n=0;if(r.supportTouch){if(0===e.changedTouches.length)return[n,!0];n=e.changedTouches[0].pageX}else if("init"===t){if(void 0!==e.buttons&&1!==e.buttons)return[n,!0];n=e.clientX}else n=e.clientX;return[n,!1]}),rt(r,"stopDrag",function(e){e.stopPropagation();var t=r.props,n=t.schedulerData,o=t.newEvent,i=t.resourceEvents,a=n.headers,c=n.events,u=n.config,d=n.cellUnit,f=n.localeDayjs,h=r.state,v=h.leftIndex,p=h.rightIndex;r.supportTouch?(document.documentElement.removeEventListener("touchmove",r.doDrag,!1),document.documentElement.removeEventListener("touchend",r.stopDrag,!1),document.documentElement.removeEventListener("touchcancel",r.cancelDrag,!1)):(document.documentElement.removeEventListener("mousemove",r.doDrag,!1),document.documentElement.removeEventListener("mouseup",r.stopDrag,!1)),document.onselectstart=null,document.ondragstart=null;var m=a[v].time,y=i.headerItems[p-1].end;1!==d&&(y=f(new Date(i.headerItems[p-1].start)).hour(23).minute(59).second(59).format(s));var g=i.slotId,b=i.slotName;r.setState({startX:0,leftIndex:0,left:0,rightIndex:0,width:0,isSelecting:!1});var w=!1;if(u.checkConflict){var D=f(new Date(m)),j=f(y);c.forEach(function(e){if(n._getEventSlotId(e)===g){var t=f(e.start),r=f(e.end);(D>=t&&D<r||j>t&&j<=r||t>=D&&t<j||r>D&&r<=j)&&(w=!0)}})}if(w){var E=r.props.conflictOccurred;void 0!==E?E(n,"New",{id:void 0,start:m,end:y,slotId:g,slotName:b,title:void 0},l,g,b,m,y):console.log("Conflict occurred, set conflictOccurred func in Scheduler to handle it")}else void 0!==o&&o(n,g,b,m,y)}),rt(r,"cancelDrag",function(e){e.stopPropagation(),r.state.isSelecting&&(document.documentElement.removeEventListener("touchmove",r.doDrag,!1),document.documentElement.removeEventListener("touchend",r.stopDrag,!1),document.documentElement.removeEventListener("touchcancel",r.cancelDrag,!1),document.onselectstart=null,document.ondragstart=null,r.setState({startX:0,leftIndex:0,left:0,rightIndex:0,width:0,isSelecting:!1}))}),rt(r,"onAddMoreClick",function(e){var t=r.props,n=t.onSetAddMoreState,o=t.resourceEvents,i=t.schedulerData;if(n){var a=i.config,s=i.getContentCellWidth(),c=o.headerItems.indexOf(e);if(-1!==c){var l=c*(s-1),u=Ee(r.eventContainer);n({headerItem:e,left:l+=u.x,top:u.y,height:(e.count+1)*a.eventItemLineHeight+20})}}}),rt(r,"eventContainerRef",function(e){r.eventContainer=e;var t=r.props.dropRef;t&&t(e)}),r.state={isSelecting:!1,left:0,width:0},r.supportTouch=!1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tt(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){var e=this.props.schedulerData.config;this.supportTouch="ontouchstart"in window,!0===e.creatable&&this.supportTouchHelper()}},{key:"componentDidUpdate",value:function(e){if(e!==this.props){var t=this.props.schedulerData;this.supportTouchHelper("remove"),t.config.creatable&&this.supportTouchHelper()}}},{key:"render",value:function(){var e=this,t=this.props,r=t.resourceEvents,n=t.schedulerData,o=t.dndSource,a=n.cellUnit,s=n.startDate,c=n.endDate,l=n.config,u=n.localeDayjs,d=this.state,f=d.isSelecting,h=d.left,v=d.width,p=n.getContentCellWidth(),m=n.getCellMaxEvents(),y=n.getContentTableWidth(),g=f?(0,j.jsx)(Le,Xe(Xe({},this.props),{},{left:h,width:v})):(0,j.jsx)("div",{}),b=[];r.headerItems.forEach(function(t,d){if(t.count>0||void 0!==t.summary){var f=1===l.summaryPos||0===l.summaryPos||2===l.summaryPos,h=r.hasSummary&&f?1+l.eventItemLineHeight:1,v=0===t.addMore?m:t.addMoreIndex;if(t.events.forEach(function(r,n){if(n<v&&void 0!==r&&r.render){var f=u(new Date(s)),m=u(c);1===a&&(f=u(new Date(s)).add(l.dayStartFrom,"hours"),m=u(c).add(l.dayStopTo+1,"hours"));var y=u(r.eventItem.start),g=u(r.eventItem.end),w=y>=f,D=g<=m,j=d*p+(d>0?2:3),E=r.span*p-(d>0?5:6)>0?r.span*p-(d>0?5:6):0,S=u(new Date(t.start)).startOf("day"),x=1440,O=p-(d>0?5:6);if(0===a)if(1===r.span){var I=y.diff(S,"minute"),k=O*(g.diff(y,"minute")/x);j=d*p+(d>0?2:3)+O*(I/x),E=Math.max(1,k)}else{var T=u(new Date(t.start)),P=u(new Date(t.end));if(y>=T&&y<P){var C=y.startOf("day"),R=g.endOf("day").diff(C,"minute"),H=y.diff(C,"minute"),M=g.diff(y,"minute"),W=H/x,A=R>0?M/R:1,_=(r.span*p-(d>0?5:6))*A;j=d*p+(d>0?2:3)+p*W,E=Math.max(1,_)}}else E=r.span*p-(d>0?5:6)>0?r.span*p-(d>0?5:6):0;var N=h+n*l.eventItemLineHeight,L=(0,i.createElement)(G,Xe(Xe({},e.props),{},{key:"".concat(r.eventItem.id,"_").concat(t.time),eventItem:r.eventItem,dndSource:o,isStart:w,isEnd:D,isInPopover:!1,left:j,width:E,top:N,leftIndex:d,rightIndex:d+r.span}));b.push(L)}}),t.addMore>0){var y=d*p+(d>0?2:3),g=p-(d>0?5:6),w=h+t.addMoreIndex*l.eventItemLineHeight,D=(0,i.createElement)(_e,Xe(Xe({},e.props),{},{key:t.time,headerItem:t,number:t.addMore,left:y,width:g,top:w,clickAction:e.onAddMoreClick}));b.push(D)}if(void 0!==t.summary){var E=f?1:r.rowHeight-l.eventItemLineHeight+1,S=d*p+(d>0?2:3),x=p-(d>0?5:6),O="".concat(r.slotId,"_").concat(t.time),I=(0,j.jsx)(Be,{schedulerData:n,summary:t.summary,left:S,width:x,top:E},O);b.push(I)}}});var w=(0,j.jsxs)("div",{ref:this.eventContainerRef,className:"event-container",style:{height:r.rowHeight},children:[g,b]});return(0,j.jsx)("tr",{children:(0,j.jsx)("td",{style:{width:y},children:w})})}}])&&Je(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(i.Component);rt(ot,"propTypes",{resourceEvents:n.PropTypes.object.isRequired,schedulerData:n.PropTypes.object.isRequired,dndSource:n.PropTypes.object.isRequired,onSetAddMoreState:n.PropTypes.func,updateEventStart:n.PropTypes.func,updateEventEnd:n.PropTypes.func,moveEvent:n.PropTypes.func,movingEvent:n.PropTypes.func,conflictOccurred:n.PropTypes.func,subtitleGetter:n.PropTypes.func,eventItemClick:n.PropTypes.func,viewEventClick:n.PropTypes.func,viewEventText:n.PropTypes.string,viewEvent2Click:n.PropTypes.func,viewEvent2Text:n.PropTypes.string,newEvent:n.PropTypes.func,eventItemTemplateResolver:n.PropTypes.func});var it=function(e){var t=e.schedulerData,r=e.dndContext,n=t.config,o=i.useRef(null),a=Ve((0,We.H)(function(){if(!n.dragAndDropEnabled||!r)return{accept:[],collect:function(){return{isOver:!1,canDrop:!1}}};var t,i=r.getDropSpec();return{accept:(t=r.sourceMap.keys(),function(e){if(Array.isArray(e))return $e(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Qe(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),drop:function(t,r){return i.drop(e,r,o.current)},hover:function(t,r){return i.hover(e,r,o.current)},canDrop:function(t,r){return i.canDrop(e,r)},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}},[e,r,n.dragAndDropEnabled]),2),s=a[0],c=s.isOver,l=s.canDrop,u=a[1];return(0,j.jsx)(ot,Xe(Xe({ref:o},e),{},{dropRef:u,isOver:c,canDrop:l}))};it.displayName="ResourceEventsWithDnD";const at=it;var st=r(5765),ct=r(5140);function lt(e){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lt(e)}function ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(r),!0).forEach(function(t){ft(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ft(e,t,r){return(t=function(e){var t=function(e){if("object"!=lt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==lt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ht(e){var t=e.schedulerData,r=e.contentScrollbarHeight,n=e.slotClickedFunc,o=e.slotItemTemplateResolver,i=e.toggleExpandFunc,a=e.CustomResourceCell,s=t.renderData,c=t.getResourceTableWidth()-2,l=r,u=s.filter(function(e){return e.render}),d=function(e){i&&i(t,e.slotId)},f=u.map(function(e){for(var r=[],i=0;i<e.indent;i+=1)r.push((0,j.jsx)("span",{className:"expander-space"},"es".concat(i)));return function(e,r){var i=(0,j.jsx)("span",{className:"expander-space"},"es".concat(e.indent)),s={onClick:function(){return d(e)}};e.hasChildren&&(i=e.expanded?(0,j.jsx)(st.A,dt({},s),"es".concat(e.indent)):(0,j.jsx)(ct.A,dt({},s),"es".concat(e.indent))),r.push(i);var l={height:e.rowHeight,backgroundColor:e.groupOnly?t.config.groupOnlySlotColor:void 0};if(a)return(0,j.jsx)("tr",{children:(0,j.jsx)("td",{"data-resource-id":e.slotId,style:l,children:(0,j.jsx)(a,{schedulerData:t,item:e,indents:r,slotClickedFunc:n,handleToggleExpand:d})})},e.slotId);var u=n?(0,j.jsxs)("span",{className:"slot-cell",children:[r,(0,j.jsx)("button",{type:"button",style:{cursor:"pointer"},className:"slot-text rbs-txt-btn-dis",onClick:function(){return n(t,e)},children:e.slotName})]}):(0,j.jsxs)("span",{className:"slot-cell",children:[r,(0,j.jsx)("button",{type:"button",className:"slot-text rbs-txt-btn-dis",style:{cursor:void 0===n?void 0:"pointer"},children:e.slotName})]}),f=(0,j.jsx)("div",{title:e.slotTitle||e.slotName,className:"overflow-text header2-text",style:{textAlign:"left"},children:u});if(o){var h=o(t,e,n,c,"overflow-text header2-text");h&&(f=h)}return(0,j.jsx)("tr",{children:(0,j.jsx)("td",{"data-resource-id":e.slotId,style:l,children:f})},e.slotId)}(e,r)});return(0,j.jsx)("div",{style:{paddingBottom:l},children:(0,j.jsx)("table",{className:"resource-table",children:(0,j.jsx)("tbody",{children:f})})})}ht.propTypes={schedulerData:o().object.isRequired,contentScrollbarHeight:o().number.isRequired,slotClickedFunc:o().func,slotItemTemplateResolver:o().func,toggleExpandFunc:o().func,CustomResourceCell:o().func};const vt=ht;var pt=r(4353),mt=r.n(pt),yt=r(1816),gt=r.n(yt),bt=r(3826),wt=r.n(bt),Dt=r(6986),jt=r.n(Dt),Et=r(8313),St=r.n(Et),xt=r(1786);const Ot={schedulerWidth:"100%",besidesWidth:20,underneathHeight:20,schedulerMaxHeight:0,tableHeaderHeight:40,schedulerContentHeight:"500px",responsiveByParent:!1,agendaResourceTableWidth:160,agendaMaxEventWidth:100,dayResourceTableWidth:160,weekResourceTableWidth:"16%",monthResourceTableWidth:160,quarterResourceTableWidth:160,yearResourceTableWidth:160,customResourceTableWidth:160,dayCellWidth:30,weekCellWidth:"12%",monthCellWidth:80,quarterCellWidth:80,yearCellWidth:80,customCellWidth:80,dayMaxEvents:99,weekMaxEvents:99,monthMaxEvents:99,quarterMaxEvents:99,yearMaxEvents:99,customMaxEvents:99,eventItemPopoverTrigger:"hover",eventItemPopoverPlacement:"bottomLeft",eventItemPopoverWidth:300,eventItemHeight:22,eventItemLineHeight:24,nonAgendaSlotMinHeight:0,dayStartFrom:0,dayStopTo:23,defaultEventBgColor:"#80C5F6",selectedAreaColor:"#7EC2F3",nonWorkingTimeHeadColor:"#999999",nonWorkingTimeHeadBgColor:"#fff0f6",nonWorkingTimeBodyBgColor:"#fff0f6",summaryColor:"#666",summaryPos:1,groupOnlySlotColor:"#F8F8F8",headerBorderColor:"#e9e9e9",weekNumberRowHeight:24,showWeekNumber:!1,startResizable:!0,endResizable:!0,movable:!0,creatable:!0,crossResourceMove:!0,checkConflict:!1,scrollToSpecialDayjsEnabled:!0,eventItemPopoverEnabled:!0,eventItemPopoverShowColor:!0,calendarPopoverEnabled:!0,recurringEventsEnabled:!0,viewChangeSpinEnabled:!0,dateChangeSpinEnabled:!0,headerEnabled:!0,resourceViewEnabled:!0,displayWeekend:!0,relativeMove:!0,defaultExpanded:!0,dragAndDropEnabled:!0,schedulerHeaderEventsFuncsTimeoutMs:100,resourceName:"Resource Name",taskName:"Task Name",agendaViewHeader:"Agenda",weekNumberLabel:"Week No.",addMorePopoverHeaderFormat:"MMM D, YYYY dddd",eventItemPopoverDateFormat:"MMM D",nonAgendaDayCellHeaderFormat:"ha",nonAgendaWeekCellHeaderFormat:"ww/YYYY",nonAgendaMonthCellHeaderFormat:"MMM YYYY",nonAgendaYearCellHeaderFormat:"YYYY",nonAgendaOtherCellHeaderFormat:"ddd M/D",minuteStep:30,views:[{viewName:"Day",viewType:c.Day,showAgenda:!1,isEventPerspective:!1},{viewName:"Week",viewType:c.Week,showAgenda:!1,isEventPerspective:!1},{viewName:"Month",viewType:c.Month,showAgenda:!1,isEventPerspective:!1},{viewName:"Quarter",viewType:c.Quarter,showAgenda:!1,isEventPerspective:!1},{viewName:"Year",viewType:c.Year,showAgenda:!1,isEventPerspective:!1}]};function It(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function kt(e,t,r){return(t=function(e){var t=function(e){if("object"!=Tt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Tt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}var Pt={resourceName:"Resource Name",taskName:"Task Name",agendaViewHeader:"Agenda",weekNumberLabel:"Week No."};const Ct={getSummaryFunc:void 0,getCustomDateFunc:void 0,getNonAgendaViewBodyCellBgColorFunc:void 0,getScrollSpecialDayjsFunc:function(e){return(0,e.localeDayjs)(new Date)},getDateLabelFunc:function(e,t,r,n){var o=e.localeDayjs,i=o(new Date(r)),a=o(n),s="";return t===c.Week||i!==a&&(t===c.Custom||t===c.Custom1||t===c.Custom2)?(s="".concat(i.format("MMM D"),"-").concat(a.format("D, YYYY")),i.month()!==a.month()&&(s="".concat(i.format("MMM D"),"-").concat(a.format("MMM D, YYYY"))),i.year()!==a.year()&&(s="".concat(i.format("MMM D, YYYY"),"-").concat(a.format("MMM D, YYYY")))):s=t===c.Month?i.format("MMMM YYYY"):t===c.Quarter?"".concat(i.format("MMM D"),"-").concat(a.format("MMM D, YYYY")):t===c.Year?i.format("YYYY"):i.format("MMM D, YYYY"),s},getEventTextFunc:function(e,t){var r,n,o=e.localeDayjs,i=e.isEventPerspective,a=e.cellUnit,s=e.viewType,l=e.resources,u=i&&l&&(null===(r=l.find(function(e){return e.id===t.resourceId}))||void 0===r?void 0:r.name)||t.title,d=o(new Date(t.start)),f=o(new Date(t.end));return n=1===a||s===c.Day?"".concat(d.format("HH:mm"),"-").concat(f.format("HH:mm")):d.format("MMM D"),"".concat(n," ").concat(u)},isNonWorkingTimeFunc:function(e,t){var r=e.localeDayjs;if(1===e.cellUnit){var n=r(new Date(t)).hour();return n<9||n>18}var o=r(new Date(t)).day();return 0===o||6===o}};function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function Ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(r),!0).forEach(function(t){Wt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ht(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Wt(e,t,r){return(t=_t(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function At(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_t(n.key),n)}}function _t(e){var t=function(e){if("object"!=Rt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Rt(t)?t:t+""}var Nt=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt()(),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.Week,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resources=[],this.events=[],this.eventGroups=[],this.eventGroupsAutoGenerated=!0,this.viewType=r,this.cellUnit=r===c.Day?1:0,this.showAgenda=n,this.isEventPerspective=o,this.resizing=!1,this.scrollToSpecialDayjs=!1,this.documentWidth=0,this.documentHeight=0,this.schedulerHeaderHeight=0,this._shouldReloadViewType=!1,this.calendarPopoverLocale=void 0,mt().extend(gt()),mt().extend(jt()),mt().extend(wt()),mt().extend(St()),this.localeDayjs=mt(),this.config=void 0===i?Ot:Mt(Mt({},Ot),i),this._updateLabelsFromI18n(),this._validateMinuteStep(this.config.minuteStep),this.behaviors=void 0===a?Ct:Mt(Mt({},Ct),a),this._resolveDate(0,t),this._createHeaders(),this._createRenderData()},t=[{key:"_updateLabelsFromI18n",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?It(Object(r),!0).forEach(function(t){kt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},Pt),r=function(r,n){var o=function(e){return Pt[e]}(r,e);return null==o?n:o!==t[r]?o:n};this.config.resourceName=r("resourceName",this.config.resourceName),this.config.taskName=r("taskName",this.config.taskName),this.config.agendaViewHeader=r("agendaViewHeader",this.config.agendaViewHeader),this.config.weekNumberLabel=r("weekNumberLabel",this.config.weekNumberLabel)}},{key:"setSchedulerLocale",value:function(e){e&&(this.localeDayjs.locale(e),this._updateLabelsFromI18n(e),this._shouldReloadViewType=!0,this.setViewType(this.viewType,this.showAgenda,this.isEventPerspective))}},{key:"setCalendarPopoverLocale",value:function(e){e&&(this.calendarPopoverLocale=e)}},{key:"setResources",value:function(e){this._validateResource(e),this.resources=Array.from(new Set(e)),this._createRenderData(),this.setScrollToSpecialDayjs(!0)}},{key:"setEventGroupsAutoGenerated",value:function(e){this.eventGroupsAutoGenerated=e}},{key:"setEventGroups",value:function(e){this._validateEventGroups(e),this.eventGroups=Array.from(new Set(e)),this.eventGroupsAutoGenerated=!1,this._createRenderData(),this.setScrollToSpecialDayjs(!0)}},{key:"setMinuteStep",value:function(e){this.config.minuteStep!==e&&(this._validateMinuteStep(e),this.config.minuteStep=e,this._createHeaders(),this._createRenderData())}},{key:"setBesidesWidth",value:function(e){e>=0&&(this.config.besidesWidth=e)}},{key:"setUnderneathHeight",value:function(e){e>=0&&(this.config.underneathHeight=e)}},{key:"getMinuteStepsInHour",value:function(){return 60/this.config.minuteStep}},{key:"addResource",value:function(e){0===this.resources.filter(function(t){return t.id===e.id}).length&&(this.resources.push(e),this._createRenderData())}},{key:"addEventGroup",value:function(e){0===this.eventGroups.filter(function(t){return t.id===e.id}).length&&(this.eventGroups.push(e),this._createRenderData())}},{key:"removeEventGroupById",value:function(e){var t=-1;this.eventGroups.forEach(function(r,n){r.id===e&&(t=n)}),-1!==t&&this.eventGroups.splice(t,1)}},{key:"containsEventGroupId",value:function(e){var t=-1;return this.eventGroups.forEach(function(r,n){r.id===e&&(t=n)}),-1!==t}},{key:"setEvents",value:function(e){this._validateEvents(e),this.events=Array.from(e),this.eventGroupsAutoGenerated&&this._generateEventGroups(),this.config.recurringEventsEnabled&&this._handleRecurringEvents(),this._createRenderData()}},{key:"setScrollToSpecialDayjs",value:function(e){this.config.scrollToSpecialDayjsEnabled&&(this.scrollToSpecialDayjs=e)}},{key:"prev",value:function(){this._resolveDate(-1),this.events=[],this._createHeaders(),this._createRenderData()}},{key:"next",value:function(){this._resolveDate(1),this.events=[],this._createHeaders(),this._createRenderData()}},{key:"setDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt()(new Date);this._resolveDate(0,e),this.events=[],this._createHeaders(),this._createRenderData()}},{key:"setViewType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.Week,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.showAgenda=t,this.isEventPerspective=r,this.cellUnit=0,this.viewType!==e||this._shouldReloadViewType){var n=this.startDate;if(e===c.Custom||e===c.Custom1||e===c.Custom2)this.viewType=e,this._resolveDate(0,n);else{if(this.viewType<e)e===c.Week?(this.startDate=this.localeDayjs(new Date(n)).startOf("isoWeek"),this.endDate=this.localeDayjs(new Date(this.startDate)).endOf("isoWeek")):e===c.Month?(this.startDate=this.localeDayjs(new Date(n)).startOf("month"),this.endDate=this.localeDayjs(new Date(this.startDate)).endOf("month")):e===c.Quarter?(this.startDate=this.localeDayjs(new Date(n)).startOf("quarter"),this.endDate=this.localeDayjs(new Date(this.startDate)).endOf("quarter")):e===c.Year&&(this.startDate=this.localeDayjs(new Date(n)).startOf("year"),this.endDate=this.localeDayjs(new Date(this.startDate)).endOf("year"));else{var o=this.localeDayjs(new Date(this.startDate)),i=this.localeDayjs(new Date(this.endDate)).add(1,"days");if(void 0!==this.selectDate){var a=this.localeDayjs(new Date(this.selectDate));a>=o&&a<i&&(n=this.selectDate)}var s=this.localeDayjs();s>=o&&s<i&&(n=s.startOf("day")),e===c.Day?(this.startDate=n,this.endDate=this.startDate,this.cellUnit=1):e===c.Week?(this.startDate=this.localeDayjs(new Date(n)).startOf("isoWeek"),this.endDate=this.localeDayjs(new Date(this.startDate)).endOf("isoWeek")):e===c.Month?(this.startDate=this.localeDayjs(new Date(n)).startOf("month"),this.endDate=this.localeDayjs(new Date(this.startDate)).endOf("month")):e===c.Quarter&&(this.startDate=this.localeDayjs(new Date(n)).startOf("quarter"),this.endDate=this.localeDayjs(new Date(this.startDate)).endOf("quarter"))}this.viewType=e}this._shouldReloadViewType=!1,this.events=[],this._createHeaders(),this._createRenderData(),this.setScrollToSpecialDayjs(!0)}}},{key:"setSchedulerMaxHeight",value:function(e){this.config.schedulerMaxHeight=e}},{key:"isSchedulerResponsive",value:function(){return!!this.config.schedulerWidth.endsWith&&this.config.schedulerWidth.endsWith("%")}},{key:"toggleExpandStatus",value:function(e){var t=!1,r=-1,n=!1,o=new Map;this.renderData.forEach(function(i){if(!1===t)i.slotId===e&&i.hasChildren&&(t=!0,n=!i.expanded,i.expanded=n,r=i.indent,o.set(i.indent,{expanded:i.expanded,render:i.render}));else if(i.indent>r){var a=o.get(i.indent-1);i.render=a.expanded&&a.render,i.hasChildren&&o.set(i.indent,{expanded:i.expanded,render:i.render})}else t=!1})}},{key:"isResourceViewResponsive",value:function(){var e=this.getResourceTableConfigWidth();return!!e.endsWith&&e.endsWith("%")}},{key:"isContentViewResponsive",value:function(){var e=this.getContentCellConfigWidth();return!!e.endsWith&&e.endsWith("%")}},{key:"getSchedulerWidth",value:function(){var e=this.documentWidth-this.config.besidesWidth>0?this.documentWidth-this.config.besidesWidth:0;return this.isSchedulerResponsive()?parseInt(e*Number(this.config.schedulerWidth.slice(0,-1))/100,10):this.config.schedulerWidth}},{key:"getSchedulerHeight",value:function(){var e=this.schedulerHeaderHeight||0,t=this.documentHeight-e-this.config.tableHeaderHeight-(this.config.underneathHeight||0),r=t>0?t:0;return this.isSchedulerResponsive()&&this.config.schedulerHeight&&this.config.schedulerHeight.endsWith&&this.config.schedulerHeight.endsWith("%")?parseInt(r*Number(this.config.schedulerHeight.slice(0,-1))/100,10):this.config.schedulerMaxHeight||r}},{key:"getResourceTableWidth",value:function(){var e=this.getResourceTableConfigWidth(),t=this.getSchedulerWidth(),r=this.isResourceViewResponsive()?parseInt(t*Number(e.slice(0,-1))/100,10):e;return this.isSchedulerResponsive()&&this.getContentTableWidth()+r<t&&(r=t-this.getContentTableWidth()),r}},{key:"getContentCellWidth",value:function(){var e=this.getContentCellConfigWidth(),t=this.getSchedulerWidth();return this.isContentViewResponsive()?parseInt(t*Number(e.slice(0,-1))/100,10):e}},{key:"getContentTableWidth",value:function(){return this.headers.length*this.getContentCellWidth()}},{key:"getScrollToSpecialDayjs",value:function(){return!!this.config.scrollToSpecialDayjsEnabled&&this.scrollToSpecialDayjs}},{key:"getSlots",value:function(){return this.isEventPerspective?this.eventGroups:this.resources}},{key:"getSlotById",value:function(e){var t;return this.getSlots().forEach(function(r){r.id===e&&(t=r)}),t}},{key:"getResourceById",value:function(e){var t;return this.resources.forEach(function(r){r.id===e&&(t=r)}),t}},{key:"getTableHeaderHeight",value:function(){return this.config.tableHeaderHeight}},{key:"getSchedulerContentDesiredHeight",value:function(){var e=0;return this.renderData.forEach(function(t){t.render&&(e+=t.rowHeight)}),e}},{key:"getCellMaxEvents",value:function(){var e=Wt(Wt(Wt(Wt(Wt({},c.Week,"weekMaxEvents"),c.Day,"dayMaxEvents"),c.Month,"monthMaxEvents"),c.Year,"yearMaxEvents"),c.Quarter,"quarterMaxEvents")[this.viewType]||"customMaxEvents";return this.config[e]}},{key:"getCalendarPopoverLocale",value:function(){return this.calendarPopoverLocale}},{key:"getSelectedDate",value:function(){return this.selectDate.format(a)}},{key:"getViewStartDate",value:function(){return this.startDate}},{key:"getViewEndDate",value:function(){return this.endDate}},{key:"getViewDates",value:function(){return{startDate:this.startDate,endDate:this.endDate}}},{key:"getDateLabel",value:function(){var e=this.localeDayjs(new Date(this.startDate)),t=this.localeDayjs(new Date(this.endDate)),r=e.format("LL");return e!==t&&(r="".concat(e.format("LL"),"-").concat(t.format("LL"))),this.behaviors.getDateLabelFunc&&(r=this.behaviors.getDateLabelFunc(this,this.viewType,this.startDate,this.endDate)),r}},{key:"addEvent",value:function(e){this._attachEvent(e),this.eventGroupsAutoGenerated&&this._generateEventGroups(),this._createRenderData()}},{key:"updateEventStart",value:function(e,t){this._detachEvent(e),e.start=t,this._attachEvent(e),this._createRenderData()}},{key:"updateEventEnd",value:function(e,t){e.end=t,this._createRenderData()}},{key:"swapEvent",value:function(e,t){if(this.isEventPerspective){var r=[t.groupId,e.groupId];e.groupId=r[0],t.groupId=r[1];var n=[t.groupName,e.groupName];e.groupName=n[0],t.groupName=n[1]}else{var o=[t.resourceId,e.resourceId];e.resourceId=o[0],t.resourceId=o[1]}var i=[t.start,e.start];e.start=i[0],t.start=i[1];var a=[t.end,e.end];e.end=a[0],t.end=a[1],this._detachEvent(e),this._detachEvent(t),this._attachEvent(e),this._attachEvent(t),this._createRenderData()}},{key:"swapEvent2",value:function(e,t){var r=Mt({},e),n=Mt({},t);this._detachEvent(e),this._detachEvent(t),this.isEventPerspective?(r.groupId=t.groupId,r.groupName=t.groupName,n.groupId=e.groupId,n.groupName=e.groupName):(r.resourceId=t.resourceId,n.resourceId=e.resourceId),r.end=t.end,r.start=t.start,n.end=e.end,n.start=e.start,this._attachEvent(r),this._attachEvent(n),this._createRenderData()}},{key:"moveEvent",value:function(e,t,r,n,o){this._detachEvent(e),this.isEventPerspective?(e.groupId=t,e.groupName=r):e.resourceId=t,e.end=o,e.start=n,this._attachEvent(e),this._createRenderData()}},{key:"isEventInTimeWindow",value:function(e,t,r,n){return e<n&&t>r}},{key:"removeEvent",value:function(e){var t=this.events.indexOf(e);-1!==t&&(this.events.splice(t,1),this._createRenderData())}},{key:"removeEventById",value:function(e){var t=-1;this.events.forEach(function(r,n){r.id===e&&(t=n)}),-1!==t&&(this.events.splice(t,1),this._createRenderData())}},{key:"getResourceTableConfigWidth",value:function(){if(this.showAgenda)return this.config.agendaResourceTableWidth;var e=Wt(Wt(Wt(Wt(Wt({},c.Week,"weekResourceTableWidth"),c.Day,"dayResourceTableWidth"),c.Month,"monthResourceTableWidth"),c.Year,"yearResourceTableWidth"),c.Quarter,"quarterResourceTableWidth")[this.viewType]||"customResourceTableWidth";return this.config[e]}},{key:"getContentCellConfigWidth",value:function(){var e=Wt(Wt(Wt(Wt(Wt({},c.Week,"weekCellWidth"),c.Day,"dayCellWidth"),c.Month,"monthCellWidth"),c.Year,"yearCellWidth"),c.Quarter,"quarterCellWidth")[this.viewType]||"customCellWidth";return this.config[e]}},{key:"_setDocumentWidth",value:function(e){e>=0&&(this.documentWidth=e)}},{key:"_setDocumentHeight",value:function(e){e>=0&&(this.documentHeight=e)}},{key:"_setSchedulerHeaderHeight",value:function(e){e>=0&&(this.schedulerHeaderHeight=e)}},{key:"_detachEvent",value:function(e){var t=this.events.indexOf(e);-1!==t&&this.events.splice(t,1)}},{key:"_attachEvent",value:function(e){var t=this,r=0,n=this.localeDayjs(new Date(e.start));this.events.forEach(function(e,o){var i=t.localeDayjs(new Date(e.start));n>=i&&(r=o+1)}),this.events.splice(r,0,e)}},{key:"_handleRecurringEvents",value:function(){var e=this,t=this.events.filter(function(e){return!!e.rrule});t.forEach(function(t){e._detachEvent(t)}),t.forEach(function(t){var r,n=e.startDate,o=e.endDate.add(1,"days"),i=e.localeDayjs(new Date(t.start)),a=e.localeDayjs(new Date(t.end)),c=(0,xt.YI)(t.rrule),l=c.origOptions.until||o.toDate();if(c.origOptions.dtstart&&(r=e.localeDayjs(new Date(c.origOptions.dtstart))),o<l&&(c.origOptions.until=o.toDate()),c=(0,xt.YI)(c.toString()),t.exdates||t.exrule){var u=new xt.Dz;u.rrule(c),t.exrule&&u.exrule((0,xt.YI)(t.exrule)),t.exdates&&t.exdates.forEach(function(t){u.exdate(e.localeDayjs(t).toDate())}),c=u}c.between(new Date(n),new Date(o)).forEach(function(u,d){var f=Mt(Mt({},t),{},{recurringEventId:t.id,recurringEventStart:t.start,recurringEventEnd:t.end,id:"".concat(t.id,"-").concat(d),start:c.origOptions.tzid?e.localeDayjs.utc(u).utcOffset(e.localeDayjs(new Date).utcOffset(),!0).format(s):e.localeDayjs(new Date(u)).format(s),end:c.origOptions.tzid?e.localeDayjs.utc(u).utcOffset(e.localeDayjs(new Date).utcOffset(),!0).add(a.diff(i),"ms").add(e.localeDayjs(new Date(l)).utcOffset()-e.localeDayjs(new Date(t.start)).utcOffset(),"m").format(s):e.localeDayjs(new Date(u)).add(a.diff(i),"ms").format(s)}),h=e.localeDayjs(f.start),v=e.localeDayjs(f.end);e.isEventInTimeWindow(h,v,n,o)&&(!r||h>=r)&&e._attachEvent(f)})})}},{key:"_resolveDate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;void 0!==r&&(this.selectDate=this.localeDayjs(r));var n=function(n){t.startDate=void 0!==r?t.selectDate.startOf(n):t.startDate.add(e,"".concat(n,"s")),t.endDate=t.startDate.endOf(n)};switch(this.viewType){case c.Week:this.startDate=void 0!==r?this.selectDate.startOf("isoWeek"):this.startDate.add(e,"weeks"),this.endDate=this.startDate.endOf("isoWeek");break;case c.Day:this.startDate=void 0!==r?this.selectDate:this.startDate.add(e,"days"),this.endDate=this.startDate;break;case c.Month:n("month");break;case c.Quarter:n("quarter");break;case c.Year:n("year");break;case c.Custom:case c.Custom1:case c.Custom2:if(void 0===this.behaviors.getCustomDateFunc)throw new Error("This is a custom view type, set behaviors.getCustomDateFunc func to resolve the time window (startDate and endDate) yourself");var o=this.behaviors.getCustomDateFunc(this,e,r);this.startDate=this.localeDayjs(o.startDate),this.endDate=this.localeDayjs(o.endDate),o.cellUnit&&(this.cellUnit=o.cellUnit)}}},{key:"_createHeaders",value:function(){var e=[],t=this.localeDayjs(new Date(this.startDate)),r=this.localeDayjs(new Date(this.endDate)),n=t;if(this.showAgenda)e.push({time:n.format(s),nonWorkingTime:!1});else if(1===this.cellUnit){0===t.hour()&&(t=t.add(this.config.dayStartFrom,"hours")),0===r.hour()&&(r=r.add(this.config.dayStopTo,"hours")),n=t;for(var o=-1;n>=t&&n<=r;)if(n.hour()!==o){o=n.hour();for(var i=this.getMinuteStepsInHour(),c=0;c<i;c+=1){var l=n.hour();if(l>=this.config.dayStartFrom&&l<=this.config.dayStopTo){var u=n.format(s),d=this.behaviors.isNonWorkingTimeFunc(this,u);e.push({time:u,nonWorkingTime:d})}n=n.add(this.config.minuteStep,"minutes")}}else n=n.add(1,"hours")}else if(0===this.cellUnit)for(;n>=t&&n<=r;){var f=n.format(s),h=n.day();if(this.config.displayWeekend||0!==h&&6!==h){var v=this.behaviors.isNonWorkingTimeFunc(this,f);e.push({time:f,nonWorkingTime:v})}n=n.add(1,"days")}else if(2===this.cellUnit)for(;n>=t&&n<=r;){var p=n.format(a);e.push({time:p}),n=n.add(1,"weeks").startOf("isoWeek")}else if(3===this.cellUnit)for(;n>=t&&n<=r;){var m=n.format(a);e.push({time:m}),n=n.add(1,"months").startOf("month")}else if(4===this.cellUnit)for(;n>=t&&n<=r;){var y=n.format(a);e.push({time:y}),n=n.add(1,"years").startOf("year")}this.headers=e}},{key:"_createInitHeaderEvents",value:function(e){var t,r=this.localeDayjs(new Date(e.time)),n=r.format(s);if(this.showAgenda){var o=Wt(Wt(Wt(Wt(Wt({},c.Day,"days"),c.Week,"weeks"),c.Month,"months"),c.Year,"years"),c.Quarter,"quarters")[this.viewType]||"days";t="days"===o?this.localeDayjs(new Date(this.endDate)).add(1,"days").format(s):r.add(1,o).format(s)}else{var i=Wt(Wt(Wt(Wt({},1,"minutes"),2,"weeks"),3,"months"),4,"years")[this.cellUnit]||"days";t=r.add("minutes"===i?this.config.minuteStep:1,i).format(4===this.cellUnit||3===this.cellUnit||2===this.cellUnit?a:s)}return{time:e.time,nonWorkingTime:e.nonWorkingTime,start:n,end:t,count:0,addMore:0,addMoreIndex:0,events:Array(3)}}},{key:"_createHeaderEvent",value:function(e,t,r){return{render:e,span:t,eventItem:r}}},{key:"_getEventSlotId",value:function(e){return this.isEventPerspective?this._getEventGroupId(e):e.resourceId}},{key:"_getEventGroupId",value:function(e){return e.groupId?e.groupId.toString():e.id.toString()}},{key:"_getEventGroupName",value:function(e){return e.groupName?e.groupName:e.title}},{key:"_generateEventGroups",value:function(){var e=this,t=[],r=new Set;this.events.forEach(function(n){var o=e._getEventGroupId(n),i=e._getEventGroupName(n);r.has(o)||(t.push({id:o,name:i,state:n}),r.add(o))}),this.eventGroups=t}},{key:"_createInitRenderData",value:function(e,t,r,n){var o=this,i=e?t:r,a=[],s=new Map;i.forEach(function(e){var t,r=n.map(function(e){return o._createInitHeaderEvents(e)}),i=Mt(Mt({},e),{},{slotId:e.id,slotName:e.name,slotTitle:e.title,parentId:e.parentId,groupOnly:e.groupOnly,hasSummary:!1,rowMaxCount:0,rowHeight:0!==o.config.nonAgendaSlotMinHeight?o.config.nonAgendaSlotMinHeight:o.config.eventItemLineHeight+2,headerItems:r,indent:0,hasChildren:!1,expanded:!0,render:!0}),c=e.id;s.has(c)?(t=s.get(c)).data=i:(t={data:i,children:[]},s.set(c,t));var l,u=e.parentId;u&&u!==c?(s.has(u)?l=s.get(u):(l={data:void 0,children:[]},s.set(u,l)),l.children.push(t)):a.push(t)});var c,l=[];for(c=a.length-1;c>=0;c-=1)l.push(a[c]);for(var u,d=[];l.length>0;)for((u=l.pop()).data.indent>0&&(u.data.render=this.config.defaultExpanded),u.children.length>0&&(u.data.hasChildren=!0,u.data.expanded=this.config.defaultExpanded),d.push(u.data),c=u.children.length-1;c>=0;c-=1)u.children[c].data.indent=u.data.indent+1,l.push(u.children[c]);return d}},{key:"_getSpan",value:function(e,t,r){if(this.showAgenda)return 1;var n=function(e,t,r){if(("days"===r||"day"===r)&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth())return 1;var n;switch(r){case"days":case"day":n=864e5;break;case"minutes":case"minute":n=6e4;break;default:return 0}var o=e.getTime(),i=(t.getTime()-o)/n;return i<0?0:i},o=new Date(e),i=new Date(t),a=0,s=new Date(this.startDate),l=new Date(this.endDate);if(s.setHours(0,0,0,0),l.setHours(23,59,59),this.viewType===c.Day){if(r.length>0){var u=new Date(r[0].time);u.getDate()>o.getDate()&&u.getDate()<i.getDate()?a=1440/this.config.minuteStep:u.getDate()>o.getDate()&&u.getDate()===i.getDate()?a=Math.ceil(n(u,i,"minutes")/this.config.minuteStep):u.getDate()===o.getDate()&&u.getDate()<i.getDate()?(u.setHours(23,59,59),a=Math.ceil(n(o,u,"minutes")/this.config.minuteStep)):(u.getDate()===o.getDate()&&u.getDate()===i.getDate()||i.getDate()===o.getDate())&&(a=Math.ceil(n(o,i,"minutes")/this.config.minuteStep))}}else if(this.viewType===c.Week||this.viewType===c.Month||this.viewType===c.Quarter||this.viewType===c.Year){var d=s<o?o:s,f=l>i?i:l;a=Math.ceil(n(d,f,"days"))}else{0===this.cellUnit&&(i.setHours(23,59,59),o.setHours(0,0,0,0));var h=0===this.cellUnit?"days":"minutes",v=0===this.cellUnit?1:this.config.minuteStep;a=s>=o&&i<=l?Math.ceil(n(s,i,h)/v):s>o&&i>l?Math.ceil(n(s,l,h)/v):s<=o&&i>=l?Math.ceil(n(o,l,h)/v):Math.ceil(n(o,i,h)/v)}return a}},{key:"_validateResource",value:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("Resources should be Array object");e.forEach(function(e,t){if(void 0===e)throw console.error("Resource undefined: ".concat(t)),new Error("Resource undefined: ".concat(t));if(void 0===e.id||void 0===e.name)throw console.error("Resource property missed",t,e),new Error("Resource property undefined: ".concat(t))})}},{key:"_validateEventGroups",value:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("Event groups should be Array object");e.forEach(function(e,t){if(void 0===e)throw console.error("Event group undefined: ".concat(t)),new Error("Event group undefined: ".concat(t));if(void 0===e.id||void 0===e.name)throw console.error("Event group property missed",t,e),new Error("Event group property undefined: ".concat(t))})}},{key:"_validateEvents",value:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("Events should be Array object");e.forEach(function(e,t){if(void 0===e)throw console.error("Event undefined: ".concat(t)),new Error("Event undefined: ".concat(t));if(void 0===e.id||void 0===e.resourceId||void 0===e.title||void 0===e.start||void 0===e.end)throw console.error("Event property missed",t,e),new Error("Event property undefined: ".concat(t))})}},{key:"_validateMinuteStep",value:function(e){if(60%e!=0)throw console.error("Minute step is not set properly - 60 minutes must be divisible without remainder by this number"),new Error("Minute step is not set properly - 60 minutes must be divisible without remainder by this number")}},{key:"_compare",value:function(e,t){var r=this.localeDayjs(e.start),n=this.localeDayjs(t.start);if(r!==n)return r<n?-1:1;var o=this.localeDayjs(e.end),i=this.localeDayjs(t.end);return o!==i?o<i?-1:1:e.id<t.id?-1:1}},{key:"_createRenderData",value:function(){var e=this,t=this._createInitRenderData(this.isEventPerspective,this.eventGroups,this.resources,this.headers),r=this.getCellMaxEvents();this.events.forEach(function(n){var o=t.filter(function(t){return t.slotId===e._getEventSlotId(n)});if(o.length>0){var i=o[0],a=e._getSpan(n.start,n.end,e.headers),s=new Date(n.start),c=new Date(n.end),l=-1;i.headerItems.forEach(function(t,o){var u=new Date(t.start);if(new Date(t.end)>s&&u<c){if(t.count+=1,t.count>i.rowMaxCount){i.rowMaxCount=t.count;var d=(r<=30&&i.rowMaxCount>r?r:i.rowMaxCount)*e.config.eventItemLineHeight+(e.config.creatable&&!1===e.config.checkConflict?20:2);d>i.rowHeight&&(i.rowHeight=d)}if(-1===l){for(var f=0;void 0!==t.events[f];)f+=1;l=f}var h=u<=s||0===o;if(!1===h){var v=i.headerItems[o-1],p=new Date(v.start);(new Date(v.end)<=s||p>=c)&&(h=!0)}t.events[l]=e._createHeaderEvent(h,a,n)}})}}),(r<=30||void 0!==this.behaviors.getSummaryFunc)&&t.forEach(function(t){var n=!1;if(t.headerItems.forEach(function(o){if(r<=30){for(var i=0,a=0,s=0;s<r-1;)void 0!==o.events[s]&&(i+=1,a=s+1),s+=1;void 0!==o.events[s]?i+1<o.count&&(o.addMore=o.count-i,o.addMoreIndex=a):i<o.count&&(o.addMore=o.count-i,o.addMoreIndex=a)}if(void 0!==e.behaviors.getSummaryFunc){var c=[];o.events.forEach(function(e){e&&e.eventItem&&c.push(e.eventItem)}),o.summary=e.behaviors.getSummaryFunc(e,c,t.slotId,t.slotName,o.start,o.end),o.summary&&void 0!==o.summary.text&&(n=!0)}}),t.hasSummary=n,n){var o=((r<=30&&t.rowMaxCount>r?r:t.rowMaxCount)+1)*e.config.eventItemLineHeight+(e.config.creatable&&!1===e.config.checkConflict?20:2);o>t.rowHeight&&(t.rowHeight=o)}}),this.renderData=t}},{key:"_startResizing",value:function(){this.resizing=!0}},{key:"_stopResizing",value:function(){this.resizing=!1}},{key:"_isResizing",value:function(){return this.resizing}}],t&&At(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),Lt=r(329),zt=r(8e3),Ft=r(4024),Yt=r(7356),qt=r(6984),Bt=r(4716);function Gt(e){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(e)}function Ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(r),!0).forEach(function(t){Vt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Vt(e,t,r){return(t=function(e){var t=function(e){if("object"!=Gt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Gt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $t(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$t(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Jt=Ft.Ay.Button,Kt=Ft.Ay.Group,Zt=i.forwardRef(function(e,t){var r,n=e.onViewChange,o=e.goNext,s=e.goBack,c=e.onSelectDate,l=e.schedulerData,u=e.leftCustomHeader,d=e.rightCustomHeader,v=e.style,p=Qt((0,i.useState)(!1),2),m=p[0],y=p[1],g=Qt((0,i.useState)(!1),2),b=g[0],D=g[1],E=Qt((0,i.useState)(!1),2),S=E[0],x=E[1],O=l.viewType,I=l.showAgenda,k=l.isEventPerspective,T=l.config,P=l.getDateLabel(),C=l.getSelectedDate(),R=null===(r=l.getCalendarPopoverLocale())||void 0===r||null===(r=r.default)||void 0===r?void 0:r.Calendar,H="".concat(O).concat(I?1:0).concat(k?1:0),M=(0,i.useRef)(!0);(0,i.useEffect)(function(){return function(){M.current=!1}},[]);var W=function(e,t,r){var n=t?T.viewChangeSpinEnabled:T.dateChangeSpinEnabled,o=t?y:D;n&&o(!0);var i=function(){try{void 0!==r?e(r):e()}finally{n&&M.current&&o(!1)}};n?setTimeout(i,T.schedulerHeaderEventsFuncsTimeoutMs):i()},A=(0,j.jsx)("div",{className:"rbs-popover-calendar",children:(0,j.jsx)(Yt.A,{locale:R,defaultValue:mt()(C),fullscreen:!1,onSelect:function(e){x(!1),W(c,!1,e.format(a))}})}),_=T.views.map(function(e){return(0,j.jsx)(Jt,{value:"".concat(e.viewType).concat(e.showAgenda?1:0).concat(e.isEventPerspective?1:0),children:(0,j.jsx)("span",{style:{margin:"0px 8px"},children:e.viewName})},"".concat(e.viewType).concat(e.showAgenda?1:0).concat(e.isEventPerspective?1:0))});return(0,j.jsxs)(f.A,{ref:t,gutter:[10,10],align:"middle",justify:"space-between",style:Xt({},v),children:[u,(0,j.jsx)(h.A,{children:(0,j.jsx)("div",{className:"header2-text",children:(0,j.jsxs)(qt.A,{children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(Lt.A,{style:{marginRight:"8px"},className:"icon-nav",onClick:function(){return W(s,!1)}}),T.calendarPopoverEnabled?(0,j.jsx)(w.A,{content:A,placement:"bottomLeft",trigger:"click",open:S,onOpenChange:x,overlayClassName:"scheduler-header-popover",children:(0,j.jsx)("span",{className:"header2-text-label",style:{cursor:"pointer"},children:P})}):(0,j.jsx)("span",{className:"header2-text-label",children:P}),(0,j.jsx)(zt.A,{style:{marginLeft:"8px"},className:"icon-nav",onClick:function(){return W(o,!1)}})]}),(0,j.jsx)(Bt.A,{spinning:b})]})})}),(0,j.jsx)(h.A,{children:(0,j.jsxs)(qt.A,{children:[(0,j.jsx)(Bt.A,{spinning:m}),(0,j.jsx)(Kt,{buttonStyle:"solid",defaultValue:H,size:"default",onChange:function(e){return W(n,!0,e)},children:_})]})}),d]})});Zt.propTypes={onViewChange:o().func.isRequired,goNext:o().func.isRequired,goBack:o().func.isRequired,onSelectDate:o().func.isRequired,schedulerData:o().object.isRequired,leftCustomHeader:o().object,rightCustomHeader:o().object,style:o().object},Zt.displayName="SchedulerHeader";const er=Zt;var tr=r(4546),rr=r(6749);function nr(e){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(e)}function or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?or(Object(r),!0).forEach(function(t){ar(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):or(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ar(e,t,r){return(t=function(e){var t=function(e){if("object"!=nr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=nr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sr(e){return function(t){return(0,j.jsx)(tr.Q,{backend:rr.t2,children:(0,j.jsx)(e,ir({},t))})}}function cr(e){return cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(e)}function lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(r),!0).forEach(function(t){dr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dr(e,t,r){return(t=function(e){var t=function(e){if("object"!=cr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=cr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==cr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fr(e){return function(e){if(Array.isArray(e))return vr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||hr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hr(e,t){if(e){if("string"==typeof e)return vr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vr(e,t):void 0}}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function pr(e){var t,r,n,o=e.schedulerData,a=e.dndSources,s=e.parentRef,l=e.prevClick,u=e.nextClick,d=e.onViewChange,f=e.onSelectDate,h=e.leftCustomHeader,v=e.rightCustomHeader,p=e.CustomResourceHeader,m=e.configTableHeaderStyle,y=e.dependencies,g=(r=(0,i.useState)({dndContext:(t=[],t.push(new b(function(e){return e.eventItem},o.config.dragAndDropEnabled)),void 0!==a&&a.length>0&&(t=[].concat(fr(t),fr(a))),new Pe(t)),contentScrollbarHeight:17,contentScrollbarWidth:17,resourceScrollbarHeight:17,resourceScrollbarWidth:17,documentWidth:0,documentHeight:0,headerHeight:0}),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(r,n)||hr(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=g[0],D=g[1],E=(0,i.useRef)(-1),S=(0,i.useRef)(0),x=(0,i.useRef)(0),O=(0,i.useRef)(null),I=(0,i.useRef)(null),k=(0,i.useRef)(null),T=(0,i.useRef)(null),P=(0,i.useRef)(null),C=(0,i.useRef)(null),R=(0,i.useRef)(null),H=(0,i.useCallback)(function(){o._setDocumentWidth(document.documentElement.clientWidth),o._setDocumentHeight(document.documentElement.clientHeight),D(function(e){return ur(ur({},e),{},{documentWidth:document.documentElement.clientWidth,documentHeight:document.documentElement.clientHeight})})},[o]);(0,i.useEffect)(function(){if(o.isSchedulerResponsive()&&!o.config.responsiveByParent||void 0===s)return o._setDocumentWidth(document.documentElement.clientWidth),o._setDocumentHeight(document.documentElement.clientHeight),window.addEventListener("resize",H),function(){window.removeEventListener("resize",H)}},[o,s,H]),(0,i.useEffect)(function(){if(void 0!==s&&o.config.responsiveByParent&&s.current)return o._setDocumentWidth(s.current.offsetWidth),C.current=new ResizeObserver(function(){if(s.current){var e=s.current.offsetWidth,t=s.current.offsetHeight;o._setDocumentWidth(e),o._setDocumentHeight(t),D(function(r){return ur(ur({},r),{},{documentWidth:e,documentHeight:t})})}}),C.current.observe(s.current),function(){C.current&&s.current&&C.current.unobserve(s.current)}},[s,o]),(0,i.useEffect)(function(){if(void 0!==I&&o.config.responsiveByParent&&I.current)return o._setDocumentWidth(I.current.offsetWidth),o._setDocumentHeight(I.current.offsetHeight),R.current=new ResizeObserver(function(e){e.forEach(function(e){var t=e.target,r=t.getBoundingClientRect(),n=window.getComputedStyle(t),i=parseFloat(n.marginTop)||0,a=parseFloat(n.marginBottom)||0,s=r.height+i+a;o._setSchedulerHeaderHeight(s),D(function(e){return ur(ur({},e),{},{headerHeight:s})})})}),R.current.observe(I.current),function(){R.current&&I.current&&R.current.unobserve(I.current)}},[I,o]);var M=(0,i.useCallback)(function(){var e=17,t=17,r=17,n=17;T.current&&(e=T.current.offsetHeight-T.current.clientHeight,t=T.current.offsetWidth-T.current.clientWidth),k.current&&(r=k.current.offsetHeight-k.current.clientHeight,n=k.current.offsetWidth-k.current.clientWidth);var o=!1,i={};e!==w.contentScrollbarHeight&&(i=ur(ur({},i),{},{contentScrollbarHeight:e}),o=!0),t!==w.contentScrollbarWidth&&(i=ur(ur({},i),{},{contentScrollbarWidth:t}),o=!0),r!==w.resourceScrollbarHeight&&(i=ur(ur({},i),{},{resourceScrollbarHeight:r}),o=!0),n!==w.resourceScrollbarWidth&&(i=ur(ur({},i),{},{resourceScrollbarWidth:n}),o=!0),o&&D(function(e){return ur(ur({},e),i)})},[w.contentScrollbarHeight,w.contentScrollbarWidth,w.resourceScrollbarHeight,w.resourceScrollbarWidth]);(0,i.useEffect)(function(){M();var e=o.localeDayjs,t=o.behaviors;if(o.getScrollToSpecialDayjs()&&t.getScrollSpecialDayjsFunc&&T.current&&T.current.scrollWidth>T.current.clientWidth){var r=e(new Date(o.startDate)).startOf("day"),n=e(new Date(o.endDate)).endOf("day"),i=t.getScrollSpecialDayjsFunc(o,r,n);if(i>=r&&i<=n){var a=0;o.headers.forEach(function(t){var r=e(new Date(t.time));i>=r&&(a+=1)}),T.current.scrollLeft=(a-1)*o.getContentCellWidth(),o.setScrollToSpecialDayjs(!1)}}},[o,M]);var W=(0,i.useCallback)(function(){E.current=2},[]),A=(0,i.useCallback)(function(){E.current=-1},[]),_=(0,i.useCallback)(function(){2!==E.current&&-1!==E.current||T.current.scrollLeft===O.current.scrollLeft||(T.current.scrollLeft=O.current.scrollLeft)},[]),N=(0,i.useCallback)(function(){E.current=1},[]),L=(0,i.useCallback)(function(){E.current=-1},[]),z=(0,i.useCallback)(function(){k.current&&(1!==E.current&&-1!==E.current||T.current.scrollTop===k.current.scrollTop||(T.current.scrollTop=k.current.scrollTop))},[]),F=(0,i.useCallback)(function(){E.current=0},[]),Y=(0,i.useCallback)(function(){E.current=-1},[]),q=(0,i.useCallback)(function(){k.current&&(0!==E.current&&-1!==E.current||(O.current.scrollLeft!==T.current.scrollLeft&&(O.current.scrollLeft=T.current.scrollLeft),k.current.scrollTop!==T.current.scrollTop&&(k.current.scrollTop=T.current.scrollTop)));var t=e.onScrollLeft,r=e.onScrollRight,n=e.onScrollTop,i=e.onScrollBottom;T.current.scrollLeft!==S.current?(0===T.current.scrollLeft&&void 0!==t&&t(o,T.current,T.current.scrollWidth-T.current.clientWidth),Math.round(T.current.scrollLeft)===T.current.scrollWidth-T.current.clientWidth&&void 0!==r&&r(o,T.current,T.current.scrollWidth-T.current.clientWidth)):T.current.scrollTop!==x.current&&(0===T.current.scrollTop&&void 0!==n&&n(o,T.current,T.current.scrollHeight-T.current.clientHeight),Math.round(T.current.scrollTop)===T.current.scrollHeight-T.current.clientHeight&&void 0!==i&&i(o,T.current,T.current.scrollHeight-T.current.clientHeight)),S.current=T.current.scrollLeft,x.current=T.current.scrollTop},[e,o]),B=(0,i.useCallback)(function(e){var t=parseInt(e.target.value.charAt(0),10),r="1"===e.target.value.charAt(1),n="1"===e.target.value.charAt(2);d(o,{viewType:t,showAgenda:r,isEventPerspective:n})},[d,o]),G=(0,i.useCallback)(function(){u(o)},[u,o]),U=(0,i.useCallback)(function(){l(o)},[l,o]),X=(0,i.useCallback)(function(e){f(o,e)},[f,o]),V=o.viewType,Q=o.renderData,$=o.showAgenda,J=o.config,K=o.getSchedulerWidth(),Z=w.contentScrollbarHeight,ee=w.contentScrollbarWidth,te=w.resourceScrollbarHeight,re=w.resourceScrollbarWidth,ne=J.showWeekNumber,oe=J.weekNumberRowHeight,ie=(0,j.jsx)("tr",{});if($)ie=(0,j.jsx)(me,ur({},e));else{var ae,se,ce,le,ue=o.getResourceTableWidth(),de=K-(J.resourceViewEnabled?ue:0),fe=o.getContentTableWidth()-1,he=w.dndContext.getDndSource(),ve=Q.filter(function(e){return e.render}).map(function(t){return(0,i.createElement)(at,ur(ur({},e),{},{key:t.slotId,resourceEvents:t,dndSource:he,dndContext:w.dndContext}))}),pe=J.schedulerContentHeight,ye=0===te?Z:0,be=0===Z?te:0,we={overflowX:V===c.Week?"hidden":"auto",overflowY:"auto",margin:"0px",position:"relative",height:pe,paddingBottom:be},De={height:pe,overflowX:"auto",overflowY:"auto",width:ue+re-2,margin:"0px -".concat(ee,"px 0px 0px")};if(J.schedulerMaxHeight>0){var Ee=J.tableHeaderHeight+(ne?oe:0);we=ur(ur({},we),{},{maxHeight:J.schedulerMaxHeight-Ee}),De=ur(ur({},De),{},{maxHeight:J.schedulerMaxHeight-Ee})}else if(J.responsiveByParent&&o.documentHeight>0){var Se=o.getSchedulerHeight();we=ur(ur({},we),{},{height:Se}),De=ur(ur({},De),{},{height:Se})}var xe=o.isEventPerspective?J.taskName:J.resourceName;ie=(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:{display:J.resourceViewEnabled?void 0:"none",width:ue,verticalAlign:"top"},children:(0,j.jsxs)("div",{className:"resource-view",children:[(0,j.jsx)("div",{style:ur({borderBottom:"1px solid ".concat(null!==(ae=J.headerBorderColor)&&void 0!==ae?ae:"#e9e9e9"),height:J.tableHeaderHeight+(ne?oe:0)},m),children:(0,j.jsx)("div",{style:{overflowX:"scroll",overflowY:"hidden",margin:"0px 0px -".concat(Z,"px")},children:(0,j.jsx)("table",{className:"resource-table",children:(0,j.jsxs)("thead",{children:[ne&&(0,j.jsx)("tr",{style:{height:oe},children:(0,j.jsx)("th",{style:{borderBottom:"1px solid ".concat(null!==(se=J.headerBorderColor)&&void 0!==se?se:"#e9e9e9"),fontSize:"0.85em",opacity:.7,padding:"4px 8px"},children:null!==(ce=J.weekNumberLabel)&&void 0!==ce?ce:"Week No."})}),(0,j.jsx)("tr",{style:{height:J.tableHeaderHeight},children:(0,j.jsx)("th",{className:"header3-text",children:p?(0,j.jsx)(p,{}):xe})})]})})})}),(0,j.jsx)("div",{style:De,ref:k,onMouseOver:N,onFocus:N,onMouseOut:L,onBlur:L,onScroll:z,children:(0,j.jsx)(vt,ur(ur({},e),{},{contentScrollbarHeight:ye}))})]})}),(0,j.jsx)("td",{children:(0,j.jsxs)("div",{className:"scheduler-view",style:{width:de,verticalAlign:"top"},children:[(0,j.jsx)("div",{style:{overflow:"hidden",borderBottom:"1px solid ".concat(null!==(le=J.headerBorderColor)&&void 0!==le?le:"#e9e9e9"),height:J.tableHeaderHeight+(ne?oe:0)},children:(0,j.jsx)("div",{style:{overflowX:"scroll",overflowY:"hidden",margin:"0px 0px -".concat(Z,"px")},ref:O,onMouseOver:W,onFocus:W,onMouseOut:A,onBlur:A,onScroll:_,"aria-label":"Scheduler Header",children:(0,j.jsx)("div",{style:{paddingRight:"".concat(ee,"px"),width:fe+ee},children:(0,j.jsx)("table",{className:"scheduler-bg-table",children:(0,j.jsx)(Me,ur({},e))})})})}),(0,j.jsx)("div",{style:we,ref:T,onMouseOver:F,onFocus:F,onMouseOut:Y,onBlur:Y,onScroll:q,children:(0,j.jsxs)("div",{style:{width:fe},children:[(0,j.jsxs)("div",{className:"scheduler-content",children:[(0,j.jsx)(je,{dependencies:y},"".concat(o.viewType,"-").concat(o.startDate,"-").concat(o.endDate)),(0,j.jsx)("table",{className:"scheduler-content-table",children:(0,j.jsx)("tbody",{children:ve})})]}),(0,j.jsx)("div",{className:"scheduler-bg",children:(0,j.jsx)("table",{className:"scheduler-bg-table",style:{width:fe},ref:P,children:(0,j.jsx)(ge,ur({},e))})})]})})]})})]})}var Oe=(0,j.jsx)(er,{ref:I,style:{display:J.headerEnabled?void 0:"none",marginBottom:J.headerEnabled?"24px":void 0},onViewChange:B,schedulerData:o,onSelectDate:X,goNext:G,goBack:U,rightCustomHeader:v,leftCustomHeader:h});return(0,j.jsxs)("table",{id:"rbs-root",className:"rbs",style:{width:"".concat(K,"px")},children:[(0,j.jsx)("thead",{children:(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:"2",children:Oe})})}),(0,j.jsx)("tbody",{children:ie})]})}pr.propTypes={parentRef:o().object,schedulerData:o().object.isRequired,prevClick:o().func.isRequired,nextClick:o().func.isRequired,onViewChange:o().func.isRequired,onSelectDate:o().func.isRequired,onSetAddMoreState:o().func,updateEventStart:o().func,updateEventEnd:o().func,moveEvent:o().func,movingEvent:o().func,leftCustomHeader:o().object,rightCustomHeader:o().object,newEvent:o().func,subtitleGetter:o().func,eventItemClick:o().func,viewEventClick:o().func,viewEventText:o().string,viewEvent2Click:o().func,viewEvent2Text:o().string,conflictOccurred:o().func,eventItemTemplateResolver:o().func,dndSources:o().array,slotClickedFunc:o().func,toggleExpandFunc:o().func,slotItemTemplateResolver:o().func,nonAgendaCellHeaderTemplateResolver:o().func,onScrollLeft:o().func,onScrollRight:o().func,onScrollTop:o().func,onScrollBottom:o().func,CustomResourceHeader:o().func,CustomResourceCell:o().func,configTableHeaderStyle:o().object,dependencies:o().array}}}]);
//# sourceMappingURL=489.bundle.js.map